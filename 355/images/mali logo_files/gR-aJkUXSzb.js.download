if (self.CavalryLogger) { CavalryLogger.start_js(["lsBEtru"]); }

__d("XWebLoginController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/login/web/",{add_to_profile:{type:"Bool",defaultValue:!1},api_key:{type:"String"},cancel_url:{type:"String"},canvas:{type:"Exists",defaultValue:!1},channel_url:{type:"String"},connect_display:{type:"String"},crst:{type:"Bool",defaultValue:!1},cuid:{type:"String"},deact:{type:"String"},display:{type:"String"},fbconnect:{type:"String"},friend_nonce:{type:"String"},ab_test_data:{type:"String"},email:{type:"String"},pass:{type:"String"},e:{type:"Int"},encpass:{type:"String"},legacy_return:{type:"Bool",defaultValue:!1},next:{type:"String"},nopw:{type:"Bool",defaultValue:!1},popup:{type:"Exists",defaultValue:!1},req_perms:{type:"String"},return_session:{type:"Bool",defaultValue:!1},signed_next:{type:"Bool",defaultValue:!1},skip_api_login:{type:"Bool",defaultValue:!1},social_plugin:{type:"String"},social_plugin_action:{type:"String"},isprivate:{type:"Bool",defaultValue:!1},work_uid:{type:"Int"},work_nonce:{type:"String"},lgndim:{type:"String"},enable_profile_selector:{type:"Bool",defaultValue:!1},profile_selector_ids:{type:"String"},first_attempt:{type:"Exists",defaultValue:!1},relay_post_params:{type:"String"},session_version:{type:"Int"},trynum:{type:"Int"},reactivate:{type:"Exists",defaultValue:!1},ci_partner_login:{type:"Exists",defaultValue:!1},connect_id:{type:"Int"},external_page_url:{type:"String"},provider:{type:"String"},iframe_src:{type:"String"},m2w:{type:"Exists",defaultValue:!1},nothacked:{type:"Bool",defaultValue:!1},offline_access:{type:"Exists",defaultValue:!1},page_id:{type:"String"},n:{type:"String"},id:{type:"Int"},h:{type:"String"},from_contact_claiming:{type:"Bool",defaultValue:!1},login_source:{type:"String"},issuer:{type:"String"},kid_directed_site:{type:"Bool",defaultValue:!1},delete_account:{type:"String"},guid:{type:"String"},gdp_version:{type:"String"},administrative_otp:{type:"String"},request_id:{type:"String"},src:{type:"String"},privacy_mutation_token:{type:"String"}})}),null);
__d("VideoActionsMenu.react",["cx","fbt","ClickableArea.react","Clipboard","XWebLoginController","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState;function a(a){var b=a.permalinkURL,e=a.showCopyLink,f=a.showReportVideo;a=a.tabIndex;var g=k(!1),h=g[0],l=g[1];g=c("XWebLoginController").getURIBuilder().setString("next",b).getURI();var m=function(){var a=d("Clipboard").copy(b);l(a)};return j.jsx("div",{className:"_2i_w",children:j.jsxs("div",{className:"_2i_x",children:[f&&j.jsx("a",{href:g,className:"_4t9q _2iw4",tabIndex:a,children:i._("Ripoti video")}),e?j.jsx(c("ClickableArea.react"),{onClick:m,children:j.jsx("div",{className:"_8s62 _2iw4",children:h?i._("Kiungo kimenakiliwa"):i._("Nakili Kiungo")})}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoActionsControl.react",["cx","fbt","ix","AbstractButton.react","ClickableArea.react","Image.react","TooltipData","VideoActionsMenu.react","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");b=d("react");var l=b.useCallback,m=b.useState;function a(a){var b=a.disabled,e=a.onActionsClicked,f=a.permalinkURL,g=a.showCopyLink,h=a.showReportVideo;a=a.tabIndex;var n=m(!1),o=n[0],p=n[1];n=k.jsx(c("Image.react"),{className:"_rwt",src:j("621635")});var q=i._("Chaguo za kushiriki na kuripoti"),r=!b&&o;r=r?k.jsx("div",{className:"_2iw7"+(o?" _2iw8":""),children:k.jsx(c("VideoActionsMenu.react"),{permalinkURL:f,showCopyLink:g,showReportVideo:h,tabIndex:a})}):null;f=i._("Hiari");g=l(function(){p(!o),e&&e()},[o,e]);return k.jsxs("div",{className:"_2j04",children:[r,k.jsx(c("ClickableArea.react"),babelHelpers["extends"]({},d("TooltipData").propsFor(f,"above"),{onClick:g,children:k.jsx(c("AbstractButton.react"),{className:"_zbd"+(b?" _132h":""),disabled:b,image:n,label:q,labelIsHidden:!0,tabIndex:a,type:"button"})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XVideoPlaybackExperienceReportController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/playback_report/",{video_id:{type:"FBID",required:!0},issue_type:{type:"String",required:!0},is_live:{type:"Int"},playback_timestamp:{type:"Int"}})}),null);
__d("VideoSettingsMenu.react",["cx","fbt","ix","AsyncRequest","BUISwitch.react","ClickableAreaButton.react","CurrentEnvironment","Image.react","Layout.react","Link.react","MessengerEnvironment","Selector.react","URI","VideoPlayerShakaPerformanceLogger","XUIButton.react","XVideoPlaybackExperienceReportController","isFacebookURI","prop-types","react","shallowCompare"],(function(a,b,c,d,e,f,g,h,i,j){var k=d("react"),l=/(instagram)/g;function m(a){return{currentMenuContext:"main",currentFeedbackSelected:null,feedbackSubmitted:!1}}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state=m(c.props),b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.shouldComponentUpdate=function(a,b){return c("shallowCompare")(this,a,b)};d.createMenuItem=function(a,b,c,d,e,f){f===void 0&&(f=!1);var g=function(){};b&&(g=function(a){d(),a.preventDefault()});var h="_2iw4"+(b?"":" _4t7o"),i;if(e==="checkBox"){var j=null;b&&c&&(j=k.jsx("div",{className:"_2iw1"}));i=k.jsx("div",{className:"_2iw3",children:j})}else if(e==="radioButton"){j=null;b&&c&&(j=k.jsx("div",{className:"_4t7r"}));i=k.jsx("div",{className:"_4t7u",children:j})}j=a;f&&(j=k.jsxs("div",{children:[a.toString().slice(0,-1),k.jsx("div",{className:"_4t7w"})]}));return k.jsxs("a",{href:"#",className:h,onClick:g,tabIndex:this.props.tabIndex,"aria-checked":c?"true":"false",role:e==="radioButton"?"radio":"checkbox","aria-disabled":!b,children:[i,k.jsx("div",{className:"_2iw5"+(c?"":" _4t8e"),children:j})]},a)};d.$1=function(){var a=this.props,b=a.hasCaptions,d=a.areCaptionsActive;a=a.areCaptionsAutogenerated;if(!b)return null;b=i._("Manukuu");var e="_1x4f";a&&(b=i._("Manukuu Yaliyozalishwa Kiotomatiki"),e="_1x4f _6m2q");return k.jsxs(c("Layout.react"),{"aria-checked":d,className:"_2iw4 _1x4e",children:[k.jsx(c("Layout.react").FillColumn,{children:b}),k.jsx(c("Layout.react").Column,{children:k.jsx("div",{className:e,children:k.jsx(c("BUISwitch.react"),{animate:!0,showLabel:!0,value:d,onToggle:this.props.onToggleCaptions,tabIndex:this.props.tabIndex})})})]})};d.showQualitySelector=function(){return this.props.showQualitySelector===!0&&this.props.streamingFormat==="dash"&&this.props.availableQualities!=null&&this.props.availableQualities.length>=this.props.qualitySelectorMinStreams&&this.props.availableQualities.every(function(a){return!!a})};d.$2=function(){var a=this;return k.jsx(c("Link.react"),{"aria-label":"Back",role:"button",onClick:function(){return a.setState({currentMenuContext:"main",currentFeedbackSelected:null,feedbackSubmitted:!1})},children:k.jsx(c("Image.react"),{className:"_4t8f",src:j("480579")})})};d.$3=function(){var a=i._("Mipangilio Zaidi ya Video"),b=new(c("URI"))("/settings/?tab=videos"),d=b.getQualifiedURI().getSubdomain();(d==="business"||d==="partners"||d==="developers"||d==="ai"||d==="sparkar"||d==="portal")&&b.setSubdomain("www");c("isFacebookURI")(b)||b.setDomain(b.getDomain().replace(l,"facebook"));c("MessengerEnvironment").messengerui&&b.setDomain(c("CurrentEnvironment").workplacedotcom?"workplace.com":"facebook.com").setSubdomain(d).setProtocol("https");return k.jsx("a",{href:b,target:"_blank",className:"_4t9q _2iw4",tabIndex:this.props.tabIndex,children:a})};d.$4=function(){var a=this;return k.jsxs(c("Selector.react"),{name:"feedback_selector",onChange:function(b){a.setState({currentFeedbackSelected:b.value?b.value:null})},defaultValue:0,children:[k.jsx(c("Selector.react").Option,{value:0,children:i._("Nini mbaya na video hii?")}),k.jsx(c("Selector.react").Option,{value:"audio_video_sync",children:i._("Video na sauti havilandanishi")}),k.jsx(c("Selector.react").Option,{value:"video_only_stutter",children:i._("Video haiwezi kulandanishwa")}),k.jsx(c("Selector.react").Option,{value:"audio_video_stutter",children:i._("Video na sauti haviwezi kulandanisha")}),k.jsx(c("Selector.react").Option,{value:"black_screen",children:i._("Skrini imerudi")}),k.jsx(c("Selector.react").Option,{value:"video_wont_play",children:i._("Video Haitacheza")})]})};d.$5=function(){if(this.state.currentFeedbackSelected!=null&&this.state.currentFeedbackSelected!==""){var a=c("XVideoPlaybackExperienceReportController").getURIBuilder().setString("issue_type",this.state.currentFeedbackSelected).setFBID("video_id",this.props.videoID).setInt("is_live",this.props.isLive?1:0).getURI();new(c("AsyncRequest"))(a).send();this.setState({feedbackSubmitted:!0});c("VideoPlayerShakaPerformanceLogger").setVideoPlaybackExperienceIssue(this.state.currentFeedbackSelected)}};d.render=function(){var a=this,b=null,d=null,e=null,f=null,g=this.props.availableQualities;this.showQualitySelector()&&g!=null?(b=g.map(function(b){return a.createMenuItem(b,!0,b===a.props.preferredQuality,function(){var c=a.props.onSelectQuality;c&&c(b)},"radioButton",a.props.isSphericalVideo)}),b.push(this.createMenuItem(i._("Otomatiki"),this.props.canAutoSelectVideoQuality===!0,this.props.preferredQuality===null,function(){var b=a.props.onSelectQuality;b&&b(null)},"radioButton")),b.reverse(),d=k.jsx(c("ClickableAreaButton.react"),{onClick:function(){return a.setState({currentMenuContext:"quality"})},label:"Change Quality",children:k.jsx("div",{"data-testid":void 0,className:"_2iw4 _4t9t",children:k.jsxs(c("Layout.react"),{children:[k.jsx(c("Layout.react").FillColumn,{children:i._("Ubora")}),k.jsxs(c("Layout.react").Column,{className:"_4t9u",children:[this.props.preferredQuality===null?k.jsxs(k.Fragment,{children:[i._("Otomatiki"),this.props.selectedQuality!=null?k.jsxs(k.Fragment,{children:[" ",k.jsx("span",{children:this.props.selectedQuality})]}):null]}):k.jsx("span",{children:this.props.preferredQuality}),k.jsx(c("Image.react"),{className:"_4t9v",src:j("480587")})]})]})})})):f=this.createMenuItem(i._("HD"),this.props.hasHD,this.props.isHD,this.props.onToggleHD,"checkBox");e=k.jsx(c("Link.react"),{onClick:function(){return a.setState({currentMenuContext:"feedback"})},className:"_2iw4 _4t9w",children:k.jsxs(c("Layout.react"),{children:[k.jsx(c("Layout.react").FillColumn,{children:i._("Ripoti Tatizo la Video")}),k.jsx(c("Layout.react").Column,{className:"_4t9u",children:k.jsx(c("Image.react"),{className:"_4t9v",src:j("480587")})})]})});g=null;switch(this.state.currentMenuContext){case"main":g=k.jsxs("div",{className:"_2i_x",children:[f,this.$1(),d,this.$3(),e]});break;case"quality":g=k.jsxs("div",{className:"_2i_x",children:[k.jsxs("div",{className:"_4t9q",children:[this.$2(),i._("Ubora")]}),k.jsx("div",{"data-testid":void 0,className:"_4t9z",role:"radiogroup",children:b})]});break;case"feedback":g=k.jsxs("div",{className:"_2i_x",children:[k.jsxs("div",{className:"_4t9q",children:[this.$2(),i._("Ripoti Tatizo la Video")]}),k.jsxs("div",{className:"_4t9z",children:[this.state.feedbackSubmitted?null:this.$4(),this.state.feedbackSubmitted?k.jsx("div",{className:"_4t9-",children:i._("Asante kwa maoni yako!")}):k.jsx("div",{className:"_4ta3",children:k.jsx(c("XUIButton.react"),{disabled:!(this.state.currentFeedbackSelected!=null&&this.state.currentFeedbackSelected!==""),label:i._("Wasilisha"),use:"confirm",onClick:this.$5.bind(this)})})]})]});break}return k.jsxs("div",{className:"_2i_w",children:[g,k.jsx("div",{className:"_2j03"})]})};return b}(k.Component);a.defaultProps={tabIndex:"-1",availableQualities:null,selectedQuality:null,preferredQuality:null,canAutoSelectVideoQuality:!1,showQualitySelector:!1,qualitySelectorMinStreams:2,streamingFormat:null,onSelectQuality:function(){}};a.propTypes={areCaptionsActive:c("prop-types").bool,areCaptionsAutogenerated:c("prop-types").bool,hasHD:c("prop-types").bool,hasCaptions:c("prop-types").bool,isHD:c("prop-types").bool,isLive:c("prop-types").bool,isSphericalVideo:c("prop-types").bool,onToggleHD:c("prop-types").func,onToggleCaptions:c("prop-types").func,tabIndex:c("prop-types").string,availableQualities:c("prop-types").array,selectedQuality:c("prop-types").string,preferredQuality:c("prop-types").string,canAutoSelectVideoQuality:c("prop-types").bool,onSelectQuality:c("prop-types").func,showQualitySelector:c("prop-types").bool,qualitySelectorMinStreams:c("prop-types").number,streamingFormat:c("prop-types").string};g["default"]=a}),98);
__d("VideoSettingsControl.react",["cx","fbt","ix","AbstractButton.react","ClickableArea.react","Image.react","ODS","TooltipData","TrackingNodes","VideoPlayerExperiments","VideoPlayerQualitiesArray","VideoSettingsMenu.react","prop-types","react","shallowCompare"],(function(a,b,c,d,e,f,g,h,i,j){var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isFocus:!1},c.$1=k.createRef(),b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.shouldComponentUpdate=function(a,b){return c("shallowCompare")(this,a,b)};e.onClick=function(){!this.state.isFocus&&!this.props.disabled&&this.$1.current&&this.$1.current.showQualitySelector()&&d("ODS").bumpEntityKey(2966,"videos","quality_selector.impression"),this.setState(function(a){return{isFocus:!a.isFocus}}),this.props.onSettingsClick&&this.props.onSettingsClick()};e.getHDIndicator=function(){var a=c("VideoPlayerExperiments").showHDIndicator===!0&&!this.props.isInline&&this.props.preferredQuality===null?d("VideoPlayerQualitiesArray").isVideoQualityTypicallyConsideredHD(this.props.selectedQuality):d("VideoPlayerQualitiesArray").isVideoQualityTypicallyConsideredHD(this.props.preferredQuality);if(!a)return null;d("VideoPlayerQualitiesArray").isVideoQualityTypicallyConsideredHD4K(this.props.selectedQuality)?a="4K":a="HD";return k.jsx("span",{className:"_132c",children:a})};e.render=function(){var a=k.jsx(c("Image.react"),{className:"_rwt",src:j("391244")}),b=i._("Vielelezo vya Ziada vya Mipangilio"),e=null;!this.props.disabled&&this.state.isFocus&&(e=k.jsx("div",{className:"_2iw7"+(this.state.isFocus?" _2iw8":""),children:k.jsx(c("VideoSettingsMenu.react"),{areCaptionsActive:this.props.areCaptionsActive,areCaptionsAutogenerated:this.props.areCaptionsAutogenerated,hasHD:this.props.hasHD,hasCaptions:this.props.hasCaptions,isHD:this.props.isHD,isLive:this.props.isLive,isSphericalVideo:this.props.isSphericalVideo,onToggleHD:this.props.onToggleHD,onToggleCaptions:this.props.onToggleCaptions,tabIndex:this.props.tabIndex,availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,preferredQuality:this.props.preferredQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,videoID:this.props.videoID,ref:this.$1})}));var f=this.getHDIndicator(),g="_zbd"+(this.props.disabled?" _132h":""),h=i._("Mipangilio");g=k.jsx(c("AbstractButton.react"),{className:g,disabled:this.props.disabled,image:a,label:b,labelIsHidden:!0,ref:"button",tabIndex:this.props.tabIndex,type:"button"});a=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.VIDEO_SETTINGS);return k.jsxs("div",{className:"_2j04","data-ft":a,children:[e,k.jsx(c("ClickableArea.react"),babelHelpers["extends"]({},d("TooltipData").propsFor(h,"above"),{onClick:this.onClick.bind(this),children:k.jsxs("div",{"data-testid":void 0,children:[g,f]})}))]})};return b}(k.Component);a.defaultProps={tabIndex:"-1"};a.propTypes={disabled:c("prop-types").bool,hasHD:c("prop-types").bool,hasCaptions:c("prop-types").bool,isHD:c("prop-types").bool,isInline:c("prop-types").bool,isLive:c("prop-types").bool,isSphericalVideo:c("prop-types").bool,areCaptionsActive:c("prop-types").bool,areCaptionsAutogenerated:c("prop-types").bool,onToggleHD:c("prop-types").func,onToggleCaptions:c("prop-types").func,tabIndex:c("prop-types").string,availableQualities:c("prop-types").array,selectedQuality:c("prop-types").string,canAutoSelectVideoQuality:c("prop-types").bool,onSelectQuality:c("prop-types").func,showQualitySelector:c("prop-types").bool,qualitySelectorMinStreams:c("prop-types").number,streamingFormat:c("prop-types").string};g["default"]=a}),98);