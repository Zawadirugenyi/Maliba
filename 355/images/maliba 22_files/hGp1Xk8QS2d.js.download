if (self.CavalryLogger) { CavalryLogger.start_js(["6HRHa\/x"]); }

__d("VideoDuration.react",["cx","fbt","ix","DurationFormatter","FlexLayout.react","Image.react","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=null;this.props.isSpherical&&(a=k.jsx(c("Image.react"),{className:"__lq",src:j("501720")}));if(this.props.isLive)return this.props.liveViewerCount?k.jsxs(c("FlexLayout.react"),{className_DO_NOT_USE:"_7p9t",children:[k.jsx(c("FlexLayout.react"),{className_DO_NOT_USE:"_7p9w",align:"center",children:i._("LIVE")}),k.jsx(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_7p9y",children:k.jsx("span",{children:this.props.liveViewerCount})})]}):k.jsxs(c("FlexLayout.react"),{className_DO_NOT_USE:"_2pq9",align:"center",children:[a,i._("LIVE")]});return this.props.duration?k.jsxs(c("FlexLayout.react"),{className_DO_NOT_USE:"_2pq8",align:"center",children:[a,k.jsx("span",{children:d("DurationFormatter").formatShort(this.props.duration)})]}):null};return b}(k.Component);g["default"]=a}),98);
__d("TahoeEndScreenProgressCircle.react",["cx","ReactDOM","Style","clearInterval","prop-types","react","setInterval"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=0,c.$3=0,b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$3=this.$2,this.drawProgressCircle(this.props)};e.componentWillUnmount=function(){c("clearInterval")(this.$1)};e.UNSAFE_componentWillReceiveProps=function(a){(a.makeProgress!==this.props.makeProgress||a.timeoutSec!==this.props.timeoutSec)&&this.drawProgressCircle(a)};e.drawProgressCircle=function(a){var b=this;c("clearInterval")(this.$1);var e=d("ReactDOM").findDOMNode(this.refs.progressCircle);if(!e)return;if(a.timeoutSec===0){c("Style").set(e,"stroke-dashoffset",this.$2+"px");return}var f=this.$2/100;c("Style").set(e,"stroke-dashoffset",this.$3+"px");a.makeProgress&&(this.$1=c("setInterval")(function(){b.$3-=f,c("Style").set(e,"stroke-dashoffset",b.$3+"px"),b.$3<=0&&(c("clearInterval")(b.$1),c("Style").set(e,"stroke-dashoffset","0px"),a.onProgressDone&&a.onProgressDone())},a.timeoutSec*10))};e.render=function(){var a=this.props,b=a.circleDiameter,c=a.strokeWidth;a=a.inlineBlock;var d=b/2,e=d-c/2;this.$2=e*2*Math.PI;return i.jsxs("div",{className:"_3was",children:[i.jsxs("svg",{className:"_4bcw"+(a?" _7cis":""),style:{height:b,width:b},children:[i.jsx("circle",{cx:d,cy:d,r:d,fill:this.props.ringColor}),i.jsx("circle",{ref:"progressCircle",cx:d,cy:d,r:e,fill:this.props.circleColor,stroke:this.props.ringProgressColor,strokeWidth:c,strokeDasharray:this.$2})]}),this.props.children]})};return b}(i.Component);a.propTypes={children:c("prop-types").element,makeProgress:c("prop-types").bool.isRequired,onProgressDone:c("prop-types").func,timeoutSec:c("prop-types").number.isRequired};a.defaultProps={circleDiameter:48,circleColor:"transparent",inlineBlock:!1,ringColor:"rgba(0, 0, 0, 0.3)",ringProgressColor:"#ffffff",strokeWidth:4};g["default"]=a}),98);
__d("TahoeEndscreenVideoViewportTracking",["csx","StreamViewportTracking"],(function(a,b,c,d,e,f,g,h){"use strict";var i="tahoe_up_next_videos",j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getTimetrackingDataToLog=function(a){a=b.prototype.getTimetrackingDataToLog.call(this,a);a.ft.tracking_source=i;return a};return a}(c("StreamViewportTracking"));function a(a,b,d){b=new j(c("StreamViewportTracking").getBehavior(a,b,"._1iwg",d));b.init(a);return b}g.setup=a}),98);
__d("VideoHomePermalinkInjectionTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NONE:0,QUICKLING:1,RELOAD:2});b=a;f["default"]=b}),66);
__d("TahoeGridViewEndScreenItem.react",["cx","fbt","CssBackgroundImage.react","LineClamp.react","Link.react","UFIReactionsBlingTokens.react","URI","VideoDuration.react","VideoHomePermalinkInjectionTypes","XUIText.react","XVideoHomeFeedController","gkx","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=3,l=16/9;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this,b=this.props,d=b.id,e=b.permalink,f=b.thumbURI,g=b.imageWidth,h=b.title,m=b.viewCount,n=b.feedback,o=b.duration,p=b.isLive,q=b.isSpherical,r=b.style,s=b.ftKey,t=b.permalinkInjectionVersion;if(g<=0)return null;b=n&&n.reactioncount;b=b&&b>0;var u=c("gkx")("678922");e=t===c("VideoHomePermalinkInjectionTypes").NONE?new(c("URI"))(e):t===c("VideoHomePermalinkInjectionTypes").QUICKLING?c("XVideoHomeFeedController").getURIBuilder().setString("v",d.toString()).getURI():null;return j.jsx("div",{className:"_1iwg"+(u?" _6p3t":""),"data-ft":s,style:r,children:j.jsx(c("Link.react"),{href:e,onClick:function(){a.props.logEvent("grid_view_end_screen_click_video");if(t===c("VideoHomePermalinkInjectionTypes").RELOAD){var b=c("XVideoHomeFeedController").getURIBuilder().setString("v",d).getURI();c("URI").go(b,!0)}},children:j.jsxs("div",{className:"_1iwh",children:[j.jsx(c("CssBackgroundImage.react"),{height:g/l,width:g,imageURI:f,backgroundPosition:"50% 50%",className:"_6rcn"}),j.jsx("div",{className:"_1iwj"}),j.jsxs("div",{className:"_6p3u",children:[h?j.jsx("div",{className:"_64dj _6p3v _1iw-",children:j.jsx(c("LineClamp.react"),{lines:2,fitHeightToShorterText:!0,children:j.jsx(c("XUIText.react"),{size:"header4",weight:"bold",children:h})})}):null,j.jsxs("div",{className:"_64dn _6p3v",children:[m>0?j.jsx(c("XUIText.react"),{size:"meta1",className:"_64dj _2pii",children:i._({"*":"Mionekano {number}","_1":"Mwonekano 1"},[i._plural(m,"number",c("intlSummarizeNumber")(m))])}):null,b&&n?j.jsx("div",{className:"_4ar- _64do _64dj",children:j.jsx(c("UFIReactionsBlingTokens.react"),{feedback:n,max:k,size:"16",noLinks:!0,children:j.jsx("div",{children:n.reactioncountreduced})})}):null,j.jsx("div",{className:"_2exg _6p3v",children:j.jsx(c("VideoDuration.react"),{duration:o,isLive:p,isSpherical:q})})]})]})]})})})};return b}(j.Component);g["default"]=a}),98);
__d("TahoeGridViewEndScreen.react",["csx","cx","fbt","CenteredContainer.react","DOMQuery","Image.react","ReactDOM","ResizeListener","Tahoe","TahoeEndscreenVideoViewportTracking","TahoeGridViewEndScreenItem.react","VideoHomePermalinkInjectionTypes","react","shallowCompare"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=97,m=800,n=500,o=.6,p=16/9,q=44,r=98,s=8;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=null,c.$4=c.getAdjustedPermalinkInjectionVersion(),c.state={colCount:0,rowCount:0,itemWidth:0,rootHorizPadding:q},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.getAdjustedPermalinkInjectionVersion=function(){var a;return((a=c("Tahoe").get())==null?void 0:a.getVideoPlayerOrigin())==="video_home"?c("VideoHomePermalinkInjectionTypes").NONE:c("VideoHomePermalinkInjectionTypes").RELOAD};e.componentDidMount=function(){var a=this;this.$2=c("ResizeListener").add(function(){return a.$5()});this.$5();this.props.logEvent("grid_view_end_screen_shown")};e.componentWillUnmount=function(){this.$2&&this.$2.remove(),this.$3!=null&&this.$3.cleanup()};e.shouldComponentUpdate=function(a,b){return c("shallowCompare")(this,a,b)};e.componentDidUpdate=function(){var a=this.props.viewportTrackingConfig,b=this.$1!=null&&d("ReactDOM").findDOMNode(this.$1);if(!(b instanceof Element))return;if(this.$3==null&&a!=null&&this.state.colCount>0&&this.state.rowCount>0){b=d("DOMQuery").find(b,"._8g3g");b!=null&&(this.$3=d("TahoeEndscreenVideoViewportTracking").setup(a,b,l))}};e.render=function(){var a=this,b=this.props.videosData;if(b.length===0)return this.$6();var d=this.$7(),e=this.state.colCount*this.state.rowCount,f=j._("Video Bora kutoka Watch"),g=j._("Video Zaidi kwenye Watch");return k.jsx(c("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0,ref:function(b){a.$1=b},style:{padding:"0 "+this.state.rootHorizPadding/2+"px"},children:k.jsx(k.Fragment,{children:b?k.jsxs("div",{className:"_8g3g",children:[k.jsx("div",{className:"_2oqk _2pip",children:this.props.shouldShowNewTitle?g:f}),b.slice(0,e).map(function(b){return a.$8(b,d)})]}):null})})};e.$6=function(){return k.jsx(c("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0,children:k.jsx("div",{className:"_2gqa",children:k.jsx(c("Image.react"),{onClick:this.props.onReplay,src:"/images/video/channel_view/replay.svg"})})})};e.$5=function(){var a=this.$1&&d("ReactDOM").findDOMNode(this.$1);if(!a||!a instanceof Element)return;var b=this.props.videosData.length;if(b===0)return;var c=a.clientWidth;a=a.clientHeight;b=this.$9(b,c,a);var e=b.colCount;b=b.rowCount;c=this.$10(e,b,c,a);this.setState({colCount:e,rowCount:b,itemWidth:c})};e.$9=function(a,b,c){return b>=m&&c>=n&&a>=9?{colCount:3,rowCount:3}:a>=4?{colCount:2,rowCount:2}:{colCount:1,rowCount:1}};e.$10=function(a,b,c,d){if(a===1)return c*o;var e=c-q;d=d-r;e=Math.min(e/a,d/b*p);d=c-e*a;this.setState({rootHorizPadding:d});e-=s;return isNaN(e)?0:e};e.$8=function(a,b){var d=a.id,e=a.permalink,f=a.thumbURI,g=a.ftKey;return!d||!e||!f?null:k.createElement(c("TahoeGridViewEndScreenItem.react"),babelHelpers["extends"]({},a,{ftKey:g,key:d,imageWidth:this.state.itemWidth,style:b,logEvent:this.props.logEvent,permalinkInjectionVersion:this.$4}))};e.$7=function(){var a=this.state,b=a.colCount;a=a.rowCount;b=b!==0?(100/b).toString()+"%":"0";a=a!==0?(100/a).toString()+"%":"0";return{width:b,maxHeight:a}};return b}(k.Component);g["default"]=a}),98);
__d("TahoeUpNextOverlay.react",["cx","fbt","ix","Badge.react","CenteredContainer.react","CssBackgroundImage.react","Image.react","Layout.react","LineClamp.react","Link.react","Tahoe","TahoeEndScreenProgressCircle.react","URI","VideoDuration.react","XUIGrayText.react","XUIText.react","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=145,m=257,n=52;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!0},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this,b=this.props,d=b.dismissString,e=b.ownerName,f=b.thumbURI,g=b.title,h=b.viewCount,o=b.duration,p=b.isLive;b=b.isSpherical;var q=this.props.shouldAutoChain&&this.state.shown;return k.jsxs(c("Layout.react"),{className:"_64gd"+(q?"":" _1yks"),children:[k.jsx(c("Layout.react").Column,{children:k.jsxs(c("Link.react"),{onClick:function(){return a.$1(!1)},children:[k.jsx(c("CssBackgroundImage.react"),{height:l,width:m,imageURI:f,backgroundPosition:"50% 50%",className:"_6rcn"}),k.jsx(c("CenteredContainer.react"),{className:"_4m5g",horizontal:!0,vertical:!0,fullHeight:!0,children:k.jsxs("div",{className:"_4m83",children:[k.jsx(c("TahoeEndScreenProgressCircle.react"),{makeProgress:q&&this.props.makeProgress,circleDiameter:n,onProgressDone:function(){return a.$1(!0)},timeoutSec:this.props.countdownTimeoutSec,children:k.jsx(c("Image.react"),{className:"_4m8c",src:j("101657")})}),k.jsx("div",{className:"_4m8d",children:i._("IFUATAYO")})]})}),o?k.jsx("div",{className:"_4m8e",children:k.jsx(c("VideoDuration.react"),{isLive:p,isSpherical:b,duration:o})}):null]})}),k.jsxs(c("Layout.react").FillColumn,{className:"_64ge",children:[k.jsxs("div",{className:"_64gf",children:[g?k.jsx("div",{className:"_64gj",children:k.jsx(c("Link.react"),{onClick:function(){return a.$1(!1)},children:k.jsx(c("LineClamp.react"),{lines:3,fitHeightToShorterText:!0,enableTooltipOnOverflow:!0,children:k.jsx(c("XUIText.react"),{size:"header4",weight:"bold",children:g})})})}):null,e?k.jsx("div",{className:"_2pim",children:k.jsxs(c("LineClamp.react"),{lines:1,enableTooltipOnOverflow:!0,children:[k.jsx(c("XUIGrayText.react"),{size:"meta1",children:e}),this.$2()]})}):null,h>0?k.jsx(c("XUIGrayText.react"),{display:"block",size:"meta1",children:i._({"*":"Mionekano {number}","_1":"Mwonekano 1"},[i._plural(h,"number",c("intlSummarizeNumber")(h))])}):null]}),k.jsx("div",{className:"_64gk",children:k.jsxs(c("Link.react"),{onClick:function(){return a.$3()},children:[k.jsx(c("Image.react"),{className:"_64gl",src:j("368787")}),k.jsx(c("XUIText.react"),{className:"_64gl _2pir",size:"header3",children:d?d:i._("Katisha")})]})})]})]})};d.$3=function(){this.$4(),this.props.onDismiss()};d.$1=function(a){this.$4();if(a&&!this.props.shouldAutoChain)return;var b=c("Tahoe").get();b&&b.setPlayReason(a?"autoplay_initiated":"user_initiated");b=this.props.permalink;b&&c("URI").go(b)};d.$4=function(){this.setState({shown:!1})};d.$2=function(){var a=this.props,b=a.isOwnerBlueVerified;a=a.isOwnerGrayVerified;return!b&&!a?null:k.jsx("span",{className:"_3h80",children:b?k.jsx(c("Badge.react"),{size:"small",type:"verified"}):k.jsx(c("Badge.react"),{size:"small",type:"page_gray_check"})})};return b}(k.Component);g["default"]=a}),98);
__d("XTahoeVideoDataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/video_data/",{current_video_id:{type:"FBID"},video_ids:{type:"FBIDSet",required:!0}})}),null);
__d("TahoeUpNextOverlayAndEndScreen.react",["cx","Arbiter","AsyncRequest","SubscriptionsHandler","TahoeGridViewEndScreen.react","TahoeUpNextOverlay.react","XTahoeVideoDataAsyncController","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={upNextOverlayVideoData:null,videosData:[],makeProgress:!0,isUpNextOverlayDismissed:!1,isVideoFinished:c.props.vpc.getState()==="finished",isInTahoe:c.props.vpc.getSource()==="tahoe",isCommentBoxFocused:!1,isQualityVideolistVideo:!1},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.componentDidMount=function(){var a=this;this.props.videoIDs.length>0&&this.$3();this.$1=new(c("SubscriptionsHandler"))();this.$1.addSubscriptions(this.props.vpc.addListener("stateChange",function(){return a.$4()}));this.$1.addSubscriptions(this.props.vpc.addListener("TahoeController/exitTahoe",function(){a.setState({isInTahoe:!1})}));this.$1.addSubscriptions(this.props.vpc.addListener("TahoeController/enterTahoe",function(){a.setState({isInTahoe:!0})}));this.$1.addSubscriptions(c("Arbiter").subscribeOnce(["UFIAddComment/focus","comment_content_change"],function(){a.setState({isCommentBoxFocused:!0}),a.props.logEvent("autochain_cancelled")}));this.props.logEvent("up_next_overlay_shown")};d.componentWillUnmount=function(){this.$2&&this.$2.abandon(),this.$1.release()};d.shouldComponentUpdate=function(a,b){return b.videosData.length!==0||b.upNextOverlayVideoData!=null};d.render=function(){if(this.state.isCommentBoxFocused||!this.props.shouldShowUpNextOverlay||!this.props.countdownTimeoutSec)return this.state.isVideoFinished&&this.state.isInTahoe?this.$5():null;var a=null;this.state.isVideoFinished&&(this.state.isUpNextOverlayDismissed||this.props.videoIDs.length===0?a=this.$5():this.props.hasCustomBackgroundForUpNextOverlay||(a=this.$6()));return i.jsxs("div",{className:"_1a5j _3htz _4ubd"+(this.state.isInTahoe?"":" hidden_elem"),children:[a,this.$7()]})};d.$3=function(){var a=this;this.$2=new(c("AsyncRequest"))(c("XTahoeVideoDataAsyncController").getURIBuilder().setFBIDSet("video_ids",this.props.videoIDs).setFBID("current_video_id",this.props.currentVideoID).getURI());this.$2.setHandler(function(b){var c;c=(c=b)!=null?(c=c.payload)!=null?c.videosData:c:c;c&&c.length>0&&a.setState({videosData:c});c=(c=b)!=null?(c=c.payload)!=null?c.isQualityVideolistVideo:c:c;c&&a.setState({isQualityVideolistVideo:c});b=(c=b)!=null?(c=c.payload)!=null?c.upNextOverlayVideoData:c:c;a.setState({upNextOverlayVideoData:b})}).send()};d.$7=function(){var a=this,b=this.state.upNextOverlayVideoData;if(b===null)return null;var d=this.props.countdownTimeoutSec;return!b||!d?null:i.jsx(c("TahoeUpNextOverlay.react"),babelHelpers["extends"]({},b,{countdownTimeoutSec:d,shouldAutoChain:!this.state.isCommentBoxFocused,makeProgress:this.state.isInTahoe&&this.state.makeProgress,onDismiss:function(){a.setState({isUpNextOverlayDismissed:!0})},logEvent:this.props.logEvent}))};d.$4=function(){var a=this.props.vpc;a=a.getState();switch(a){case"paused":this.setState({makeProgress:!1});break;case"playing":!this.state.isUpNextOverlayDismissed&&!this.state.makeProgress&&this.setState({makeProgress:!0});break;case"finished":this.setState({isVideoFinished:!0});!this.state.isUpNextOverlayDismissed&&!this.state.makeProgress&&this.setState({makeProgress:!0});break}};d.$5=function(){var a=this.props,b=a.viewportTrackingConfig,d=a.isCurrentVideoReplayable,e=a.vpc;a=a.logEvent;var f=this.state.isQualityVideolistVideo;return i.jsx("div",{className:"_3rl2 _2se8",children:i.jsx(c("TahoeGridViewEndScreen.react"),{viewportTrackingConfig:b,videosData:this.state.videosData,onReplay:d?function(){e.play("user_initiated")}:null,logEvent:a,shouldShowNewTitle:f})})};d.$6=function(){return i.jsx("div",{className:"_3rl2 _zkf"})};return b}(i.Component);g["default"]=a}),98);