if (self.CavalryLogger) { CavalryLogger.start_js(["xnysXB\/"]); }

__d("MessengerPlatformInterfaceType",[],(function(a,b,c,d,e,f){e.exports={UNKNOWN_INTERFACE:0,MESSENGER_INTERFACE:1,FB_INTERFACE:2,FB_POST_INTERFACE:3,FB_MESSAGING_INTERFACE:4,FB_COMMENT_INTERFACE:5,FB_STORIES_INTERFACE:6}}),null);
__d("PublicConversationsUnicornTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCommentFbid=function(a){this.$1.comment_fbid=a;return this};return a}();c={comment_fbid:!0};e.exports=a}),null);
__d("VideoTimestampsClicksWWWTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setIsContentTimestamp=function(a){this.$1.is_content_timestamp=a;return this};c.setLocalCommentFeedbackID=function(a){this.$1.local_comment_feedback_id=a;return this};c.setVideoTimestamp=function(a){this.$1.video_timestamp=a;return this};return a}();c={comment_id:!0,is_content_timestamp:!0,local_comment_feedback_id:!0,video_timestamp:!0};e.exports=a}),null);
__d("BusinessActorUtils.brands",["UnicodeCJK"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a===void 0&&(a="");b===void 0&&(b="");a=a.trim().charAt(0);b=b.trim().charAt(0);a=a+b;return d("UnicodeCJK").hasIdeograph(a)?b:a.toUpperCase()}g.getInitials=a}),98);
__d("ConstituentBadgeEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f,g){a=new(c("EventEmitter"))();g["default"]=a}),98);
__d("UFICommentVPVs",["MarauderLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){d("MarauderLogger").log("comment_vpv",void 0,null,"comment",b),h.has(a)||h.set(a,new Set()),h.get(a).add(b)}function b(a,b){return h.has(a)?h.get(a).has(b):!1}g.logVPV=a;g.hasLoggedVPV=b}),98);
__d("UFIAddCommentAction",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{type:"add_comment_cancel",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}}function b(a,b,c){return{type:"add_comment_change_content",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,text:b,replyFBID:c}}function c(a,b){return{type:"add_comment_retry_submit",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,comment:b}}function d(a,b,c,d){return{type:"add_comment_submit_edit",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,comment:b,commentData:c,target:d}}function e(a,b,c,d){return{type:"add_comment_submit_new",instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,comment:b,target:c,replyCommentID:d,timestamp:Date.now()}}f.cancel=a;f.changeContent=b;f.retrySubmit=c;f.submitEdit=d;f.submitNew=e}),66);
__d("UFICommentVPVDLoggingConfig",[],(function(a,b,c,d,e,f){"use strict";a=3e4;b=100;c=200;f.idleTimeout=a;f.minDurationToLog=b;f.minVisibleSize=c}),66);
__d("onCommentIsVisible",["cx","Arbiter","Parent","SubscriptionsHandler","UFICommentVPVDLoggingConfig","getFBAlphaConsoleSize","intersectionObserverEntryIsIntersecting","killswitch","observeIntersection","onViewportChanged"],(function(a,b,c,d,e,f,g,h){"use strict";var i=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],j={height:0};function a(a,b,e){var f;function g(a){return b(a)}function h(a){f!==a&&(f=a,e(a))}function k(a){if(c("intersectionObserverEntryIsIntersecting")(a)===!1)e(!1);else{var b=a.boundingClientRect,f=a.intersectionRect,g=a.rootBounds;b=b||j;f=f||j;g=g||j;f.height>=d("UFICommentVPVDLoggingConfig").minVisibleSize||f.height>=g.height/2||f.height===b.height||a.intersectionRatio>.95&&a.intersectionRatio<=1?e(!0):e(!1)}}function l(a){return d("Parent").byClass(a,"uiScrollableAreaWrap")}if(c("killswitch")("LOG_COMMENT_VPVD_USING_INTERSECTION_OBSERVER"))return c("onViewportChanged")(h,g);else{var m=function(){var b=o==null?"-44px 0px -"+c("getFBAlphaConsoleSize")().height+"px 0px":void 0;p&&p.remove();p=c("observeIntersection")(a,k,{root:o,rootMargin:b,threshold:i});n.addSubscriptions(p)},n=new(c("SubscriptionsHandler"))(),o=l(a),p=null;c("Arbiter").subscribe(["PhotoSnowlift.DATA_CHANGE","PhotoSnowlift.GO"],function(){var b=l(a);b&&b!==o&&(o=b,m())});m();var q=!1;return{remove:function(){if(q)return;q=!0;n.release()}}}}g["default"]=a}),98);
__d("UFIBusinessActorIcon.react",["cx","AppUserRoleConstants.brands","BusinessActorUtils.brands","getObjectValues","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=d("BusinessActorUtils.brands").getInitials(this.props.firstName,this.props.lastName),b=this.props.businessRole===c("AppUserRoleConstants.brands").ADMIN;return i.jsx("div",{className:c("joinClasses")(this.props.classNames,"_1rpl"),children:i.jsx("div",{align:"center",className:c("joinClasses")(this.props.textClassNames,b?"_1rpm":null),children:a})})};return b}(i.Component);a.propTypes={firstName:c("prop-types").string.isRequired,lastName:c("prop-types").string.isRequired,classNames:c("prop-types").string,textClassNames:c("prop-types").string,businessRole:c("prop-types").oneOf(c("getObjectValues")(c("AppUserRoleConstants.brands")))};g["default"]=a}),98);
__d("UFIActorIconContainer.react",["cx","ClickableArea.react","Image.react","JSResource","ShortProfiles","UFIBusinessActorIcon.react","XUISpinner.react","joinClasses","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("lazyLoadComponent")(c("JSResource")("UFIActorSelector.react").__setRef("UFIActorIconContainer.react")),k=i.jsx(c("XUISpinner.react"),{size:"large"});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={actor:null,showActorSelectorDialog:!1},c.$2=function(){c.setState(function(a){return{showActorSelectorDialog:!a.showActorSelectorDialog}})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$1(this.props.actorID)};e.componentDidUpdate=function(a){this.props.actorID!==a.actorID&&this.$1(this.props.actorID)};e.$1=function(a){var b=this;d("ShortProfiles").get(a,function(a){return b.setState({actor:a})})};e.render=function(){var a=this.state.actor;if(!a)return this.props.tinyIcon?i.jsx(c("XUISpinner.react"),{size:"small"}):k;var b;this.props.tinyIcon?b=c("joinClasses")("img UFIActorImage _3tm9",this.props.className):this.props.smallIcon?b=c("joinClasses")("img UFIActorImage _3qxe",this.props.className):b=c("joinClasses")("img UFIActorImage _54ru",this.props.className);var d=this.props.actorSelectorConfig!=null&&this.props.isLivingRoom&&this.props.overlayActorSelectorOnUFIPhoto===!0;d&&(b=c("joinClasses")("UFIActorImageWithSelector",b));d=a.isBusinessPersona?i.jsx(c("UFIBusinessActorIcon.react"),{classNames:b,firstName:a.firstName,lastName:a.lastName,textClassNames:"UFIBusinessActorIconText"}):i.jsx(c("Image.react"),{alt:a.name,className:b,src:a.thumbSrc});return this.props.actorSelectorConfig!=null&&this.props.isLivingRoom&&this.props.overlayActorSelectorOnUFIPhoto===!0?i.jsxs("div",{className:"UFIActorImageContainer",children:[i.jsx(c("ClickableArea.react"),{onClick:this.$2,children:i.jsx("div",{className:"UFIActorSelectorOverlay"})}),i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(j,babelHelpers["extends"]({},this.props.actorSelectorConfig.props,{dialogShown:this.state.showActorSelectorDialog,useUFIPhotoOverlay:!0,onActorChange:this.props.onActorChange}))}),d]}):d};return b}(i.Component);g["default"]=a}),98);
__d("HovercardLinkInterpolator",["cx","fbt","Badge.react","CommentMentionsGatingConfig","HovercardLink","Link.react","UFIActorIconContainer.react","URI","isFacebookURI","isRTL","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||b("react");function a(a,c,d,e,f,g){g===void 0&&(g=null);c=c.entity;d=d||(c.external?"_blank":null);var i=(c.external?"":"profileLink")+(c.weakreference?" weakReference":""),l=c.hashtag?a.substring(1):a;l=b("isRTL")(l)?"rtl":"ltr";var m=new(j||(j=b("URI")))(c.url);b("isFacebookURI")(m)&&m.addQueryData({hc_location:f});var n=c.shimhash?c.shimhash:null,o=!c.external&&!c.hashtag&&!c.photo&&!c.note&&!c.statusupdate&&!c.video;o=o?{"data-hovercard":b("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(c,e,c.hovercardlocation?c.hovercardlocation:f,null,g).toString()}:{};if(c.hashtag)e=k.jsxs("a",babelHelpers["extends"]({},o,{className:"_58cn",dir:l,href:m.toString(),target:d,children:[k.jsx("span",{"aria-label":h._("alama ya reli"),className:"_58cl",children:a.substring(0,1)}),k.jsx("span",{className:"_58cm",children:a.substring(1)})]}));else if(c.type==="user"&&b("CommentMentionsGatingConfig").enabled_rich_comment_mentions)e=k.jsx("div",{className:"_35mm",children:k.jsx(b("Link.react"),babelHelpers["extends"]({},o,{className:i,dir:l,href:{url:m.toString(),shimhash:n},target:d,children:k.jsxs("span",{className:"_35mo",children:[k.jsx("span",{className:"_35mp",children:k.jsx(b("UFIActorIconContainer.react"),{actorID:c.id.toString(),tinyIcon:!0})}),k.jsx("span",{className:"_35mq",children:a})]})}))});else{f=[];c.weakreference&&f.push(k.jsx("i",{className:"UFIWeakReferenceIcon"},"weakreference"));f.push(a);c.workForeignEntity&&f.push(k.jsx(b("Badge.react"),{type:"work_non_coworker"},"noncoworker"));c.dialogurl?e=k.jsx(b("Link.react"),babelHelpers["extends"]({},o,{className:i,dir:l,ajaxify:c.dialogurl,rel:"dialog",href:{url:m.toString(),shimhash:n},target:d,children:f})):e=k.jsx(b("Link.react"),babelHelpers["extends"]({},o,{className:i,dir:l,href:{url:m.toString(),shimhash:n},target:d,children:f}))}return e}e.exports=a}),null);
__d("transformTextRanges",["UnicodeUtils"],(function(a,b,c,d,e,f,g){function a(a,b,c){if(!a||!b||!c)return a;b.sort(function(a,b){return a.offset-b.offset});var e=0;for(var f=0;f<b.length;f++){b[f].offset+=e;var g=d("UnicodeUtils").substr(a,b[f].offset,b[f].length),h=d("UnicodeUtils").strlen(g),i=c(g,b[f]),j=d("UnicodeUtils").strlen(i);g!==i&&(a=d("UnicodeUtils").substr(a,0,b[f].offset)+i+d("UnicodeUtils").substr(a,b[f].offset+b[f].length),b[f].length=j,e+=j-h)}return a}g["default"]=a}),98);
__d("UFICommentUtils",["HovercardLinkInterpolator","TextDelightRange.react","UFIConstants","UFIVideoPlayerRegistry","URI","URITruncator","VideoTimestampsClicksWWWTypedLogger","react","transformTextRanges"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){d("UFIConstants").commentURLTruncationLength&&(a&&a.length>0&&(b=c("transformTextRanges")(b,a,function(a,b){b=b.entity&&(b.entity.external||b.entity.__typename==="ExternalUrl");return b?c("URITruncator")(a,d("UFIConstants").commentURLTruncationLength):a})));return b}function b(a,b,e,f,g){return function(i,j){if(j.videoTimestamp){if(f)return h.jsx("span",{children:j.entity});var k=function(a){a.preventDefault();new(c("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(j.integerTimestamp).setCommentID(e).setIsContentTimestamp(!1).log();b&&(d("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(b,j.integerTimestamp),d("UFIVideoPlayerRegistry").scrollToAvailableVideo(b));return!1};return h.jsx("a",{className:"TimestampLink",onClick:k,href:"#",children:j.entity})}else if(j.sphericalViewport){k=function(a){a.preventDefault();b&&d("UFIVideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(b,{yaw:j.yaw,pitch:j.pitch});return!1};return h.jsx("a",{onClick:k,href:"#",children:j.entity})}else if(j.sphericalViewportAndTimestamp){k=function(a){a.preventDefault();b&&(d("UFIVideoPlayerRegistry").setAvailableVideoPlayerControllerSphericalViewport(b,{yaw:j.yaw,pitch:j.pitch}),d("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(b,j.integerTimestamp));return!1};return h.jsx("a",{onClick:k,href:"#",children:j.entity})}else if(j.campaign)return h.jsx(c("TextDelightRange.react"),{campaignID:j.campaign.id,commentPrivacy:g||void 0,delightStyles:j.campaign.delight_styles,surface:"comment",children:i});else return c("HovercardLinkInterpolator")(i,j,"_blank",a,"ufi")}}function e(a){if(!a)return a;var b=[];a.forEach(function(a){b.push(babelHelpers["extends"]({},a))});return b}function f(a,b){return!a?b:new(c("URI"))(b).addQueryData("rc","p").toString()}function i(a,b,c,d){if(!a)return!1;var e=0,f,g;for(var h=0;h<a.length;h++){f=a[h];f.istranslatable&&!f.translationdata&&!d[f.id]&&e++;if(e>1)return!0;if(c[f.id]){g=b?b[f.id]:[];for(var i=0;i<g.length;i++){f=g[i];f.istranslatable&&!f.translationdata&&!d[f.id]&&e++;if(e>1)return!0}}}return!1}g.getCommentTextWithTruncatedURIs=a;g.getCommentBodyInterpolator=b;g.shallowCopyRanges=e;g.annotateProfileURIIfPublic=f;g.shouldShowTranslateAll=i}),98);
__d("UFICommentVPVDLogging",["csx","Banzai","Parent","UFICommentVPVDLoggingConfig","UFIOrderingModeStore","UFIStopWatch"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.renderedComment,e=b.comment,f=b.isLivePinnedComment;b=b.isInLiveVideoReplyMode;var g=a.contextArgs,h=a.node;a=a.stopWatch;if(a.state()===c("UFIStopWatch").COUNTING)return{state:"still visible - not logged",instanceid:g.instanceid,fbid:e.fbid,duration_ms:a.milliseconds()};var i=a.milliseconds();if(i>=0&&i<d("UFICommentVPVDLoggingConfig").minDurationToLog)return{state:"small duration - not logged",instanceid:g.instanceid,fbid:e.fbid,duration_ms:i};var j=null,k=null;if(h){h=d("Parent").byClass(h,"public/feedobject/root");if(h){var l=h.getAttribute("data-ft");l&&(j=JSON.parse(l));k=h.getAttribute("data-referrer")}}l=c("UFIOrderingModeStore").getState().get(g.instanceid);h=0;l==="live_streaming"&&(g.islivestreaming?h=1:g.isLiveVOD&&(h=2));f={comment_fbid:e.fbid,comment_id:e.id,container_module:g.location,duration_ms:i,is_live_pinned_comment:f,is_on_sponsored_story:!!g.isSponsored,is_page_comment:!!g.isPage,is_reply:!!e.parentcommentid,mf_story_key:j?j.mf_story_key:null,order_mode:l,qid:j?j.qid:null,referrer_source:k,streaming_comments_mode:h,streaming_comment_location:b?"active_reply_thread":"active_main_thread"};a.reset();c("Banzai").post("comment_vpvd",f);return babelHelpers["extends"]({state:"logged",instanceid:g.instanceid,fbid:e.fbid,duration_ms:i},f)}g.log=a}),98);
__d("UFICommentVPVDState",["invariant","Arbiter","Parent","UFICommentVPVDLogging","UFICommentVPVDLoggingConfig","UFICommentVisibilityStore","UFIRootRegistry","UFIStopWatch","UFIVisibility","UserActivity","ViewportTrackingHelper","getActiveElement","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=Object.freeze({INFOCUS:"INFOCUS",BLURRED_NEW:"BLURRED_NEW",BLURRED_INACTIVE:"BLURRED_INACTIVE",BLURRED_SNOWLIFT_OTHER:"BLURRED_SNOWLIFT_OTHER",BLURRED_UNDER_LAYER:"BLURRED_UNDER_LAYER",BLURRED_NO_NODE:"BLURRED_NO_NODE"}),j="changed",k=new(c("Arbiter"))(),l=null,m=!1,n=!1,o={};function p(a){if(!c("gkx")("676811"))return;console.table&&console.table([{isFocusInLayer:m,isSnowliftOpen:n,userIsActive:c("UserActivity").isActive(d("UFICommentVPVDLoggingConfig").idleTimeout)}]);console.table&&console.table(Object.keys(o).map(function(a){a=o[a];return{instanceID:a.contextArgs.instanceid,fbid:a.renderedComment.comment.fbid,state:a.state,visibility:a.visibility,counting:a.stopWatch.state()}}))}function q(a){var b=Object.keys(a);if(!b.length)return;b.forEach(function(b){return s(a[b])});o=babelHelpers["extends"]({},o,a);k.inform(j)}function r(a,b){var c;q((c={},c[a]=b,c))}function s(a){a.visibility==c("UFIVisibility").VISIBLE&&a.state==i.INFOCUS?a.stopWatch.start():a.stopWatch.pause()}function t(a){if(!c("UserActivity").isActive(d("UFICommentVPVDLoggingConfig").idleTimeout))return i.BLURRED_INACTIVE;if(m&&!n){if(!a.node)return i.BLURRED_NO_NODE;if(!l)return i.BLURRED_UNDER_LAYER;a.node||h(0,1811);l||h(0,1811);var b=d("ViewportTrackingHelper").isDescendantOf(a.node,l);return b?i.INFOCUS:i.BLURRED_UNDER_LAYER}if(n)if(d("UFIRootRegistry").isSnowliftNode(a.contextArgs.rootid))return i.INFOCUS;else return i.BLURRED_SNOWLIFT_OTHER;return i.INFOCUS}function a(a){return k.subscribe(j,a)}function b(a){k.unsubscribe(a)}function e(){return o}function u(a,b){return b.instanceid+"/"+a.comment.fbid+(a.isLivePinnedComment?"/P":"")+(a.isInLiveVideoReplyMode?"/R":"")}function f(a,b,d){var e=u(a,b),f=o[e];if(!f&&!d)return;else if(!f){b={renderedComment:a,contextArgs:b,node:d,state:i.BLURRED_NEW,stopWatch:new(c("UFIStopWatch"))(),visibility:c("UFICommentVisibilityStore").getVisibility(c("UFICommentVisibilityStore").getState(),b,a)};b.state=t(b);r(e,b)}else!d?(f.stopWatch.pause(),r(e,babelHelpers["extends"]({},f,{state:i.BLURRED_NO_NODE}))):r(e,babelHelpers["extends"]({},f,{node:d,state:t(f)}))}function v(a){q(Object.keys(o).reduce(function(a,b){a[b]=babelHelpers["extends"]({},o[b],{state:t(o[b])});return a},{})),p(a)}function w(a){var b=[],e=c("gkx")("676811");Object.keys(o).filter(function(b){return o[b].contextArgs.instanceid==a}).forEach(function(a){o[a].stopWatch.pause();var c=d("UFICommentVPVDLogging").log(o[a]);e&&b.push(c);delete o[a]});e&&(console.table&&console.table(b))}function x(){var a=c("UFICommentVisibilityStore").getState();q(Object.keys(o).reduce(function(b,d){var e=o[d],f=e.renderedComment,g=e.contextArgs;e=e.visibility;g=c("UFICommentVisibilityStore").getVisibility(a,g,f);f=e!=g;if(!f)return b;b[d]=babelHelpers["extends"]({},o[d],{visibility:g});return b},{}));p("UFICommentVisibilityStore.changed")}function y(){var a=c("getActiveElement")();!a?(l=null,m=!1):(l=d("Parent").byClass(a,"uiContextualLayerParent"),m=!!l)}function z(){n=!0}function A(){n=!1}function B(){p("debug")}g.subscribe=a;g.unsubscribe=b;g.getState=e;g.getKey=u;g.initComment=f;g.updateAllStates=v;g.cleanupUFIInstance=w;g.onCommentVisibilityChanged=x;g.onClickDocument=y;g.onSnowliftOpen=z;g.onSnowliftClose=A;g.debug=B}),98);
__d("UserActivityEmitter",["invariant","EventEmitter","TimeSlice","UserActivity","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i="change",j={};a=function(){a.factory=function(b){j[b]||(j[b]=new a(b));return j[b]};function a(a){var b=this;this.$5=250;this.$6=function(){b.$4=="INACTIVE"&&(b.$4="ACTIVE",b.$2.emit(i,"ACTIVE")),b.$3&&c("clearTimeout")(b.$3),b.$3=c("setTimeoutAcrossTransitions")(c("TimeSlice").guard(b.$7,"UserActivityEmitter idleTimeout",{propagationType:c("TimeSlice").PropagationType.EXECUTION}),b.$5)};this.$7=function(){b.$4="INACTIVE",b.$2.emit(i,"INACTIVE"),c("clearTimeout")(b.$3),b.$3=null};a>c("UserActivity").EVENT_INTERVAL_MS||h(0,3503,c("UserActivity").EVENT_INTERVAL_MS);this.$5=a;this.$2=new(c("EventEmitter"))();this.$4=c("UserActivity").isActive(a)?"ACTIVE":"INACTIVE";this.$1=c("UserActivity").subscribe(this.$6);this.$4=="ACTIVE"&&this.$6()}var b=a.prototype;b.subscribe=function(a){return this.$2.addListener(i,a)};b.getState=function(){return this.$4};return a}();g["default"]=a}),98);
__d("UFICommentVPVD",["Arbiter","Banzai","Event","UFICommentAction","UFICommentVPVDLogging","UFICommentVPVDLoggingConfig","UFICommentVPVDState","UFICommentVisibilityStore","UFISharedDispatcher","UFIVisibility","UserActivityEmitter","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=null,j="CommentVPVD: Logging subsystem shutting down - sending data to server",k="CommentVPVD: Visibility changed - sending data to server";function l(a){a===void 0&&(a=k);var b=d("UFICommentVPVDState").getState(),e=[],f=c("gkx")("676811");Object.keys(b).forEach(function(a){a=d("UFICommentVPVDLogging").log(b[a]);f&&e.push(a)});f&&(console.table&&console.table(e))}function m(){if(i!==null)return;i=c("setTimeoutAcrossTransitions")(function(){i=null,l()},10)}function a(){if(h||!d("UFICommentVPVDState"))return;h=!0;c("Banzai").subscribe(c("Banzai").SHUTDOWN,function(){clearTimeout(i);i=null;var a=d("UFICommentVPVDState").getState();Object.keys(a).forEach(function(b){b=a[b];var e=b.contextArgs;b=b.renderedComment;c("UFISharedDispatcher").dispatch(d("UFICommentAction").changeVisibility(e,b,c("UFIVisibility").HIDDEN))});l(j)});c("UFISharedDispatcher").register(function(a){a.type=="story_remove"&&d("UFICommentVPVDState").cleanupUFIInstance(a.instanceID)});var a=c("UserActivityEmitter").factory(d("UFICommentVPVDLoggingConfig").idleTimeout);c("UFICommentVisibilityStore").addListener(function(){var a=d("UFICommentVPVDState").getState();d("UFICommentVPVDState").onCommentVisibilityChanged();a!==d("UFICommentVPVDState").getState()&&m()});c("Event").listen(document.documentElement,"click",function(){d("UFICommentVPVDState").onClickDocument(),d("UFICommentVPVDState").updateAllStates("document onClick"),m()});a.subscribe(function(a){d("UFICommentVPVDState").updateAllStates("user-active = "+a),a!="ACTIVE"&&m()});c("Arbiter").subscribe("reflow",function(){d("UFICommentVPVDState").updateAllStates("reflow"),m()});c("Arbiter").subscribe("PhotoSnowlift.OPEN",function(){d("UFICommentVPVDState").onSnowliftOpen(),d("UFICommentVPVDState").updateAllStates("PhotoSnowlift.OPEN"),m()});c("Arbiter").subscribe("PhotoSnowlift.CLOSE",function(){d("UFICommentVPVDState").onSnowliftClose(),d("UFICommentVPVDState").updateAllStates("PhotoSnowlift.CLOSE"),m()})}g.init=a}),98);
__d("XVideoBroadcastClearPinCommentEventAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/pinnedcomments/clear/",{})}),null);
__d("XVideoBroadcastPinnedCommentsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/pinnedcomments/",{})}),null);
__d("LiveVideoPinnedCommentUtils",["fbt","AsyncRequest","Bootloader","ODS","UFILivePinnedCommentStore","UFISharedDispatcher","UFIStoryAction","UFIVideoPlayerRegistry","XVideoBroadcastClearPinCommentEventAsyncController","XVideoBroadcastPinnedCommentsController","ifRequired"],(function(a,b,c,d,e,f,g,h){"use strict";function i(){return c("ifRequired")("LiveVideoBroadcastBroadcastStore",function(a){return a.getCurrentBroadcastTime()})}function a(a){var b=a.commentFBID,e=a.commentID,f=a.contextArgs;a=a.isPinned;var g=c("XVideoBroadcastPinnedCommentsController").getURIBuilder().getURI(),h=c("UFILivePinnedCommentStore").getPinnedCommentID(f.ftentidentifier);a?c("UFISharedDispatcher").dispatch(d("UFIStoryAction").unpinComment(f)):c("UFISharedDispatcher").dispatch(d("UFIStoryAction").pinComment(f,e));new(c("AsyncRequest"))().setURI(g).setData({feedback_id:f.feedbackID,comment_fbid:a?null:b}).setMethod("POST").setErrorHandler(function(a){h?c("UFISharedDispatcher").dispatch(d("UFIStoryAction").pinComment(f,h)):c("UFISharedDispatcher").dispatch(d("UFIStoryAction").unpinComment(f))}).send()}function b(a){var b=a.commentFBID,e=a.commentID,f=a.contextArgs;a=a.isPinned;var g=c("UFILivePinnedCommentStore").getPinnedCommentID(f.ftentidentifier);a?c("UFISharedDispatcher").dispatch(d("UFIStoryAction").unpinComment(f)):c("UFISharedDispatcher").dispatch(d("UFIStoryAction").pinComment(f,e));e=f.isBroadcasterUFI?i():d("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTime(f.instanceid);if(e===null){d("ODS").bumpEntityKey(2966,"streaming_comments","pin_with_no_timestamp");return}var h=c("XVideoBroadcastPinnedCommentsController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(h).setData({video_id:f.fluentContentToken,video_time_offset:e,comment_fbid:a?null:b}).setMethod("POST").setErrorHandler(function(a){g?c("UFISharedDispatcher").dispatch(d("UFIStoryAction").pinComment(f,g)):c("UFISharedDispatcher").dispatch(d("UFIStoryAction").unpinComment(f))}).send()}function e(a,b,e){return c("Bootloader").loadModules(["SimpleXUIDialog"],function(f){f.showConfirm(h._("Iwapo utabanua maoni haya, hutaweza kuibana tena."),h._("Banua Maoni"),function(f){if(!f)return;new(c("AsyncRequest"))().setURI(c("XVideoBroadcastClearPinCommentEventAsyncController").getURIBuilder().getURI()).setData({pin_event_id:b}).setMethod("POST").setHandler(function(b){a===c("UFILivePinnedCommentStore").getPinnedCommentID(e.ftentidentifier)&&c("UFISharedDispatcher").dispatch(d("UFIStoryAction").unpinComment(e))}).send()})},"LiveVideoPinnedCommentUtils")}g.toggleFeedbackCommentPin=a;g.toggleCommentPin=b;g.unpinVODComment=e}),98);
__d("UFIThreadedFacecastCommentsUtils",["Bootloader","UFISharedDispatcher","UFIStoryAction","UFIVideoPlayerControllerStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isActiveLivingRoom;a=a.liveVideoThreadedCommentsConfig;a=!!(a&&a.enable_replies);return b||a}function b(a,b,e){var f=b.source;if(f===41||f===46||f===39||f===49)return function(){(e.isthreaded&&a.cancomment||!!a.parentcommentid)&&c("UFISharedDispatcher").dispatch(d("UFIStoryAction").showFacecastReplies(b,a.parentcommentid||a.id))};else{var g=c("UFIVideoPlayerControllerStore").getVideoPlayerController(b.instanceid);if(!g)return null;var h=g.getVideoURL();return h==null?null:function(){c("Bootloader").loadModules(["TahoeController","URI"],function(b,c){c=new c(h).setQueryData({comment_id:a.fbid,ref:"tahoe"});b.openFromVideoPlayer(g,c,null,null,"live_video_reply_click",g.getPlayerOrigin(),g.getPlayerSuborigin())},"UFIThreadedFacecastCommentsUtils")}}}g.isEnabled=a;g.onReplyClickCallback=b}),98);
__d("UFICommentVPVDTracker.react",["cx","FBLogger","ReactDOM","SubscriptionsHandler","UFICommentAction","UFICommentVPVD","UFICommentVPVDLoggingConfig","UFICommentVPVDState","UFICommentVisibilityStore","UFISharedDispatcher","UFIVisibility","ViewportTrackingHelper","gkx","onCommentIsVisible","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").Children;function k(a){return c("UFICommentVisibilityStore").getVisibility(c("UFICommentVisibilityStore").getState(),a.contextArgs)===c("UFIVisibility").VISIBLE}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$1=null;e.state={isVisible:!1,beforeFirstViewportChange:!0};e.$4=function(a){e.$1=a,d("UFICommentVPVDState").initComment(e.props.renderedComment,e.props.contextArgs,a)};e.isCommentVisible=function(a){if(!k(e.props)&&!e.state.beforeFirstViewportChange)return!1;a={height:a.bottom-a.top,width:0};return d("ViewportTrackingHelper").isVisibleInDimension(a,d("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(e)),d("UFICommentVPVDLoggingConfig").minVisibleSize)};e.onCommentVisibilityChanged=function(a){e.setState({isVisible:a,beforeFirstViewportChange:!1}),e.$3(a)};d("UFICommentVPVD").init();e.$2=new(c("SubscriptionsHandler"))();return e}var e=b.prototype;e.componentDidMount=function(){if(this.$1==null){c("FBLogger")("ufi").mustfix("When intializing VPVd tracking for a comment, could not obtain a reference to the HTML element representing the comment.");return}this.$2.addSubscriptions(c("onCommentIsVisible")(this.$1,this.isCommentVisible,this.onCommentVisibilityChanged))};e.componentWillUnmount=function(){this.$3(!1),this.$2.release()};e.render=function(){var a=this.props,b=this.state;a=j.only(a.children);var d=c("gkx")("678285");return i.jsx("div",{"data-debugstate":d?b.isVisible?"fully visible":"not fully visible":null,className:"_3b-9"+(d?" _3b-a":"")+(d&&b.isVisible?" _3b-b":"")+(d&&!b.isVisible?" _3b-c":""),ref:this.$4,children:a})};e.$3=function(a){var b=this;setTimeout(function(){return c("UFISharedDispatcher").dispatch(d("UFICommentAction").changeVisibility(b.props.contextArgs,b.props.renderedComment,a?c("UFIVisibility").VISIBLE:c("UFIVisibility").HIDDEN))},0)};return b}(i.Component);a.propTypes={renderedComment:c("prop-types").object.isRequired,contextArgs:c("prop-types").object.isRequired};g["default"]=a}),98);
__d("UFIActor.react",["cx","fbt","Badge.react","Focus","HovercardLink","Locale","ReactDOM","UFICommentUtils","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){this.props.focusOnMount&&d("Focus").setWithoutOutline(d("ReactDOM").findDOMNode(this.refs.authorName))};e.render=function(){var a=this,b=this.props.author,e=d("Locale").isRTL()?"rtl":"ltr",f=(this.props.isAuthorWeakReference?"weakReference":"")+" UFICommentActorName",g=[];this.props.isAuthorWeakReference&&g.push(j.jsx("i",{className:"UFIWeakReferenceIcon"},"icon"));this.props.author.badgeSrc&&this.props.author.badgeSrc.length>0&&g.push(j.jsxs("span",{children:[j.jsx(c("Badge.react"),{type:"subscription",size:"medium"},"badge")," "]}));b.persona?g.push(i._("{author} ({persona})",[i._param("author",b.firstName),i._param("persona",b.persona)])):this.props.useFirstName?g.push(b.firstName):this.props.author.isBusinessPersona&&this.props.author.assetRole?g.push(b.name+" "+i._("(")+this.props.author.assetRole+i._(")")):g.push(b.name);this.props.isAuthorNonCoworker?g.push(j.jsx(c("Badge.react"),{type:"work_non_coworker"},"noncoworker")):this.props.isAuthorBot&&g.push(j.jsx(c("Badge.react"),{type:"bot"},"bot"));var h=this.props.isAdminViewer?"ufi_admin":"ufi",k=babelHelpers["extends"]({},this.props);delete k.author;delete k.delimiter;delete k.dialogUrl;delete k.disableAuthorLink;delete k.focusOnMount;delete k.groupOrEventID;delete k.hovercardLocation;delete k.isAdminViewer;delete k.isAuthorBot;delete k.isAuthorNonCoworker;delete k.isAuthorWeakReference;delete k.isPublic;delete k.showHovercard;delete k.useFirstName;h=this.props.showHovercard?d("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(b,this.props.groupOrEventID,this.props.hovercardLocation?this.props.hovercardLocation:h,this.props.isAuthorWeakReference,{is_public:this.props.isPublic}).toString():null;var l=b.uri&&!this.props.disableAuthorLink;b=l?d("UFICommentUtils").annotateProfileURIIfPublic(!!this.props.isPublic,b.uri):null;l=l?j.jsx("a",babelHelpers["extends"]({},k,{className:f,"data-hovercard":h,"data-ft":this.props["data-ft"],dir:e,href:b,ref:"authorName",children:g})):j.jsx("span",{className:f,dir:e,ref:"authorName",children:g});this.props.dialogUrl&&(l=j.jsx("a",babelHelpers["extends"]({},k,{className:f,"data-hovercard":h,"data-ft":this.props["data-ft"],dir:e,ajaxify:this.props.dialogUrl,rel:"dialog",href:b,ref:"authorName",children:g})));return j.jsxs("span",{children:[l,j.Children.map(this.props.children,function(b){return b?[b.key==="badge"||b.key==="constituentTitle"||b.key==="friendsOnlyBadge"?"":a.props.delimiter,b]:null})]})};return b}(j.Component);a.defaultProps={delimiter:" \xb7 ",isAdminViewer:!1,isPublic:!1};g["default"]=a}),98);
__d("ClipboardPhotoUploader",["ArbiterMixin","AsyncRequest","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this)||this;d.uploadURIString=b;d.data=c;return d}var d=c.prototype;d.handlePaste=function(a){a=c.getImages(a);for(var d=0;d<a.length;++d){var e=new FormData();e.append("pasted_file",a[d]);var f=new(b("AsyncRequest"))();f.setURI(this.uploadURIString).setData(this.data).setRawData(e).setHandler(function(a){this.inform("upload_success",a)}.bind(this)).setErrorHandler(function(a){this.inform("upload_error",a)}.bind(this)).setAbortHandler(function(a){this.inform("upload_error",a)}.bind(this));this.inform("upload_start");f.send();break}};c.getImages=function(a){if(!a.clipboardData)return[];a=a.clipboardData.items;if(!a)return[];var b,c=[];for(var d=0;d<a.length;++d){b=a[d];if(b.kind==="string")return[];b.kind==="file"&&b.type.indexOf("image/")!==-1&&c.push(b.getAsFile());b.kind==="blob"&&c.push(b.blob)}return c};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("DigitalContentWalletSpendingSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SHORTCUT_TIPPING:83,STREAMER_BONUS:84});f["default"]=a}),66);
__d("MentionsInputUtils",[],(function(a,b,c,d,e,f){a={generateDataFromTextWithEntities:function(a){var b=a.text,c=[];(a.ranges||[]).forEach(function(a){var d=a.entity;!d.external&&!a.videoTimestamp&&!a.sphericalViewport&&!a.campaign&&!/\D/.test(d.id)&&c.push({uid:d.id,text:b.substr(a.offset,a.length),offset:a.offset,length:a.length,weakreference:!!d.weakreference})});a={value:b,mentions:c,delights:(a.ranges||[]).filter(function(a){return a.campaign})};return a}};e.exports=a}),null);
__d("UFIAttachMediaSection.react",["cx","fbt","Bootloader","Focus","UFICommentFileInputAcceptValues","XUIError.react","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={bootloaded:!1,hasUploadFailure:!1},d.$1=null,d.$2=null,d.$3=function(){d.setState({hasUploadFailure:!1})},d.$4=function(){d.setState({hasUploadFailure:!1})},d.$5=function(){d.setState({hasUploadFailure:!0})},d.$6=function(a){d.props.onClick&&d.props.onClick();if(d.state.bootloaded)return;c("Bootloader").loadModules(["UFIUploader"],function(a){d.$1=new a(d.refs.inputContainer,d.refs.inputControl,d.refs.input,d.props.getPhotoUploadData,d.props.getFileUploadData,d.props.prepareForAttachedPhotoPreview,d.props.prepareForAttachedVideoPreview,d.props.prepareForAttachedFilePreview,d.props.onPhotoUploadComplete,d.props.onVideoEncodeUpdate,d.props.onVideoUploadUpdate,d.props.onVideoUploadComplete,d.props.onFileUploadComplete,d.props.setFileInput,d.props.viewerActorID,d.$3,d.$4,d.$5)},"UFIAttachMediaSection.react");d.setState({bootloaded:!0})},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.componentDidMount=function(){var a=this.refs,b=a.input;a=a.inputControl;b&&a&&(this.$2=d("Focus").relocate(b,a))};e.componentWillUnmount=function(){this.$1&&this.$1.destroy(),this.$2&&(this.$2.remove(),this.$2=null)};e.render=function(){var a=this.props.allowFileAttachments,b=a?i._("Ambatisha Faili"):this.props.allowVideoAttachments?i._("Ambatisha picha au video"):i._("Ambatisha Picha"),d=a?i._("Kulikuwa na tatizo la kuambatisha faili, tafadhali jaribu tena"):i._("Kulikuwa na tatizo la kuambatisha faili, tafadhali jaribu tena"),e=this.state.hasUploadFailure;a=j.jsx("div",{className:"_r1a UFIPhotoAttachLinkWrapper _m"+(this.props.attachment?" _5t1p":""),"data-hover":e?null:"tooltip","data-tooltip-alignh":e?null:"center","data-tooltip-content":e?null:b,onClick:this.$6,ref:"inputContainer",role:"presentation",children:j.jsx("span",{className:a?"UFICommentFileIcon":"UFICommentPhotoIcon",ref:"inputControl",children:j.jsx("input",{accept:a?c("UFICommentFileInputAcceptValues").files:this.props.allowVideoAttachments?c("UFICommentFileInputAcceptValues").both:c("UFICommentFileInputAcceptValues").photos,"aria-label":b,className:"_n",name:"file",ref:"input",title:b,type:"file"},"0")})});return j.jsx(c("XUIError.react"),{xuiError:e?d:null,xuiErrorPosition:"above",xuiErrorAlignh:"center",children:a})};return b}(j.Component);a.propTypes={getPhotoUploadData:c("prop-types").func.isRequired,getFileUploadData:c("prop-types").func,prepareForAttachedPhotoPreview:c("prop-types").func.isRequired,prepareForAttachedVideoPreview:c("prop-types").func,prepareForAttachedFilePreview:c("prop-types").func,onPhotoUploadComplete:c("prop-types").func.isRequired,onVideoUploadComplete:c("prop-types").func,onVideoUploadUpdate:c("prop-types").func,onVideoEncodeUpdate:c("prop-types").func,onFileUploadComplete:c("prop-types").func,onClick:c("prop-types").func,setFileInput:c("prop-types").func.isRequired,targetId:c("prop-types").string,allowVideoAttachments:c("prop-types").bool,allowFileAttachments:c("prop-types").bool,attachment:c("prop-types").object,viewerActorID:c("prop-types").string.isRequired};g["default"]=a}),98);
__d("UFIGifButton.react",["cx","fbt","Arbiter","Bootloader","FocusRelocator.react","LayerTabIsolation","Link.react","MessengerPlatformInterfaceType","SubscriptionsHandler","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=278;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.$5=function(){b.setState({flyoutShown:!1,query:""})};b.$8=function(){b.$3=b.state.flyoutShown};b.$7=function(a){a.preventDefault();if(b.state.renderFlyout!==null){b.$3||(b.props.onGifFlyoutShow&&b.props.onGifFlyoutShow(),b.setState({flyoutShown:!0}));return}a=c("Bootloader").loadModules(["XUIContextualDialog.react","ChatContentSearchFlyout.react","ContextualLayerAutoFlip"],function(a,d,e){b.setState({flyoutShown:!0,renderFlyout:function(){return j.jsx(a,{alignment:"right",behaviors:{flip:e,LayerTabIsolation:c("LayerTabIsolation")},className:"_5trk",contextRef:function(){return b.$1},onBlur:b.$5,onToggle:function(a){!a&&b.state.flyoutShown&&b.$5()},position:"above",shown:b.state.flyoutShown,hasActionableContext:!0,width:k,children:j.jsx("div",{children:j.jsx(d,{onEscKeyDown:b.$5,onSelect:b.$9,query:b.state.query,shown:b.state.flyoutShown,searchInterface:c("MessengerPlatformInterfaceType").FB_INTERFACE,queryDefault:b.props.defaultGifSelection})})})}}),b.props.onGifFlyoutShow&&b.props.onGifFlyoutShow()},"UFIGifButton.react");b.$4.addSubscriptions(a)};b.$9=function(a){b.props.onGifSelected(a),b.$5()};b.$6=function(a){b.$1=a};b.state={renderFlyout:null,flyoutShown:!1,query:""};return b}var d=b.prototype;d.componentDidMount=function(){var a=this;this.$4=new(c("SubscriptionsHandler"))();this.$2=c("Arbiter").subscribe("page_transition",function(){return a.$5()})};d.componentWillUnmount=function(){this.$2&&this.$2.unsubscribe(),this.$4&&this.$4.release(),delete this.$4};d.render=function(){var a=i._("Chapisha GIF"),b=this.state.renderFlyout&&this.state.flyoutShown?this.state.renderFlyout():null;return j.jsx(c("FocusRelocator.react"),{from:this.$1,to:this.refs.icon,children:j.jsxs(c("Link.react"),{"aria-label":a,className:"_r1a UFICommentGifButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.showTooltip?a:null,linkRef:this.$6,onClick:this.$7,onMouseDown:this.$8,role:"button",children:[j.jsx("div",{ref:"icon",className:"UFICommentGifIcon"+(this.state.flyoutShown?" UFICommentGifIconActive":"")}),this.props.children,b]})})};return b}(j.Component);a.defaultProps={children:[],showTooltip:!0,defaultGifSelection:null};g["default"]=a}),98);
__d("UFIGroupedInputTabs",["CacheStorage"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({EMOJI:"EMOJI",STICKER:"STICKER",GIF:"GIF"}),i="last_used_input_on_composer",j=new(c("CacheStorage"))("localstorage");a=function(){return j.get(i,h.STICKER)};b=function(a){j.set(i,a)};g.InputTitleEnum=h;g.getLastUsedTab=a;g.setLastUsedTab=b}),98);
__d("UFIImageBlock.react",["cx","ImageBlock.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return i.jsx(c("ImageBlock.react"),babelHelpers["extends"]({},this.props,{imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent",children:this.props.children}))};return b}(i.Component);g["default"]=a}),98);
__d("UFIMarkdownButton.react",["cx","fbt","Link.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=i._("Fuma matini yenye Alamachini");return j.jsx(c("Link.react"),{className:"_r1a _45-m","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":a,"aria-label":a,onClick:this.props.onClick,role:"button",children:j.jsx("div",{className:"_45-n"+(this.props.active?" _45-o":"")})})};return b}(j.Component);g["default"]=a}),98);
__d("UFIVideoEncodeStatusMonitor",["AsyncRequest","clearInterval","setInterval"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.subscribe=function(a,b){var d=this;this.$3();this.$2=c("setInterval")(function(){new(c("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:d.$1}).setHandler(function(c){c=c.getPayload();c.is_ready?(d.$3(),a&&a()):c.error&&(d.$3(),b&&b())}).send()},1e3);return{unsubscribe:function(){d.$3()}}};b.$3=function(){c("clearInterval")(this.$2)};return a}();g["default"]=a}),98);
__d("XConstituentBadgeV2OptInDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/constituent_badge/v2_opt_in_dialog/",{__asyncDialog:{type:"Int"},ft_id:{type:"String"},should_refresh:{type:"Bool",defaultValue:!1}})}),null);
__d("XFeedNUXSaveSeenStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/nux/seen/save/",{link_id:{type:"String"},key:{type:"String",required:!0},seen:{type:"Bool",defaultValue:!1},env:{type:"Enum",enumType:0}})}),null);
__d("XUFICommentGIFPreprocessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/gif_preprocess/",{})}),null);
__d("XUFICommentMarkdownPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/markdown_preview/",{comment_body:{type:"String"}})}),null);
__d("UFIAddComment.react",["cx","fbt","ActorURI","Arbiter","AsyncRequest","Badge.react","BootloadedComponent.react","Bootloader","ClipboardPhotoUploader","ConstituentBadgeEventEmitter","CurrentUser","DigitalContentWalletSpendingSubtype","EmojiInputButton.react","Event","ExclamationStarsActions.react","ExclamationStarsDispatcher.react","ExclamationStarsStore.react","FanFundingStarsEventsTypedLogger","FluxContainer","IdentityBadgeUtils","JSResource","Keys","Link.react","LitestandStoryInsertionStatus","MentionsInputUtils","Run","SubscriptionsHandler","SutroStoryHeaderUFIGatingConfig","TextWithEntities.react","TrackingNodes","UFIActorIconContainer.react","UFIAddCommentAction","UFIAttachMediaSection.react","UFICommercialBreakStore","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIComposerIsTypingStore","UFIConfig","UFIGifButton.react","UFIGroupedInputTabs","UFIImageBlock.react","UFIMarkdownButton.react","UFINavigationCheck","UFIODSLogger","UFISharedDispatcher","UFIStickerButton.react","UFIThreadedFacecastCommentsStore","UFIVideoEncodeStatusMonitor","WebFunnelLogger","XBasicFBNuxDismissController","XBasicFBNuxGenShouldShowController","XBasicFBNuxViewController","XConstituentBadgeV2OptInDialogController","XFeedNUXSaveSeenStateController","XUFICommentGIFPreprocessController","XUFICommentMarkdownPreviewController","XUIText.react","cr:682211","cr:719006","getActiveElement","gkx","ifRequired","joinClasses","keyMirror","promiseDone","prop-types","react","textProbablyWritingMarkdown","throttle","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("keyMirror")(c("DigitalContentWalletSpendingSubtype")),l=a.URL||a.webkitURL||{},m=i._("Andika maoni..."),n=i._("Andika jibu..."),o="fcg fss UFICommentTip",p=19,q="/ajax/ufi/upload/",r="/ajax/ufi/sticker_preview/",s=1e3,t="comment_content_change",u=Object.freeze({UPLOAD:"uploading",ENCODE:"encoding"}),v=5572,w=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g,x=!1,y=!1,z=!1;e=function(e){babelHelpers.inheritsLoose(g,e);g.renderEditCommentBox=function(a,b,c){a=babelHelpers["extends"]({},a);delete a.addcommentautoflip;delete a.collapseaddcomment;delete a.hideActorPhoto;delete a.issnowlift;delete a.loggedOutLinkConfig;delete a.monitorHeight;delete a.sht;delete a.viewoptionstypeobjects;delete a.viewoptionstypeobjectsorder;return j.jsx(g,{viewerActorID:c.actorforpost,targetID:c.ownerid,groupID:c.grouporeventid,mentionsDataSource:c.mentionsdatasource,contextArgs:a,isEditing:!0,editingComment:b,allowVideoAttachments:c.allowvideoattachments,allowPhotoAttachments:c.allowphotoattachments,allowFileAttachments:c.allowfileattachments,allowStickerAttachments:c.allowstickerattachments,allowGifAttachments:c.allowgifattachments,allowBotMentions:c.allowbotmentions,allowTogglePrivateComments:!1,privateCommentTarget:c.actorname,allowCommentMarkdown:c.iscommentmarkdowneligible,showconstituentbadgev2optin:c.showconstituentbadgev2optin,constituentBanner:c.constituentbanneruri},"editing_comment"+b.id)};function g(b){var f;f=e.call(this,b)||this;f.$3=!1;f.$14=function(a){f.props.isEditing&&c("Event").getKeyCode(a.nativeEvent)===c("Keys").ESC&&f.context.dispatch(d("UFIAddCommentAction").cancel(f.props.contextArgs));f.$1&&!f.$4&&(d("Run").onBeforeUnload(f.$15),f.$4=!0);var b=c("getActiveElement")();b&&c("Event").getKeyCode(a.nativeEvent)===c("Keys").ESC&&b.blur()};f.$16=function(a){f.$2&&!f.$3&&(new(c("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(f.$2).setAction("first_input").log(),f.$3=!0),c("UFISharedDispatcher").dispatch(d("UFIAddCommentAction").changeContent(f.props.contextArgs,a,f.$17())),c("Arbiter").inform(t,{fbid:f.$17(),text:a,instanceid:f.props.contextArgs.instanceid,ftentidentifier:f.props.contextArgs.ftentidentifier}),f.props.allowCommentMarkdown&&f.state.commentMarkdownEnabled&&f.$18(a),f.state.groupedInputNUXShown&&f.$19()};f.$18=function(a){a=c("XUFICommentMarkdownPreviewController").getURIBuilder().setString("comment_body",a).getURI();new(c("AsyncRequest"))(a).setHandler(f.$20).send()};f.$20=function(a){if(!a)return;f.setState({commentMarkdownPreviewContent:a.payload?a.payload.markup:null})};f.$15=function(){if(a.PageTransitions&&!d("UFINavigationCheck").isLeaving(a.PageTransitions))return;if(f.refs&&f.refs.mentionsinput&&f.refs.mentionsinput.hasEnteredText())return i._("Bado haujamaliza maoni yako. Unataka kuondoka bila kumaliza?")};f.$21=function(){f.setState({markdownNUXVisible:!1,gifsInCommentsNUXVisible:!1,groupedInputNUXShown:!1,privateCommentNUXVisible:!1});window.setTimeout(function(){f.$1&&f.setState({isFocused:!1})},100);if(f.refs.mentionsinput&&f.refs.mentionsinput.hasEnteredText())return;f.setState({isCommenting:!1})};f.$22=function(a){var b=new(c("ClipboardPhotoUploader"))(q,f.$23());f.$24();f.$5=[b.subscribe("upload_start",f.$25),b.subscribe("upload_error",f.$26),b.subscribe("upload_success",function(a,b){f.$27(b)})];b.handlePaste(a)};f.$30=function(a,b){var c=f.props.isEditing||f.state.hasAttachment,d=a.encodedValue&&a.encodedValue.trim(),e=f.state.isLoadingPhoto||f.$31()||f.state.isLoadingFile;if(e||!c&&!d)return!1;else return f.$32(a,b)};f.$36=function(){f.$28()};f.focus=function(){f.$28();var a={isCommenting:!0,isFocused:!0},b=f.props.contextArgs.loggedOutLinkConfig;b&&b.showAddComment&&c("Bootloader").loadModules(["AsyncDialog"],function(a){a.bootstrap(b.addCommentAjaxifyURI,null,"dialog")},"UFIAddComment.react");f.refs.groupedInputButton&&c("Bootloader").loadModules(["SimpleNUXMessage","SimpleNUXMessageTypes"],function(a,b){a.hasUserSeenMessage(b.MERGE_INPUT_COMPOSER_NUX)||(f.setState({groupedInputNUXShown:!0}),a.markMessageSeenByUser(b.MERGE_INPUT_COMPOSER_NUX))},"UFIAddComment.react");if(f.props.allowGifAttachments&&c("UFIConfig").shouldShowGIFsInCommentsNux&&!x){x=!0;var d=c("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","gif_comments").setBool("seen",!0).getURI();new(c("AsyncRequest"))(d).send();a.gifsInCommentsNUXVisible=!0}if(f.props.allowCommentMarkdown&&c("UFIConfig").shouldShowMarkdownCommentNUX&&!c("UFIConfig").shouldShowGIFsInCommentsNux&&!y){y=!0;d=c("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","markdown_comments").setBool("seen",!0).getURI();new(c("AsyncRequest"))(d).send();a.markdownNUXVisible=!0}if(f.props.allowTogglePrivateComments&&!(f.state.gifsInCommentsNUXVisible||a.gifsInCommentsNUXVisible)&&!(f.state.markdownNUXVisible||a.markdownNUXVisible)&&!z){z=!0;d=c("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",v).getURI();new(c("AsyncRequest"))().setURI(d).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();if(a&&a.should_show_nux){a=c("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",v).getURI();new(c("AsyncRequest"))().setURI(a).send();f.setState({privateCommentNUXVisible:!0})}}).send()}if(f.state.showConstituentBadgeV2OptIn){d=c("XConstituentBadgeV2OptInDialogController").getURIBuilder().setString("ft_id",f.props.commentsTargetID).getURI();new(c("AsyncRequest"))().setURI(d).send()}f.setState(a);f.markViewerHasInteracted();f.props.onFocus&&f.props.onFocus();c("Arbiter").inform("UFIAddComment/focus",{instanceid:f.props.contextArgs.instanceid,ftentidentifier:f.props.contextArgs.ftentidentifier,isTopLevelComposer:f.props.isTopLevelComposer})};f.$46=function(a,b){f.setState({fileInput:a,fileUploader:b})};f.$47=function(a){d("UFIGroupedInputTabs").setLastUsedTab(d("UFIGroupedInputTabs").InputTitleEnum.EMOJI),f.refs.mentionsinput.insertEmoji(a)};f.$50=function(a,b){d("UFIGroupedInputTabs").setLastUsedTab(d("UFIGroupedInputTabs").InputTitleEnum.STICKER),f.onStickerSelected(a,b),f.$51(!1)};f.$48=function(a){d("UFIGroupedInputTabs").setLastUsedTab(d("UFIGroupedInputTabs").InputTitleEnum.GIF),f.onGifSelected(a),f.$51(!1)};f.$51=function(a){a!==f.state.flyoutShown&&f.setState({flyoutShown:a})};f.$49=function(){f.state.flyoutShown||f.markViewerHasInteracted(),f.state.groupedInputNUXShown&&f.$19()};f.$23=function(){var a=f.props.viewerActorID,b={profile_id:a,target_id:f.props.targetID,source:p};b[d("ActorURI").PARAMETER_ACTOR]=a;return b};f.$27=function(a){if(!f.state.isLoadingPhoto)return;a=a.getPayload();a&&a.fbid?f.setState({attachedPhoto:a,isLoadingPhoto:!1}):f.$26(null)};f.$52=function(){var a=f.props.viewerActorID,b={profile_id:a,target_id:f.props.targetID};b[d("ActorURI").PARAMETER_ACTOR]=a;return b};f.$55=function(a){if(!f.state.isLoadingFile)return;a=a.getPayload();a&&a.fbid?f.setState({attachedFile:a,isLoadingFile:!1}):f.$26(null)};f.$57=function(a,b){if(!f.state.attachedVideo||f.state.videoStatus!==u.ENCODE)return;if(b.obj.progress<f.state.videoProgress)return;b.obj.fbid=b.obj.videoID;if(f.state.attachedVideo.fbid&&f.state.attachedVideo.fbid!==b.obj.fbid)return;f.setState({attachedVideo:b.obj,videoProgress:b.obj.progress,videoStatus:u.ENCODE});f.$69(b.obj.stage)&&f.$70()};f.$58=function(a){f.setState({videoProgress:a})};f.$56=function(a){if(f.state.videoStatus!==u.UPLOAD)return;a&&a.video_id&&(f.setState({videoProgress:0,attachedVideo:a,videoStatus:u.ENCODE}),f.$6.addSubscriptions(new(c("UFIVideoEncodeStatusMonitor"))(a.video_id).subscribe(function(){f.setState({videoProgress:100})})))};f.$26=function(a){c("Arbiter").inform("video_upload_cancel",{}),f.state.fileInput&&f.state.fileInput.clear(),f.setState({attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedGIF:null,attachedStars:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:!1,videoProgress:0,isVideoFileTranscodedGIF:!1,hasAttachment:!1})};f.$25=function(){f.setState({attachedPhoto:null,isLoadingPhoto:!0})};f.$54=function(){f.setState({attachedFile:null,isLoadingFile:!0})};f.$53=function(){var a,b=f.state.fileInput?f.state.fileInput.input:null;b=b?b.files[0]:null;b&&l.createObjectURL&&(a=l.createObjectURL(b));f.setState({attachedVideo:null,videoStatus:u.UPLOAD,videoFileURL:a,videoProgress:0,isVideoFileTranscodedGIF:Boolean(b&&b.type==="image/gif")})};f.$71=function(a){if(!f.state.isLoadingPhoto)return;a=a.getPayload();a&&a.fbid?f.$68({attachedSticker:a,isLoadingPhoto:!1}):(c("Bootloader").loadModules(["Dialog"],function(a){var b=i._("Kibandiko Kimeshindikana"),c=i._("Kulikuwa na tatizo la kuambatisha kibandiko.");new a().setTitle(b).setBody(c).setButtons(a.OK).show()},"UFIAddComment.react"),f.$60(null))};f.$60=function(a){f.setState({attachedSticker:null,isLoadingPhoto:!1,hasAttachment:!1})};f.$59=function(a){c("Bootloader").loadModules(["FunnelLogger"],function(a){a.appendAction("FLEXIBLE_STARS_WWW_FUNNEL","dismissed_star_attachment"),a.endFunnel("FLEXIBLE_STARS_WWW_FUNNEL")},"UFIAddComment.react"),d("ExclamationStarsActions.react").flyoutStarsUnselected(),f.$26(a)};f.onStickerSelected=function(a,b){if(f.props.isEditing||f.refs.mentionsinput.hasEnteredText()){f.$67(a);return}f.sendSticker(a,b)};f.onStarsSelected=function(a,b){d("ExclamationStarsActions.react").flyoutStarsSelected(),f.setState({attachedStars:{gift:b,previewImageSrc:null,metadata:a,userTippedQuantity:a,matchingQuantity:0,promotionEvent:null,type:"SEND_STARS"}})};f.$41=function(){f.setState({markdownNUXVisible:!1})};f.$19=function(){f.setState({groupedInputNUXShown:!1})};f.$45=function(){var a=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",v).getURI();new(c("AsyncRequest"))().setURI(a).send();f.setState({privateCommentNUXVisible:!1})};f.$38=function(){f.setState({colorfulCommentsNUXShown:!1})};f.onGifSelected=function(a){if(f.props.isEditing||f.refs.mentionsinput.hasEnteredText()){f.$68({attachedGIF:a});f.preprocessGIF(a);return}f.sendGIF(a)};f.$61=function(a,b){f.setState(function(c){c[a]=b;return{mentionsData:c}})};f.$1=!1;var g=f.props.editingComment,h=g.attachment,j=h?h.type:null,k=j==="photo"?h:null;f.state={attachedPhoto:g.photo_comment||k,attachedVideo:g.video_comment||null,attachedFile:g.file_comment||null,attachedSticker:j=="sticker"?h:null,attachedGIF:j=="gif"?h:null,attachedStars:j=="SEND_STARS"?h:null,colorfulCommentsNUXShown:!1,commentMarkdownPreviewContent:g.body?g.body.markup||null:null,commentMarkdownEnabled:g.body?g.body.markdown_enabled||!1:!1,currentThreadedFacecastCommentID:c("UFIThreadedFacecastCommentsStore").getCommentID(b.contextArgs.instanceid),addCommentNUXShown:f.props.contextArgs.permalinkAddCommentNuxShown||!1,commentPrivacy:g.privacy_value||f.props.replyCommentPrivacy||0,showConstituentBadgeV2OptIn:Boolean(f.props.showConstituentBadgeV2OptIn),constituentBannerState:String(f.props.constituentBanner),exclamationStarsData:null,videoStatus:null,videoFileURL:null,videoProgress:0,isVideoFileTranscodedGIF:!1,fileInput:null,fileUploader:null,flyoutShown:!1,isCommenting:!1,isLoadingPhoto:!1,isLoadingFile:!1,showFeaturedProductsButton:f.props.contextArgs.shouldShowFeaturedProductsButton||!1,isFocused:Boolean(f.props.isEditing),gifsInCommentsNUXVisible:!1,groupedInputNUXShown:!1,markdownNUXVisible:!1,privateCommentNUXVisible:!1,inCommercialBreak:!1,shouldLoadFlexibleStars:!1,isSendingMessage:!1,hasAttachment:!1,mentionsData:{}};k=f.state.attachedPhoto||f.state.attachedVideo||f.state.attachedFile||f.state.attachedGIF||f.state.attachedSticker||f.state.attachedStars;f.state.hasAttachment=!!k;d("Run").onLoad(function(){c("Bootloader").loadModules(["UFIAddCommentLiveTypingController"],function(){},"UFIAddComment.react")});return f}var h=g.prototype;h.$28=function(){this.$2||(this.$2=this.props.viewerActorID+"_"+Date.now(),new(c("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("focus").setFunnelTags(["depth_"+(this.$17()?"1":"0")]).markStart().log())};h.$29=function(){this.$2&&(new(c("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("commit").markEnd().log(),delete this.$2,this.$3=!1)};h.$32=function(a,b){var e;a.encodedValue=a.encodedValue?a.encodedValue.trim():"";this.state.commentMarkdownEnabled?(a.isMarkdown=!0,this.setState({commentMarkdownEnabled:!1,commentMarkdownPreviewContent:null})):this.props.allowCommentMarkdown&&!a.isMarkdown&&(a.isMarkdown=c("textProbablyWritingMarkdown")(a.encodedValue));this.state.commentPrivacy&&(a.privacy_value=this.state.commentPrivacy);this.state.hasAttachment?(a.attachedPhoto=this.state.attachedPhoto,a.attachedVideo=this.state.attachedVideo,a.attachedFile=this.state.attachedFile,a.attachedSticker=this.state.attachedSticker,a.attachedStars=this.state.attachedStars,this.state.attachedGIF&&(this.state.attachedGIF.source?a.attachedShareURL=this.state.attachedGIF.source.url:this.state.attachedGIF.originalImageUrl&&(a.attachedShareURL=this.state.attachedGIF.originalImageUrl)),this.setState({isLoadingPhoto:!1,isLoadingFile:!1,attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedSticker:null,attachedGIF:null,attachedStars:null,hasAttachment:!1})):(a.attachedPhoto=null,a.attachedVideo=null,a.attachedFile=null,a.attachedSticker=null,a.attachedGIF=null,a.attachedShareURL=null,a.attachedStars=null);if(this.props.isEditing)this.context.dispatch(d("UFIAddCommentAction").submitEdit(this.props.contextArgs,this.props.editingComment,a,b.target));else if(this.state.attachedStars||!((e=this.state.exclamationStarsData)==null?void 0:e.isLoading)&&((e=this.state.exclamationStarsData)==null?void 0:e.isDetected)&&((e=this.state.exclamationStarsData)==null?void 0:e.errorMessage)==null)this.$33(a);else{e=d("UFICommonInteractionLogger").makeTrackingID();d("UFICommonInteractionLogger").startInteraction(c("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT,e+c("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT);d("UFICommonInteractionLogger").startInteraction(c("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT,e+c("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT);a.trackingID=e;this.context.dispatch(d("UFIAddCommentAction").submitNew(this.props.contextArgs,a,b.target,this.$17()))}this.$29();this.$34();return!0};h.$33=function(a){var b,e=this,f=(b=this.state.attachedStars)==null?void 0:b.userTippedQuantity,g=k.NONE;if(((b=this.state.exclamationStarsData)==null?void 0:b.isDetected)&&!((b=this.state.exclamationStarsData)==null?void 0:b.isFlyoutStarsSelected)){g=k.SHORTCUT_TIPPING;f=(b=this.state.exclamationStarsData)==null?void 0:b.spendingUnits}var h=this.props.targetID,i=(b=this.state.attachedStars)==null?void 0:b.matchingQuantity,j=(b=this.state.attachedStars)==null?void 0:(b=b.promotionEvent)==null?void 0:b.id,l=(b=this.state.attachedStars)==null?void 0:(b=b.gift)==null?void 0:b.id;d("ExclamationStarsActions.react").exclamationStarsUndetected();d("ExclamationStarsActions.react").flyoutStarsUnselected();f&&h&&c("Bootloader").loadModules(["VideoStarsSpendMutationWebGraphQLMutation","WebGraphQL","FunnelLogger"],function(b,k,m){c("promiseDone")(k.exec(new b({input:{actor_id:c("CurrentUser").getAccountID(),client_mutation_id:c("uuid")(),comment:a.encodedValue,payee_id:h,platform:"FB",spending_units:f,matching_units:i,video_id:e.props.commentsTargetID,stars_receivable_id:e.props.commentsTargetID,virtual_gift_id:l,wallet_promotion_id:j,wallet_type:"FB_STARS",spending_subtype:g}}),{actorID:e.props.viewerActorID,batchName:null}),function(a){d("ExclamationStarsActions.react").completeFetchBalance((a=a)!=null?(a=a.digital_content_wallet_spend)!=null?a.digital_content_wallet_balance:a:a);f!=null&&f>0&&new(c("FanFundingStarsEventsTypedLogger"))().setEvent("stars_send_successful").setContentID(e.props.commentsTargetID).setPageID(h).setStarsQuantity(f).setVirtualGiftID(l).log()},function(a){f!=null&&f>0&&new(c("FanFundingStarsEventsTypedLogger"))().setEvent("stars_send_unsuccessful").setContentID(e.props.commentsTargetID).setPageID(h).setStarsQuantity(f).setVirtualGiftID(l).log(),e.setState({isSendingMessage:!1})}),m.appendActionWithTag("FLEXIBLE_STARS_WWW_FUNNEL","sent_stars",f),m.endFunnel("FLEXIBLE_STARS_WWW_FUNNEL")},"UFIAddComment.react")};h.$31=function(){return this.state.videoStatus===u.UPLOAD||this.state.videoStatus===u.ENCODE&&this.state.videoProgress!==100};h.$24=function(){this.$5&&this.$5.forEach(function(a){a.unsubscribe()})};h.UNSAFE_componentWillMount=function(){var a=this;this.$4=!1;this.$8=c("LitestandStoryInsertionStatus").registerBlocker(function(){return a.state.isCommenting});this.$6&&this.$6.release();this.$6=new(c("SubscriptionsHandler"))();this.$6.addSubscriptions(c("UFICommercialBreakStore").addListener(function(){a.setState({inCommercialBreak:c("UFICommercialBreakStore").getValueFor(a.props.contextArgs.instanceid)})}),c("ConstituentBadgeEventEmitter").addListener("ConstituentBadgeV2OptInModal",function(b){if(!b){a.setState({showConstituentBadgeV2OptIn:!1});return}a.setState({constituentBannerState:b.turn_off?null:a.props.constituentBanner,showConstituentBadgeV2OptIn:!1})}));this.props.allowLiveVideoCommentReplyMode&&(this.props.contextArgs.islivestreaming||this.props.contextArgs.isLiveVOD||this.props.contextArgs.isActiveLivingRoom)&&this.$6.addSubscriptions(c("UFIThreadedFacecastCommentsStore").addListener(function(){var b=a.state.currentThreadedFacecastCommentID,d=c("UFIThreadedFacecastCommentsStore").getCommentID(a.props.contextArgs.instanceid);a.setState({currentThreadedFacecastCommentID:d});d!==b&&a.focus()}));this.$7=null;c("UFIConfig").canPublishLive&&this.$6.addSubscriptions(c("UFIComposerIsTypingStore").addListener(function(){var b=c("UFIComposerIsTypingStore").getValueFor(a.props.contextArgs.ftentidentifier);if(b===null)return;c("Bootloader").loadModules(["UFIAddCommentLiveTypingController"],function(c){a.$7||(a.$7=new c(a.props.contextArgs.ftentidentifier,a.$17(),a.props.viewerActorID)),b?a.$7.attemptPublishStartEvent():a.$7.attemptPublishStopEvent()},"UFIAddComment.react")}))};h.$35=function(){this.$7&&this.$7.destroy(),this.$7=null};h.UNSAFE_componentWillReceiveProps=function(a){var b=this.props.contextArgs.ftentidentifier,c=a.contextArgs.ftentidentifier;(c!==b||this.props.replyCommentID!==a.replyCommentID||this.props.viewerActorID!==a.viewerActorID)&&this.$35()};h.componentWillUnmount=function(){var a=this;c("Bootloader").loadModules(["TextDelightInComposerLogger"],function(b){b.endFunnel(a.$17()||a.props.contextArgs.ftentidentifier)},"UFIAddComment.react");this.$1=!1;this.$24();this.$10&&c("Arbiter").unsubscribe(this.$10);this.$9&&c("Arbiter").unsubscribe(this.$9);this.$11&&c("Arbiter").unsubscribe(this.$11);this.$12&&c("Arbiter").unsubscribe(this.$12);this.$13&&c("Arbiter").unsubscribe(this.$13);this.$8&&this.$8.unsubscribe();this.$8=null;this.$6&&this.$6.release();this.$35()};h.$37=function(){var a=this;if(!this.state.colorfulCommentsNUXShown)d("IdentityBadgeUtils").isEligibleForColorComments(this.props.feedback,this.props.contextArgs)&&c("gkx")("900398")&&c("Bootloader").loadModules(["SimpleNUXMessage","SimpleNUXMessageTypes"],function(b,c){b.hasUserSeenMessage(c.GAMES_COLORFUL_COMMENTS)||(a.setState({colorfulCommentsNUXShown:!0}),b.markMessageSeenByUser(c.GAMES_COLORFUL_COMMENTS))},"UFIAddComment.react");else return j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.mentionsinput},shown:this.state.colorfulCommentsNUXShown,position:"above",width:"auto",alignment:"center",onCloseButtonClick:this.$38,children:i._("Top Fan, Supporter, and Familiar Face badge holders will have their comments highlighted for a few seconds.")});return null};h.$39=function(){var a=this;return this.state.gifsInCommentsNUXVisible&&this.refs.gif_button?j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.gif_button},shown:this.state.gifsInCommentsNUXVisible,position:"above",width:"auto",alignment:"right",children:i._("You can now add GIFs to comments")}):null};h.$40=function(){var a=this;return this.state.markdownNUXVisible?j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.markdownButton},shown:this.state.markdownNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$41,children:i._("[FB-Only] Markdown in Comments! Click to enable.")}):null};h.$42=function(){var a=this;return this.state.groupedInputNUXShown?j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.groupedInputButton},shown:this.state.groupedInputNUXShown,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$19,children:i._("Vibandiko vya chapisho, emojis na GIFs")}):null};h.$43=function(){var a=this;return this.state.addCommentNUXShown?j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FBAmbientPulseNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.mentionsinput},dialogShown:!1,position:"left",shown:this.state.addCommentNUXShown}):null};h.$44=function(){var a=this;return this.state.privateCommentNUXVisible?j.jsxs(c("BootloadedComponent.react"),{alignment:"right",bootloadLoader:c("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),contextRef:function(){return a.refs.privacy_icon},onCloseButtonClick:this.$45,position:"above",shown:this.state.privateCommentNUXVisible,width:"auto",children:[j.jsx(c("XUIText.react"),{display:"block",weight:"bold",children:i._("Toa Maoni Kibinafsi")}),j.jsx(c("XUIText.react"),{display:"block",children:i._("Ongeza maoni ambayo {user} tu ataona",[i._param("user",this.props.privateCommentTarget)])})]}):null};h.render=function(){var a=this,e=this.props.contextArgs.loggedOutLinkConfig,g=!0;e&&e.showAddComment&&(g=!1);e=(!this.props.contextArgs.collapseaddcomment||this.state.isCommenting)&&g&&!this.props.contextArgs.hideActorPhoto;var h=null;this.props.subtitle?h=j.jsx("span",{className:o,children:this.props.subtitle}):!this.state.isFocused&&this.props.isEditing?h=j.jsx("span",{className:o,children:i._("{cancel}",[i._param("cancel",j.jsx(c("Link.react"),{onClick:function(){return a.context.dispatch(d("UFIAddCommentAction").cancel(a.props.contextArgs))},children:i._("Katisha")}))])}):this.props.isEditing?h=j.jsx("span",{className:o,children:i._("Bonyeza  Esc ili {cancel}.",[i._param("cancel",j.jsx(c("Link.react"),{onMouseDown:function(){return a.context.dispatch(d("UFIAddCommentAction").cancel(a.props.contextArgs))},children:i._("katisha")}))])}):this.props.peopleOutsideCommunityInCommentNotice&&this.state.isFocused?h=j.jsxs("div",{className:"fcg fsm _2pid",children:[j.jsx(c("Badge.react"),{type:"work_non_coworker"},"noncoworker"),j.jsx("span",{className:"_2pir _4zk5",children:j.jsx(c("TextWithEntities.react"),{ranges:this.props.peopleOutsideCommunityInCommentNotice.ranges,text:this.props.peopleOutsideCommunityInCommentNotice.text})})]}):this.props.showSendOnEnterTip&&!this.props.contextArgs.isTahoeUFI&&!this.props.contextArgs.isActiveLivingRoom&&(h=j.jsx("span",{className:o,children:i._("Bonyeza Ingiza ili kuchapisha.")}));var k=null,l=null,p=null,q=null,r=null,s=this.state.attachedPhoto||this.state.attachedSticker||this.state.attachedVideo||this.state.attachedFile||this.state.attachedGIF||this.state.attachedStars,t=null,v=null,w=null,x=null,y=b("cr:682211")?j.jsx(b("cr:682211"),{ref:"groupedInputButton",allowGifAttachments:!!this.props.allowGifAttachments,allowStickerAttachments:!!this.props.allowStickerAttachments,customStickerOwnerID:this.props.targetID,flyoutShown:this.state.flyoutShown,onEmojiSelect:this.$47,onGifSelect:this.$48,onLinkClick:this.$49,onStickerSelect:this.$50,toggleFlyout:this.$51}):null,z=b("cr:682211")?null:j.jsx(c("EmojiInputButton.react"),{buttonClassName:"_r1a UFICommentEmojiButton",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"UFICommentEmojiIcon",onClick:function(){return a.markViewerHasInteracted()},onSelect:function(b){a.refs.mentionsinput.insertEmoji(b)}});this.props.allowCommentMarkdown&&(q=j.jsx(c("UFIMarkdownButton.react"),{active:this.state.commentMarkdownEnabled,ref:"markdownButton",onClick:function(){var b=!a.state.commentMarkdownEnabled;a.setState({commentMarkdownEnabled:b});a.refs.mentionsinput&&b&&a.$18(a.refs.mentionsinput.getText())}}));!b("cr:682211")&&this.props.allowStickerAttachments&&!s&&(l=j.jsx(c("UFIStickerButton.react"),{ref:"sticker_button",customStickerOwnerID:this.props.targetID,onStickerSelected:this.onStickerSelected,onStickerFlyoutShow:function(){c("Arbiter").inform("comment_content_change",{addingAttachment:!0}),a.markViewerHasInteracted()}}));!b("cr:682211")&&this.props.allowGifAttachments&&!s&&(p=j.jsx(c("UFIGifButton.react"),{ref:"gif_button",onGifSelected:this.onGifSelected,onGifFlyoutShow:function(){return a.markViewerHasInteracted()},defaultGifSelection:this.props.contextArgs.defaultGifQuery}));if(this.props.allowNativeTipJar&&this.props.tipJarModule&&!this.props.allowFlexibleTipping){var A=this.props.tipJarModule;w=j.jsx(A,{showNux:!0,targetID:this.props.targetID,targetName:this.props.targetName,videoID:this.props.commentsTargetID})}if(this.props.allowFlexibleTipping&&this.props.flexibleStarsModule&&(!s||this.state.attachedStars)){A=this.props.flexibleStarsModule;x=j.jsx(A,{actorID:this.props.viewerActorID,canShowNux:!0,feedbackID:(A=this.props.feedback)==null?void 0:A.entidentifier,mentionsinputRef:this.refs.mentionsinput,onStarsSelected:this.onStarsSelected,targetID:this.props.targetID,targetName:this.props.targetName,videoID:this.props.commentsTargetID});this.setState({shouldLoadFlexibleStars:!0})}(this.props.allowPhotoAttachments||this.props.allowVideoAttachments||this.props.allowFileAttachments)&&(t=this.$22,k=j.jsx(c("UFIAttachMediaSection.react"),{ref:"media_section",getPhotoUploadData:this.$23,getFileUploadData:this.$52,prepareForAttachedPhotoPreview:this.$25,prepareForAttachedVideoPreview:this.$53,prepareForAttachedFilePreview:this.$54,allowVideoAttachments:this.props.allowVideoAttachments,allowFileAttachments:this.props.allowFileAttachments,onPhotoUploadComplete:this.$27,onFileUploadComplete:this.$55,onVideoUploadComplete:this.$56,onVideoEncodeUpdate:this.$57,onVideoUploadUpdate:this.$58,setFileInput:this.$46,targetId:this.props.targetID,onClick:function(){c("Arbiter").inform("comment_content_change",{addingAttachment:!0}),a.markViewerHasInteracted()},attachment:s,viewerActorID:this.props.viewerActorID}));A=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.ADD_COMMENT_BOX);s="addComment_"+this.props.contextArgs.ftentidentifier;var B;this.$17()?B=this.props.contextArgs.replyPlaceholderText||n:this.props.contextArgs.placeholderText?B=this.props.contextArgs.placeholderText:B=m;var C=this.props.contextArgs.viewoptionstypeobjects,D=this.props.contextArgs.viewoptionstypeobjectsorder;this.props.attachedPhoto&&!this.props.subtitle&&(h=null);var E;(this.state.attachedPhoto||this.state.isLoadingPhoto||this.state.attachedVideo||this.state.videoStatus===u.UPLOAD||this.state.attachedFile||this.state.isLoadingFile||this.state.attachedSticker||this.state.attachedGIF||this.state.attachedStars)&&(E=j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("UFIAttachedMediaPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("span",{}),attachedPhoto:this.state.attachedPhoto,attachedVideo:this.state.attachedVideo,attachedFile:this.state.attachedFile,attachedSticker:this.state.attachedSticker,attachedGIF:this.state.attachedGIF,attachedStars:this.state.attachedStars,monitorHeight:this.props.contextArgs.monitorHeight,onRemoveAttachedMediaPreviewClicked:this.$26,onRemoveAttachedStarsPreview:this.$59,onRemoveAttachedStickerPreview:this.$60,subtitle:this.props.subtitle,isLoadingPhoto:this.state.isLoadingPhoto,isLoadingFile:this.state.isLoadingFile,videoFileURL:this.state.videoFileURL,videoStatus:this.state.videoStatus,videoProgress:this.state.videoProgress,isVideoFileTranscodedGIF:this.state.isVideoFileTranscodedGIF}));var F=this.props.contextArgs.mentionsinput,G=null,H=null,I=null;F&&(G=F.inputComponent,H=F.viewComponent,I=F.viewProps);F=this.props.editingComment.body;F=F?d("MentionsInputUtils").generateDataFromTextWithEntities(F):null;var J=null;this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled&&(J=j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("UFICommentMarkdownPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("span",{}),markup:this.state.commentMarkdownPreviewContent}));G=G?j.jsx(G,{disableInitTextarea:!g,replyCommentID:this.$17(),initialData:F,placeholder:B,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:H,viewProps:I,viewOptionsTypeObjects:C,viewOptionsTypeObjectsOrder:D,hashtags:this.props.contextArgs.sht,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this.$30,onDummyFocus:this.$36,onFocus:this.focus,onBlur:this.$21,onContentChange:this.$16,onPaste:t,ftEntIdentifier:this.props.contextArgs.ftentidentifier,instanceID:this.props.contextArgs.instanceid,isBroadcasterUFI:this.props.contextArgs.isBroadcasterUFI,isTahoeUFI:this.props.contextArgs.isTahoeUFI,isLivingRoom:this.props.contextArgs.isActiveLivingRoom,isStreamerHub:this.props.contextArgs.isStreamerHub,updateMentionsData:this.$61}):null;g=c("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_composer_rounded_borders;F=c("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_glyphs;B=j.jsxs("div",{className:"UFICommentContainer",children:[j.jsxs("div",{className:"_fmi"+(g?" _613v":"")+" UFIInputContainer",children:[G,j.jsxs("div",{className:"_fmk UFICommentAttachmentButtons _5op2"+(F?" _15i7":"")+(F?" _2kwm":""),children:[F?this.$62():null,r,z,q,k,p,l,y,v,w,x]})]}),J,E,h]});H={};e&&(B=j.jsxs(c("UFIImageBlock.react"),{className:"UFIMentionsInputWrap"+(this.props.allowStickerAttachments?" UFIStickersEnabledInput":"")+(this.props.allowCommentMarkdown?" UFIMarkdownEnabledInput":"")+(this.props.allowGifAttachments?" UFIGifEnabledInput":"")+(this.props.allowNativeTipJar?" UFITipJarEnabledInput":"")+(this.props.allowFlexibleTipping?" UFIFlexibleStarsEnabledInput":""),children:[j.jsx("div",{className:"UFIReplyActorPhotoWrapper",onClick:this.focus,role:"presentation",children:j.jsx(c("UFIActorIconContainer.react"),babelHelpers["extends"]({},H,{actorID:this.props.viewerActorID,actorSelectorConfig:this.props.contextArgs.actorSelectorConfig,isLivingRoom:this.props.contextArgs.isLivingRoom,overlayActorSelectorOnUFIPhoto:this.props.contextArgs.overlayActorSelectorOnUFIPhoto}))}),B]}));I=j.jsxs("div",{ref:function(b){return a.rootNode=b},id:s,className:c("joinClasses")("UFIRow _4oep UFIAddComment"+(this.props.allowPhotoAttachments?" UFIAddCommentWithPhotoAttacher":"")+(this.props.withoutSeparator?" UFIAddCommentWithoutSeparator":"")+(this.props.isFirstComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.state.inCommercialBreak?" hidden_elem":""),this.props.className),onKeyDown:this.$14,"data-ft":A,children:[this.$63(),this.$64(),this.$65(),B,this.$39(),this.$40(),this.$42(),this.$43(),this.$37()]});C=c("ifRequired")("LiveVideoQuickComments.react",function(a){return a});D=this.props.contextArgs.liveVideoQuickCommentsConfig!=null&&(!this.props.contextArgs.shouldSyncQuickCommentVisibilityWithPinnedComment||this.props.isLivePinnedCommentVisible===!0)&&C!=null?j.jsx(C,{contextArgs:this.props.contextArgs,videoID:this.props.contextArgs.liveVideoQuickCommentsConfig.videoID,modes:this.props.contextArgs.liveVideoQuickCommentsConfig.modes}):null;return D?j.jsxs("div",{children:[D,I]}):I};h.componentDidUpdate=function(a,b){if(!b.attachedPhoto&&this.state.attachedPhoto||!b.attachedSticker&&this.state.attachedSticker||!b.attachedVideo&&this.state.attachedVideo||!b.attachedFile&&this.state.attachedFile||!b.attachedGIF&&this.state.attachedGIF||!b.attachedStars&&this.state.attachedStars||!b.isCommenting&&this.state.isCommenting){var c=this.state.attachedPhoto||this.state.attachedVideo||this.state.attachedFile||this.state.attachedSticker||this.state.attachedGIF||this.state.attachedStars;this.setState({hasAttachment:!!c});this.refs.mentionsinput.focus()}a.viewerActorID!==this.props.viewerActorID&&(this.state.fileInput&&this.state.fileInput.clear(),this.state.fileUploader&&this.state.fileUploader.setData(this.$23()),this.$26());!b.shouldLoadFlexibleStars&&this.state.shouldLoadFlexibleStars&&this.$66()};h.componentDidMount=function(){var a=this;this.$1=!0;if(this.props.contextArgs.source===1){var b=this.props.replyCommentID!=null;b?d("UFIODSLogger").bump("composer.newsfeed.replies.componentDidMount","legacy"):d("UFIODSLogger").bump("composer.newsfeed.toplevel.componentDidMount","legacy")}this.$18=c("throttle")(this.$18,s,this);this.$11=c("Arbiter").subscribe("UFIComment/insertComposerPayload/"+this.props.contextArgs.ftentidentifier,function(b,c){if(!c||c.instanceid!==void 0&&c.instanceid!==a.props.contextArgs.instanceid||!a.props.isTopLevelComposer)return;a.focus();c.mention!==void 0&&a.insertMention(c.mention);c.emojitext!==void 0&&a.insertEmojiText(c.emojitext);c.stickerid!==void 0&&a.$67(c.stickerid)});this.$12=c("Arbiter").subscribe("UFIComment/"+this.props.contextArgs.ftentidentifier+"/selectGif",function(b,c){if(!c||a.$17())return;a.focus();a.$68({attachedGIF:c.gif});a.preprocessGIF(c.gif)});(this.props.contextArgs.shouldCreateFeaturedProductsButton||!1)&&(this.$13=c("Arbiter").subscribe("LiveVideoInteractiveAlert/liveShoppingFeaturedProductAlertReceived",function(b,c){a.setState({showFeaturedProductsButton:!0})}));c("ExclamationStarsDispatcher.react").explicitlyRegisterStores([c("ExclamationStarsStore.react")]);this.state.shouldLoadFlexibleStars&&this.$66();if(!this.props.allowPhotoAttachments&&!this.props.allowVideoAttachments&&!this.props.allowFileAttachments)return;this.$17()===null&&(this.$9=c("Arbiter").subscribe("focusCommentField"+this.props.contextArgs.ftentidentifier,function(b){a.refs.mentionsinput.focus()}),this.props.contextArgs.issnowlift&&(this.$10=c("Arbiter").subscribe("newRemixedImage"+this.props.contextArgs.ftentidentifier,function(b,c){b={clipboardData:{items:[c]}};a.$22(b)})))};h.$64=function(){return this.state.constituentBannerState&&!this.$17()?j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("UFICommentingAsConstituentHeader.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:j.jsx("div",{}),uri:this.props.constituentBanner}):null};h.$63=function(){var a=this.props,c=a.contextArgs;a=a.isTopLevelComposer;var d=c.conversationGuideParams;d=d?d.trackingID:null;return a&&b("cr:719006")?j.jsx(b("cr:719006"),{position:"above",trackingID:d,contextArgs:c,ufiContextDispatch:this.context.dispatch,isComposerFocused:this.state.isFocused}):null};h.$62=function(){var a=this,b=this.props.isEditing&&this.props.editingComment.privacy_value===1,d=this.$17()&&this.props.replyCommentPrivacy===1,e=!b&&!d&&this.props.allowTogglePrivateComments;if(!b&&!d&&!this.props.allowTogglePrivateComments||e)return null;e?b=i._("Toggle Privacy"):d?b=i._("Only you and {user} will be able to see your reply",[i._param("user",this.props.privateCommentTarget)]):b=i._("Only you and {user} can see this",[i._param("user",this.props.privateCommentTarget)]);return j.jsxs(c("Link.react"),{"aria-label":b,className:"_r1a UFICommentPrivacyButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":b,onClick:function(){a.markViewerHasInteracted(),e&&a.setState(function(a){return{commentPrivacy:a.commentPrivacy===1?0:1}})},role:"button",children:[j.jsx("div",{ref:"privacy_icon",className:"UFICommentPrivacyIcon"+(!e||this.state.commentPrivacy===1?" UFICommentPrivacyIconActive":"")}),e?this.$44():null]})};h.$65=function(){return this.props.isEditing||this.state.commentPrivacy!==1?null:this.$17()?j.jsx("div",{className:"_2tpi",children:i._("Replying privately to {=[user]}",[i._param("=[user]",j.jsx("strong",{children:i._("{user}",[i._param("user",this.props.privateCommentTarget)])}))])}):j.jsx("div",{className:"_2tpi",children:i._("Ni wewe tu na {=[user]} mnaweza kuona hii",[i._param("=[user]",j.jsx("strong",{children:i._("{user}",[i._param("user",this.props.privateCommentTarget)])}))])})};h.insertMention=function(a){var b=this;this.refs.mentionsinput&&this.refs.mentionsinput.insertMention&&(this.refs.mentionsinput.insertMention(a),window.setTimeout(function(){return b.refs.mentionsinput.focus()}))};h.insertEmojiText=function(a){this.refs.mentionsinput.getText().trim()===""?this.refs.mentionsinput.insertEmoticon(a.trim()+" "):this.refs.mentionsinput.insertEmoticon(a)};h.$69=function(a){return a==="finish"};h.$70=function(){this.state.fileInput&&this.state.fileInput.clear()};h.$68=function(a){if(!c("CurrentUser").isWorkUser())this.setState(a);else{var b={attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedGIF:null,attachedSticker:null,attachedStars:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:!1,videoProgress:0,isVideoFileTranscodedGIF:!1,hasAttachment:!1};this.setState(babelHelpers["extends"]({},b,a))}};h.$67=function(a){this.setState({attachedSticker:null,isLoadingPhoto:!0}),new(c("AsyncRequest"))(r).setData({sticker_id:a}).setErrorHandler(this.$60).setHandler(this.$71).send()};h.sendSticker=function(a,b){a={encodedValue:"",visibleValue:"",attachedPhoto:null,attachedSticker:{fbid:a},privacy_value:this.state.commentPrivacy};this.context.dispatch(d("UFIAddCommentAction").submitNew(this.props.contextArgs,a,b.target,this.$17()))};h.isPromotionMatchingEnabled=function(a){return a!=null&&a.isEnabled&&a.type==="SPEND_MATCH"};h.$34=function(){this.setState({addCommentNUXShown:!1})};h.preprocessGIF=function(a){var b=c("XUFICommentGIFPreprocessController").getURIBuilder().getURI();new(c("AsyncRequest"))(b).setData({gif_url:a.source.url}).send()};h.sendGIF=function(a){a={encodedValue:"",visibleValue:"",attachedShareURL:a.source.url,privacy_value:this.state.commentPrivacy};this.rootNode&&this.context.dispatch(d("UFIAddCommentAction").submitNew(this.props.contextArgs,a,this.rootNode,this.$17()))};h.parseTextForMentions=function(a){var b=[],c;while(c=w.exec(a)){c={uid:c[1],text:c[2],offset:c.index,length:c[2].length,weakreference:!1,entity:{uid:c[1],weakreference:!1}};b.push(c);w.lastIndex=c.offset+c.length}return b};h.markViewerHasInteracted=function(){this.props.markViewerHasInteracted&&this.props.markViewerHasInteracted()};h.$17=function(){return this.props.replyCommentID||this.state.currentThreadedFacecastCommentID};g.getStores=function(){return[c("ExclamationStarsStore.react")]};g.calculateState=function(a){a=babelHelpers["extends"]({},a);a.exclamationStarsData={isDetected:c("ExclamationStarsStore.react").isExclamationStarsDetected(),isLoading:c("ExclamationStarsStore.react").isLoading(),spendingUnits:c("ExclamationStarsStore.react").getSpendingUnits(),errorMessage:c("ExclamationStarsStore.react").getErrorMessage(),isFlyoutStarsSelected:c("ExclamationStarsStore.react").isFlyoutStarsSelected()};return a};h.$72=function(){var a=this;d("ExclamationStarsActions.react").startFetchBalance();c("Bootloader").loadModules(["VideoStarsWalletQueryWebGraphQLQuery","WebGraphQL"],function(b,e){c("promiseDone")(e.exec(new b({})),function(a){d("ExclamationStarsActions.react").completeFetchBalance((a=a)!=null?(a=a.viewer)!=null?(a=a.digital_content_wallet)!=null?a.digital_content_wallet_balance:a:a:a)},function(b){d("ExclamationStarsActions.react").handleTransactionError(a.props.targetID)})},"UFIAddComment.react")};h.$66=function(){var a=this,b=this.props.targetID;b&&this.props.allowShortcutTipping&&(d("ExclamationStarsActions.react").enableExclamationStars(),c("Bootloader").loadModules(["GameTippingCustomTipMetaDataQueryWebGraphQLQuery","WebGraphQL","nullthrows"],function(e,f,g){c("promiseDone")(f.exec(new e({input:{page_id:b}})),function(a){a=(a=a)!=null?a.game_tipping_custom_tip_meta_data:a;if(a){a=a.map(function(a){var b;return{min:g((b=a)!=null?b.min:b),max:g((b=a)!=null?b.max:b),color:g((b=a)!=null?b.main_color:b)}});d("ExclamationStarsActions.react").completeFetchExclamationStarsMetadata(a,a[0].min)}},function(b){d("ExclamationStarsActions.react").handleTransactionError(a.props.targetID)}),a.$72()},"UFIAddComment.react"))};return g}(j.Component);e.contextTypes={dispatch:c("prop-types").func};f=c("FluxContainer").create(e);g["default"]=f}),98);
__d("UFIAddReactionButton.react",["cx","ix","Image.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return j.jsxs("div",{className:"_6fy0",children:[j.jsx("span",{className:"_6fva",children:"+"}),j.jsx(c("Image.react"),{src:i("601195")})]})};return b}(j.PureComponent);g["default"]=a}),98);
__d("GamesVideoCommentRemovedDialogDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("GamesVideoCommentRemovedDialog.react").__setRef("GamesVideoCommentRemovedDialogDeferred.react"));b=a;g["default"]=b}),98);
__d("GamesVideoDeleteCommentDialogDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("GamesVideoDeleteCommentDialog.react").__setRef("GamesVideoDeleteCommentDialogDeferred.react"));b=a;g["default"]=b}),98);
__d("GamesVideoModerationRulesNuxDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("GamesVideoModerationRulesNux.react").__setRef("GamesVideoModerationRulesNuxDeferred.react"));b=a;g["default"]=b}),98);
__d("GamesVideoCommunityModerationController",["fbt","Bootloader","Event","GamesVideoCommentRemovedDialogDeferred.react","GamesVideoDeleteCommentDialogDeferred.react","GamesVideoModerationRulesNuxDeferred.react","ImmutableObject","ReactDOM","RelayHooks","Run","UFICentralUpdates","UFIComments","UFIConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=null;a=function(){function a(a,b){var e=this;this.$4=function(){d("ReactDOM").unmountComponentAtNode(e.$3)};this.$1=a;this.$2=b;c("Bootloader").loadModules(["Tahoe"],function(a){a=a.get();a=a&&a.getView();e.$3=a&&a.getLiveAlertSidePaneOverlayNode()},"GamesVideoCommunityModerationController")}var b=a.prototype;b.registerGamingModerationRulesNux=function(){var a=this,b,e=function(){return b&&b.remove()},f=function(){if(a.$2==null||a.$3==null)return;var b=i.jsx(i.Suspense,{fallback:i.jsx("span",{}),children:i.jsx(c("GamesVideoModerationRulesNuxDeferred.react"),{moderationRulesData:a.$2,onConfirm:function(){a.$4(),e()},onDismiss:a.$4})});d("ReactDOM").render(b,a.$3)};c("Bootloader").loadModules(["Tahoe"],function(d){d=d.get();b=c("Event").listen(a.$1,"click",f);d&&d.addEvent(b)},"GamesVideoCommunityModerationController")};b.subscribeToCommentRemovalEvents=function(b,d){var e=this,f=this.$3;if(f==null)return;c("Bootloader").loadModules(["RelayFBEnvironment","VideoCommunityModerationSubscription"],function(c,f){f.subscribe(c,{video_id:b},{onNext:function(b){var c;c=b==null?void 0:(c=b.video_community_moderation_subscribe)==null?void 0:c.community_moderation_event;var f=c==null?void 0:c.moderated_comment;if((c==null?void 0:c.comment_moderation_action)==="REMOVE"){if((f==null?void 0:f.community_moderation_state)==="REMOVED"){a.setCommentCommunityModerationStateToRemoved(f==null?void 0:(c=f.feedback)==null?void 0:c.legacy_api_post_id);if(b==null?void 0:(c=b.video_community_moderation_subscribe)==null?void 0:c.is_author_banned){c=f==null?void 0:(c=f.author)==null?void 0:c.id;c&&a.setBannedAuthorCommentsCommunityModerationStateToRemoved(c)}}if((f==null?void 0:(c=f.author)==null?void 0:c.id)===d){e.showCommentRemovedDialog(b==null?void 0:(f=b.video_community_moderation_subscribe)==null?void 0:(c=f.community_moderation_event)==null?void 0:(b=c.moderated_comment)==null?void 0:(f=b.feedback)==null?void 0:f.legacy_api_post_id)}}}})},"GamesVideoCommunityModerationController")};b.removeComment=function(a,b,e){var f=this,g=this.getDialogLabel(b);if(this.$2==null||this.$3==null||g==null)return;var h=function(d){f.$4(),c("Bootloader").loadModules(["RelayFBEnvironment","RemoveCommunityModerationEventMutation"],function(c,f){f=f.removeCommunityModeratedComment;f(c,a,d,b,e)},"GamesVideoCommunityModerationController"),f.$4()};g=i.jsx(i.Suspense,{fallback:i.jsx("span",{}),children:i.jsx(c("GamesVideoDeleteCommentDialogDeferred.react"),{commentID:a,dialogLabel:g,moderationRulesData:this.$2,onDelete:h,onDismiss:this.$4})});d("ReactDOM").render(g,this.$3)};b.getDialogLabel=function(a){switch(a){case"NONE":return h._("Ondoa Maoni");case"MUTE":return h._("Mnyamazishe Mtumiaji");case"STREAM_BAN":return h._("Piga Marufuku Kutoka kwenye Mkondo");case"PAGE_BAN":return h._("Piga Kutoka kwenye Ukurasa")}};b.shouldSubscribeToCommunityModerationEvents=function(a){return a.source===41};b.showCommentRemovedDialog=function(a){var b=this;c("Bootloader").loadModules(["RelayFBEnvironment"],function(e){var f=function(a){return i.jsx(i.Suspense,{fallback:i.jsx("span",{}),children:i.jsx(d("RelayHooks").RelayEnvironmentProvider,{environment:e,children:i.jsx(c("GamesVideoCommentRemovedDialogDeferred.react"),{commentLegacyToken:a,moderationRulesData:b.$2,onDismiss:b.$4})})})};b.$3&&d("ReactDOM").render(f(a),b.$3)},"GamesVideoCommunityModerationController")};a.get=function(){return j};a.setCommentCommunityModerationStateToRemoved=function(a){a=d("UFIComments").getComment(a);a&&typeof a!=="string"&&this.$5(a)};a.setBannedAuthorCommentsCommunityModerationStateToRemoved=function(a){var b=this;d("UFIComments").getCommentsForAuthor(a).forEach(function(a){return b.$5(a)})};a.init=function(b,c){j=new a(b,c),d("Run").onLeave(function(){j=null})};a.registerGamingModerationRulesNux=function(){var a=this.get();a&&a.registerGamingModerationRulesNux()};a.subscribeToCommentRemovalEvents=function(a,b){var c=this.get();c&&c.subscribeToCommentRemovalEvents(a,b)};a.$5=function(a){var b=babelHelpers["extends"]({},a);b.communityModerationState="REMOVED";d("UFIComments").setComment(a.id,new(c("ImmutableObject"))(b));c("UFICentralUpdates").handleUpdate(d("UFIConstants").UFIPayloadSourceType.USER_ACTION,{comments:[b]})};return a}();g["default"]=a}),98);
__d("ShareNowConstants",["fbt"],(function(a,b,c,d,e,f,g,h){a=h._("This post could not be shared at this time. Please try again later.");b=h._("Your share was posted.");g.error=a;g.success=b}),98);
__d("UFICommentLikeCount.react",["cx","fbt","ActorURI","NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","ReactionIconClassNames","URI","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=function(a,b,e){a=new(c("URI"))("/ajax/like/tooltip.php").setQueryData({comment_fbid:a.fbid,comment_from:a.author,comment_likecount:a.likecount||0,comment_id:a.id,cache_buster:a.likeconfirmhash||0});b&&a.addQueryData({viewas:b});return d("ActorURI").create(a,e)};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.props.comment,b=a.likecount||0,e=d("NumberFormat").formatInteger(b);b=i._({"*":"{number} Wameipenda","_1":"1 ameipenda"},[i._plural(b,"number")]);var f=c("ProfileBrowserTypes").LIKES;a={id:a.fbid};var g=k(this.props.comment,this.props.contextArgs.viewas,this.props.actorForPost),h=j.jsx("span",{className:"UFICommentReactionIconContainer",children:j.jsx("i",{className:c("joinClasses")(d("ReactionIconClassNames").reactions.like,d("ReactionIconClassNames").icon,d("ReactionIconClassNames").sizes[16])})});e=j.jsx("span",{children:e});var l="UFICommentLikeButton UFISutroLikeCount",m=d("ProfileBrowserLink").constructDialogURI(f,a).toString();f=d("ProfileBrowserLink").constructPageURI(f,a).toString();a="dialog";var n=this.props.contextArgs.loggedOutLinkConfig;n&&n.showLikeLink&&(m=n.likeAjaxifyURI,f="#");return j.jsxs("a",{ajaxify:m,"aria-label":b,className:l,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":g.toString(),href:f,rel:a,role:"button",children:[h,e]})};return b}(j.Component);a.propTypes={actorForPost:c("prop-types").string,comment:c("prop-types").object.isRequired,contextArgs:c("prop-types").object.isRequired};g["default"]=a}),98);
__d("UFIReactionsLinkImpl.react",["csx","cx","fbt","BanzaiLogger","BootloadedComponent.react","Bootloader","Event","JSResource","Parent","Promise","ReactDOM","Run","ShimButton.react","SubscriptionsHandler","SutroStoryHeaderUFIGatingConfig","UFIAddReactionButton.react","UFICommentAction","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIConfig","UFIReactionIconImpl.react","UFIReactionTypes","UFIStoryAction","addFocusEvents","curry","promiseDone","prop-types","react","shallowCompare"],(function(a,b,c,d,e,f,g,h,i,j){var k=d("react");a=d("react").Component;var l=!1,m=!1,n=!1,o=null,p=k.jsx("div",{}),q=150,r=Object.keys(c("UFIReactionTypes").reactions),s=20,t=525,u=750,v=700,w=850,x=500,y="ontouchstart"in window,z=j._("Onyesha hatua zaidi"),A=[],B=function(a){if(!o){a=function(a){o=a,A&&(A.forEach(function(a){return a()}),A=null)};c("UFIConfig").reactionsHasAnimatedIcons?c("Bootloader").loadModules(["UFIReactionsMenuWithAnimatedIcons.react"],a,"UFIReactionsLinkImpl.react"):c("Bootloader").loadModules(["UFIReactionsMenuImpl.react"],a,"UFIReactionsLinkImpl.react")}},C=null;function D(){if(!C){var a=null;C=new(b("Promise"))(function(b){a=d("Run").onAfterLoad(function(){c("Bootloader").loadModules(["CometUFIReactionsAnimationPreloader"],function(a){return b(new a())},"UFIReactionsLinkImpl.react")})});c("promiseDone")(C,function(){a&&a.remove()});var e=d("Run").onLeave(function(){C=null,e&&e.remove()})}return C}var E=c("addFocusEvents")("a");e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;f=a.call(this,b,e)||this;f.$2=function(){f.state.dialogShown&&f.forceUpdate()};f.hideDialog=function(){f.setState({dialogShown:!1,isScrubbing:!1})};f.showDialog=function(){f.dialogShownTime===0&&(f.dialogShownTime=Date.now()),f.state.dialogShown||f.state.logToFunnel&&c("UFIConfig").reactionsFunnelLogger.menuShow(f.state.logAsComment),m=!0,f.setState({dialogShown:!0,NUXShown:!1})};f.onClick=function(a){var b=d("UFICommonInteractionLogger").startInteraction(f.props.comment?c("UFICommonInteractionEvents").UFI_COMMENT_REACTION:c("UFICommonInteractionEvents").UFI_STORY_REACTION);a.preventDefault();var e=f.props,g=e.reaction;e=e.suggestedReaction;if(!g||g===c("UFIReactionTypes").LIKE||!c("UFIReactionTypes").reactions[g]){e=e&&f.hasSuggestedReaction?e:c("UFIReactionTypes").LIKE;g=g?c("UFIReactionTypes").NONE:e;e=c("curry")(f.onReactionChange,g);f.$3(g,!0);b&&(f.$1={trackingID:b,reaction:g});e(a)}else b&&(f.$1={trackingID:b,reaction:0}),f.onReactionChange(0,a);f.setState({dialogShown:!1,isScrubbing:!1})};f.onClickCapture=function(a){a.stopPropagation(),f.setState({isLongPressing:!1})};f.onContextMenu=function(a){f.state.isTouchDown&&a.preventDefault()};f.onDragStart=function(a){a.preventDefault()};f.onMouseDown=function(a){clearTimeout(f.hoverTimeout)};f.onMouseEnter=function(a){clearTimeout(f.hoverTimeout);a=f.props.comment?v:t;f.state.dialogShown||(f.hoverTimeout=setTimeout(function(){f.showDialog()},a));B(f.props.supportedReactions);!f.state.dialogShown&&f.state.logToFunnel&&(f.logFunnelTimeout=setTimeout(function(){return c("UFIConfig").reactionsFunnelLogger.likeButtonEnter(f.props.reaction,f.state.logAsComment)},q))};f.onMouseLeave=function(a){clearTimeout(f.hoverTimeout);clearTimeout(f.logFunnelTimeout);a=f.props.comment?w:u;f.state.dialogShown&&(f.hoverTimeout=setTimeout(f.hideDialog,a))};f.onReactionMenuMouseEnter=function(a){clearTimeout(f.hoverTimeout)};f.onTouchStart=function(a){f.state.dialogShown||(f.mouseDownTime=Date.now(),f.mouseUpTime=0,f.longPressTimeout=setTimeout(function(){f.dialogShownTime===0&&(f.dialogShownTime=Date.now()),f.setState({dialogShown:!0,NUXShown:!1,isLongPressing:!0})},x),B(f.props.supportedReactions)),f.setState({isTouchDown:!0,isLongPressing:!1})};f.onTouchEnd=function(a){f.state.isLongPressing&&(f.mouseUpTime=Date.now()),f.dragStartX=null,f.dragStartY=null,clearTimeout(f.longPressTimeout),f.setState({isTouchDown:!1})};f.onTouchMove=function(a){if(f.state.isScrubbing)return;a=a.touches[0];var b=a.clientX;a=a.clientY;if(f.dragStartX===null&&f.dragStartY===null){f.dragStartX=b;f.dragStartY=a;return}typeof f.dragStartX==="number"&&typeof f.dragStartY==="number"&&(f.dragStartX>b+s||f.dragStartX<b-s||f.dragStartY>a+s||f.dragStartY<a-s)&&f.setState({isScrubbing:!0})};f.onReactionChange=function(a,b,e,g){e===void 0&&(e=null);g===void 0&&(g=null);f.$3(a);var h=d("ReactDOM").findDOMNode(f.refs.trigger);f.state.logToFunnel&&(b.target===h?c("UFIConfig").reactionsFunnelLogger.likeButtonClick(a,f.state.logAsComment):c("UFIConfig").reactionsFunnelLogger.reactionSelection(a,f.state.logAsComment));f.props.comment?b=d("UFICommentAction").changeReaction(f.props.contextArgs,f.props.comment,a,h):b=d("UFIStoryAction").changeReaction(f.props.contextArgs,a,h,e,g);f.context.dispatch(b);a=function(){f.setState({dialogShown:!1,isScrubbing:!1})};a()};f.onReactionMouseEnter=function(a,b){f.reactionsHoverStartTimeMap[a]===0&&(f.reactionsHoverStartTimeMap[a]=Date.now())};f.onReactionMouseLeave=function(a,b){f.reactionsHoverStartTimeMap[a]&&(f.reactionsHoverTotalTimeMap[a]+=Date.now()-f.reactionsHoverStartTimeMap[a],f.reactionsHoverStartTimeMap[a]=0)};f.onKeyboardFocus=function(){f.allowKeyboardFocus=!0,f.showDialog()};f.onScreenReaderTrigger=function(){n=!0,f.allowKeyboardFocus=!0,f.showDialog()};f.dragStartX=null;f.dragStartY=null;f.hasSuggestedReaction=c("UFIConfig").reactionsHasSuggestedReaction;f.subscriptionsHandler=new(c("SubscriptionsHandler"))();A&&A.push(f.$2);e=!1;c("UFIConfig").reactionsFunnelLogger&&(c("UFIConfig").reactionsHasFunnelLogger&&f.props.comment===void 0||c("UFIConfig").reactionsHasCommentFunnelLogger&&f.props.comment!==void 0)&&(e=!0);f.state={dialogShown:!1,isLongPressing:!1,isScrubbing:!1,isTouchDown:!1,logToFunnel:e,logAsComment:!!b.comment&&c("UFIConfig").reactionsHasCommentFunnelLogger,NUXShown:!1,prevReaction:b.reaction,shouldBounce:!1,hasAllowedBounce:!1};return f}var e=b.prototype;e.shouldComponentUpdate=function(a,b){return c("shallowCompare")(this,a,b)};b.getDerivedStateFromProps=function(a,b){var c=!!a.reaction&&a.reaction!==b.prevReaction;return{prevReaction:a.reaction,shouldBounce:c,hasAllowedBounce:b.hasAllowedBounce||c}};e.componentDidUpdate=function(a,b){var e=this;this.$1&&this.$1.reaction===this.props.reaction&&(d("UFICommonInteractionLogger").endInteraction(this.$1.trackingID),this.$1=null);if(!b.dialogShown&&this.state.dialogShown){this.setCommentReactionsMenuShown(!0);if(y){var f;this.subscriptionsHandler.addSubscriptions(c("Event").listen(document.documentElement,"touchstart",function(a){f=a.touches[0]}),c("Event").listen(document.documentElement,"touchmove",function(a){f=a.touches[0]}),c("Event").listen(document.documentElement,"touchend",function(a){f&&!e.refs.root.contains(document.elementFromPoint(f.clientX,f.clientY))&&e.setState({dialogShown:!1,isScrubbing:!1})}))}}else b.dialogShown&&!this.state.dialogShown&&(this.setCommentReactionsMenuShown(!1),this.$3(a.reaction),this.subscriptionsHandler.release(),this.subscriptionsHandler=new(c("SubscriptionsHandler"))())};e.componentDidMount=function(){var a=this;this.$4();if(c("UFIConfig").reactionsHasAnimatedIcons&&!l){var b=d("Parent").bySelector(this.refs.root,"._zw3");if(b)var e=c("Event").listen(b,"mousemove",function(){a.$5(),e&&e.remove()})}};e.componentWillUnmount=function(){this.subscriptionsHandler.release();if(A){var a=A.indexOf(this.$2);a!==-1&&A.splice(a,1)}clearTimeout(this.hoverTimeout);clearTimeout(this.longPressTimeout)};e.maybeShowNUX=function(){this.props.nuxConfig&&this.props.nuxConfig.nuxType,m||(m=!0,this.setState({NUXShown:!0,dialogShown:!1}))};e.setCommentReactionsMenuShown=function(a){this.props.showAlternateButtonForLiveStreamingRedesign&&this.context.dispatch(d("UFIStoryAction").setCommentReactionsMenuShown(this.props.contextArgs,a))};e.renderMenu=function(){this.state.dialogShown&&B(this.props.supportedReactions);if(!o)return null;var a=this.allowKeyboardFocus;this.allowKeyboardFocus=!1;return k.jsx(o,{initialReaction:this.props.reaction,isLongPressing:this.state.isLongPressing,isScreenReader:n,onMouseEnter:this.onReactionMenuMouseEnter,onMouseLeave:this.onMouseLeave,onReactionClick:this.onReactionChange,onBlur:this.hideDialog,onFocus:this.showDialog,onReactionMouseEnter:this.onReactionMouseEnter,onReactionMouseLeave:this.onReactionMouseLeave,shouldFocusOnShow:function(){return a},shown:this.state.dialogShown,supportedReactions:this.props.supportedReactions})};e.renderTrigger=function(){var a=this.props.reaction,b=this.props,d=b.showAlternateButtonForLiveStreamingRedesign;b=b.suggestedReaction;a&&!c("UFIReactionTypes").reactions[a]&&(a=null);var e=a?"fb-ufi-unlikelink":"fb-ufi-likelink",f,g,h;if(this.props.comment){e=this.props.comment.parentcommentid?"ufi_reply_like_link":"ufi_comment_like_link";e=!1;!a?f=c("UFIReactionTypes").reactions[c("UFIReactionTypes").LIKE].display_name:(f=c("UFIReactionTypes").reactions[a].display_name,h=c("UFIReactionTypes").reactions[a].color,e=!0);e="UFILikeLink UFIReactionLink"+(e?" UFILinkBright":"")}else!a?f=b&&this.hasSuggestedReaction?c("UFIReactionTypes").reactions[b].display_name:c("UFIReactionTypes").reactions[c("UFIReactionTypes").LIKE].display_name:f=c("UFIReactionTypes").reactions[a].display_name,(a&&a!=c("UFIReactionTypes").LIKE||!a&&b&&this.hasSuggestedReaction&&b!=c("UFIReactionTypes").LIKE)&&(g=k.jsx(c("UFIReactionIconImpl.react"),{className:"_1ktw _2hoq",grayscale:!a&&!!b,reaction:a||b,size:"18"})),e="UFILikeLink _4x9- _4x9_"+(g?"":" _48-k")+(a?" UFILinkBright":"")+(this.state.shouldBounce?" _614v":""),h=a?c("UFIReactionTypes").reactions[a].color:null;return k.jsx(E,{"aria-pressed":!!a,className:e,"data-testid":void 0,href:"#",onClick:this.onClick,onClickCapture:this.state.isLongPressing?this.onClickCapture:null,onContextMenu:this.onContextMenu,onDragStart:this.onDragStart,onKeyboardFocus:o?null:this.onKeyboardFocus,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTouchEnd:y?this.onTouchEnd:null,onTouchMove:y?this.onTouchMove:null,onTouchStart:y?this.onTouchStart:null,ref:"trigger",role:"button",style:{color:h},tabIndex:0,children:d?k.jsx(c("UFIAddReactionButton.react"),{}):k.jsxs(k.Fragment,{children:[g,f]})})};e.renderNUX=function(){var a=this.refs.root,b=this.props.comment!==void 0,d=this.props.nuxConfig&&this.props.nuxConfig.titleOverride,e=this.props.nuxConfig&&this.props.nuxConfig.textOverride;return!this.state.NUXShown||!a?null:k.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:p,bootloadLoader:c("JSResource")("UFIReactionsNUX.react").__setRef("UFIReactionsLinkImpl.react"),context:a,titleOverride:d,textOverride:e,isCommentReactionNux:b,nuxKey:this.props.nuxConfig&&this.props.nuxConfig.nuxKey})};e.renderScreenReaderTrigger=function(){return o?null:k.jsx(c("ShimButton.react"),{className:"accessible_elem","data-accessibilityid":"virtual_cursor_trigger",inline:!0,tabIndex:-1,onClick:this.onScreenReaderTrigger,children:z})};e.render=function(){var a=c("SutroStoryHeaderUFIGatingConfig").enabled_for_ufi;return k.jsxs("div",{className:"_khz"+(a?" _4sz1":"")+" _4rw5"+(this.state.isScrubbing?" _4bdq":"")+" _3wv2",ref:"root",children:[this.renderTrigger(),this.renderScreenReaderTrigger(),this.renderMenu(),this.renderNUX()]})};e.$4=function(){var a=this;this.dialogShownTime=0;this.reactionsHoverStartTimeMap={};this.reactionsHoverTotalTimeMap={};r.forEach(function(b){a.reactionsHoverStartTimeMap[b]=0,a.reactionsHoverTotalTimeMap[b]=0})};e.$5=function(){var a=this;l||(c("promiseDone")(D(),function(b){b.load(a.props.supportedReactions)}),l=!0)};e.$3=function(a,b){if(this.dialogShownTime!==0){a={feedback_id:this.props.contextArgs.ftentidentifier,final_reaction:a,initial_reaction:this.props.reaction,"interface":"www",long_press_duration:this.mouseDownTime!==0&&this.mouseUpTime!==0?this.mouseUpTime-this.mouseDownTime:0,non_reaction_like:b,time_spent:Date.now()-this.dialogShownTime};for(var d in this.reactionsHoverTotalTimeMap){b="time_spent_"+c("UFIReactionTypes").reactions[d].name.toLowerCase();a[b]=this.reactionsHoverTotalTimeMap[d]}c("BanzaiLogger").log("UserReactionsLoggerConfig",a);this.$4()}};return b}(a);e.contextTypes={dispatch:c("prop-types").func};g["default"]=e}),98);
__d("UFICommentLikeLink.react",["cx","fbt","TrackingNodes","UFICommentAction","UFIConfig","UFIReactionsLinkImpl.react","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k="ufi_comment_like_link",l="ufi_reply_like_link";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getCanRender=function(a){return!!(a&&(a.canviewerreact||a.viewercanlike||a.hasviewerliked))};var e=b.prototype;e.render=function(){var a=this.props.comment,b=this.props.feedback,c=this.props.contextArgs;if(!this.constructor.getCanRender(a))return null;if(a.canviewerreact)return j.jsx("span",{className:"_6a _3-me",children:this.$1(a,b,c)});else if(a.viewercanlike||a.hasviewerliked)return this.$2(a,b,c);return null};e.$1=function(a,b,d){var e=null;c("UFIConfig").reactionsHasCommentsNux&&(e={nuxKey:"reactions_comments",titleOverride:i._("Mpya! Toa hisia kwenye Maoni"),textOverride:i._("Ambaa juu kwenye kiungo cha Poa ili kuona hisia zote."),nuxType:"like_click"});return j.jsx(c("UFIReactionsLinkImpl.react"),{contextArgs:babelHelpers["extends"]({},d,{ftentidentifier:a.id}),comment:a,nuxConfig:e,reaction:a.viewerreaction,supportedReactions:b.supportedreactions,ftIdentifier:d.ftentidentifier})};e.$2=function(a,b,e){var f=this;b=e.loggedOutLinkConfig;var g=c("TrackingNodes").getTrackingInfo(a.hasviewerliked?c("TrackingNodes").types.UNLIKE_LINK:c("TrackingNodes").types.LIKE_LINK),h=a.hasviewerliked?i._("Tendua maoni haya"):i._("Penda maoni haya"),m=a.parentcommentid?l:k;m=!a.hasviewerliked||b?i._("Penda"):i._("Hainipendezi tena");var n=null,o=null;b&&b.showLikeLink&&(n="dialog",o=b.likeAjaxifyURI);return j.jsx("a",{className:"UFILikeLink","data-ft":g,"data-testid":void 0,href:"#",rel:n,ajaxify:o,onClick:function(b){return f.context.dispatch(d("UFICommentAction").toggleLike(e,a,b.target))},role:"button",title:h,children:m})};return b}(j.Component);a.propTypes={comment:c("prop-types").object.isRequired,contextArgs:c("prop-types").object.isRequired,feedback:c("prop-types").object.isRequired};a.contextTypes={dispatch:c("prop-types").func};g["default"]=a}),98);
__d("UFICommentMetadata.react",["cx","fbt","ix","BootloadedComponent.react","Image.react","JSResource","Middot.react","Timestamp.react","TrackingNodes","UFIConstants","URI","XUISpinner.react","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a="ufi_comment_timestamp";var l="UFIFailureMessageIcon",m="UFIFailureMessage",n="uiLinkSubtle",o=function(a){a=a.status;return a===d("UFIConstants").UFIStatus.FAILED_ADD||a===d("UFIConstants").UFIStatus.FAILED_EDIT};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.editLinkRef=null,b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this,b=this.props,d=b.comment,e=b.onRetrySubmit;b=b.isAuthorPinnedComment;var f,g,h=d.timestamp;if(o(d))f=[k.jsxs("span",{className:m,children:[k.jsx("i",{className:l}),i._("Imeshindwa kuchapisha maoni.")]},"failure"),d.allowRetry&&e?[" ",k.jsx("a",{onClick:e,href:"#",role:"button",children:i._("Jaribu Tena")},"rety-submit")]:null];else if(b){e=k.jsxs("span",{children:[k.jsx(c("Image.react"),{className:"UFIAuthorPinnedCommentIcon",src:j("606470")}),i._("Imebanwa")]});g=e;this.props.showPermalink&&(g=this.$1(e))}else if(h){b=k.jsx(c("Timestamp.react"),{className:"UFISutroCommentTimestamp",minimize:!0,shorten:this.props.shortenTimestamp,time:h.time,text:h.text,useLargerTimeUnits:!0,verbose:h.verbose});g=b;this.props.showPermalink&&(g=this.$1(b))}e=null;if(d.originalTimestamp){h=new(c("URI"))("/ajax/edits/browser/comment").addQueryData({comment_token:d.id}).toString();e=[!this.props.displayVerticalCommentVote&&k.jsx(c("Middot.react"),{},"middot-editNote"),k.jsx("a",{ajaxify:h,className:"uiLinkSubtle"+(this.props.displayVerticalCommentVote?" _6hmt":""),"data-hover":"tooltip","data-tooltip-content":i._("Onyesha historia ya kuhariri"),href:"#",ref:function(b){return a.editLinkRef=b},rel:"dialog",role:"button",title:i._("Onyesha historia ya kuhariri"),children:i._("Alihariri")},"edit-link")]}b=null;d.attachment_status&&!o(d)&&(b=k.jsxs("span",{children:[k.jsx(c("Middot.react"),{},"middot-creator"),k.jsx("span",{className:"UFISutroCommentTimestamp",children:d.attachment_status})]}));h=null;var n=d.creator_data;n&&(h=[k.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:k.jsx(c("XUISpinner.react"),{size:"small"}),bootloadLoader:c("JSResource")("UFICreatorInfo.react").__setRef("UFICommentMetadata.react"),creatorID:n.creatorID,creatorType:n.creatorType,creatorName:n.creatorName,labelType:n.labelType,pageID:n.pageID,profileURI:n.profileURI},"creator"),k.jsx(c("Middot.react"),{},"middot-creator")]);n=null;d.body&&d.body.markdown_enabled&&d.body.markup&&(n=[k.jsx(c("Middot.react"),{},"middot-markdownNote"),k.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:k.jsx("a",{className:"uiLinkSubtle",children:i._("Imeumbizwa")}),bootloadLoader:c("JSResource")("UFICommentMarkdownFormattedLink.react").__setRef("UFICommentMetadata.react"),comment:d},"markdown-link")]);d=null;this.props.showEditNux&&(d=k.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("UFIEditCommentNux.react").__setRef("UFICommentMetadata.react"),bootloadPlaceholder:k.jsx(c("XUISpinner.react"),{size:"small"}),context:this.editLinkRef,helpUri:this.props.helpUri,onCloseButtonClick:this.props.onEditNuxCloseClick,shown:this.props.showEditNux}));return k.jsxs("span",{children:[h,g,f,e,n,d,b]})};d.$1=function(a){var b=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.SOURCE),d=this.props.permalink?this.props.permalink:null;return k.jsx("a",{className:n,href:d,"data-ft":b,"data-testid":void 0,target:this.props.permalinkTarget,children:a},"timestamp-message")};return b}(k.Component);g["default"]=b}),98);
__d("UFICommentReactionCount.react",["cx","ActorURI","ClientIDs","UFIReactionsBlingTokens.react","UFIReactionsProfileBrowserUtils","XUFIReactionsSocialSentenceTooltipController","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.props.comment,b={entidentifier:a.id,reactioncount:a.reactioncount,reactioncountmap:a.reactioncountmap,actorforpost:this.props.actorForPost,supportedreactions:this.props.supportedReactions},e="UFICommentLikeButton"+(this.props.showLiveStreamingRedesign&&a.hasviewerliked?" UFILiveCommentRedesignLikedButton":"")+" UFISutroLikeCount",f="UFICommentReactionsBling _4ar- _ipn",g=d("ActorURI").create(c("XUFIReactionsSocialSentenceTooltipController").getURIBuilder().setString("ft_ent_identifier",a.id).setString("client_id",d("ClientIDs").getNewClientID()).setInt("user_count",a.reactioncount).getURI(),this.props.actorForPost),h=d("UFIReactionsProfileBrowserUtils").getDialogURI({actorID:this.props.actorForPost,feedbackTargetID:a.id}),j=d("UFIReactionsProfileBrowserUtils").getPageURI({actorID:this.props.actorForPost,feedbackTargetID:a.id}),k=this.props.contextArgs.loggedOutLinkConfig;k&&k.showLikeLink&&(h=k.likeAjaxifyURI,j="#");return i.jsx("a",{ajaxify:h,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":g,"data-tooltip-offsety":"-3",href:j,rel:"dialog",role:"button",children:i.jsx(c("UFIReactionsBlingTokens.react"),{className:f,feedback:b,contextArgs:this.props.contextArgs,max:3,noLinks:!0,size:"16",children:i.jsx("span",{className:e,children:a.reactioncountreduced})})})};return b}(i.Component);a.propTypes={actorForPost:c("prop-types").string,comment:c("prop-types").object.isRequired,contextArgs:c("prop-types").object.isRequired,supportedReactions:c("prop-types").array,showLiveStreamingRedesign:c("prop-types").bool};g["default"]=a}),98);
__d("XUFISubscribeCommentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/subscribe/",{})}),null);
__d("UFICommentSubscribeLink.react",["fbt","AsyncRequest","XUFISubscribeCommentController","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=a.call(this,b,c)||this;b=b.comment.issubscribed;c.state={isSubscribed:b?b:!1};return c}var d=b.prototype;d.render=function(){var a=this,b=h._("Jisajili wa maoni haya"),c=h._("Jisajili"),d=h._("Jiengue kwenye maoni haya"),e=h._("Jiengue");return i.jsx("a",{href:"#",role:"button",title:this.state.isSubscribed?d:b,onClick:function(){return a.onLinkClick()},children:this.state.isSubscribed?e:c})};d.onLinkClick=function(){var a=this,b=this.props.comment,d=c("XUFISubscribeCommentController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(d).setData({comment_id:b.fbid,ft_ent_identifier:b.ftentidentifier,is_subscribe:!this.state.isSubscribed}).setMethod("POST").setHandler(function(b){a.setState({isSubscribed:!a.state.isSubscribed})}).setErrorHandler(function(a){}).send()};return b}(i.Component);g["default"]=a}),98);
__d("UFIFeedbackPinnedCommentLink.react",["cx","fbt","LiveVideoPinnedCommentUtils","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=i._("Banua Maoni"),c=i._("Bana Maoni"),e=function(){a.contextArgs.isActiveLivingRoom==!0?d("LiveVideoPinnedCommentUtils").toggleFeedbackCommentPin(a):d("LiveVideoPinnedCommentUtils").toggleCommentPin(a)};return j.jsx("a",{className:"uiLink",href:"#",onClick:e,children:a.isPinned?b:c})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UFILiveVODUnpinCommentLink.react",["cx","fbt","LiveVideoPinnedCommentUtils","SubscriptionsHandler","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$2=function(){c.$1.addSubscriptions(d("LiveVideoPinnedCommentUtils").unpinVODComment(c.props.commentID,c.props.pinEventID,c.props.contextArgs))},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$1=new(c("SubscriptionsHandler"))()};e.componentWillUnmount=function(){this.$1.release()};e.render=function(){return j.jsx("a",{className:"uiLink",href:"#",onClick:this.$2,children:i._("Banua Maoni")})};return b}(j.Component);g["default"]=a}),98);
__d("PagesPrivateReplyConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({Status:{REPLYABLE:"replyable",ALREADY_REPLIED:"already_replied",RECIPIENT_FILTER:"recipient_filter",EXPIRED:"expired",NOT_USER_CREATED:"not_user_created",CANNOT_MESSAGE:"cannot_message",MESSAGING_DISABLED:"messaging_disabled"},Type:{COMMENT_PAGE_POST:"comment_page_post",COMMENT_STORY_CARD:"comment_story_card",COMMENT_WALL_POST:"comment_wall_post",COMMENT_CUSTOMER_GROUP_USER_POST:"comment_customer_group_user_post",COMMENT_REVIEW:"comment_review",REVIEW:"review",RECOMMENDATION:"recommendation",WALL_POST:"wall_post",VIDEO_TEXT_QUESTION_RESPONSE:"video_text_question_response",PUBLIC_POST_WITH_PAGE_TAGGED:"public_post_with_page_tagged",FB_LOGIN:"fb_login"}})}),null);
__d("UFIPrivateReplyIndicator.react",["fbt","PagesPrivateReplyConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.willRender=function(a){return a===c("PagesPrivateReplyConstants").Status.ALREADY_REPLIED};var d=b.prototype;d.render=function(){return this.props.replyStatus===c("PagesPrivateReplyConstants").Status.ALREADY_REPLIED?i.jsx("span",{children:h._("Ukurasa ulijibu  kwa faragha")}):null};return b}(i.Component);g["default"]=a}),98);
__d("UFIPrivateReplyLink.react",["cx","fbt","ActorURI","BootloadedComponent.react","JSResource","Link.react","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesPrivateReplyConstants","XPagesMessagingPrivateReplyDialogController","keyMirror","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("keyMirror")(c("PagesPrivateReplyConstants").Type),l=!1,m=new Set(),n=new Set();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$5=function(){var a=e.$6();d("PagesLogger").log(e.props.context.pageID,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").COMMENT_MESSAGE_BUTTON,null,["business_messaging_growth"],{comment_id:e.props.activityID,messenger_entry_point:"private_reply",activity_type:a})},b)||babelHelpers.assertThisInitialized(e)}b.willRender=function(a,b){if(!a)return!1;return a.hasReplyPermission&&b===a.pageID?!0:!1};var e=b.prototype;e.render=function(){var a=this.props.context;if(a.hasReplyPermission&&this.props.actorID===a.pageID){if(a.status===c("PagesPrivateReplyConstants").Status.REPLYABLE)return this.$2();else if(a.status===c("PagesPrivateReplyConstants").Status.ALREADY_REPLIED)return this.$3();return this.$4()}return null};e.$7=function(){var a=this;if(!this.props.shouldShowNuxToPage||l)return null;if(m.has(this.props.activityID)){l=!0;return j.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{className:"hidden_elem"}),bootloadLoader:c("JSResource")("UFICommentPrivateReplyNux.react").__setRef("UFIPrivateReplyLink.react"),nuxContext:function(){return a.$1},activityType:this.props.context.activityType,nuxKey:"pages_comment_pr_nux",shouldShowGeneralNuxContent:this.props.shouldShowGeneralNuxContent})}else m.add(this.props.activityID);return null};e.$2=function(){var a=this,b=d("ActorURI").create(c("XPagesMessagingPrivateReplyDialogController").getURIBuilder().setString("activity_id",this.props.activityID).getURI(),this.props.context.pageID);n.has(this.props.activityID)||(d("PagesLogger").log(this.props.context.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").COMMENT_MESSAGE_BUTTON,null,["business_messaging_growth"],{comment_id:this.props.activityID,messenger_entry_point:"private_reply",activity_type:this.$6()}),n.add(this.props.activityID));return j.jsxs(c("Link.react"),{className:"_50u0 _60p- _14hj",onClick:this.$5,href:b,ref:function(b){a.$1=b},rel:"dialog",children:[this.$8(),this.$7()]})};e.$4=function(){var a;switch(this.props.context.status){case c("PagesPrivateReplyConstants").Status.EXPIRED:a=i._({"comments":"You can't send a message in response to comments posted more than 7 days ago.","reviews":"You can't send a message in response to reviews posted more than 7 days ago.","posts":"You can't send a message in response to posts posted more than 7 days ago."},[i._enum(this.$9(),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case c("PagesPrivateReplyConstants").Status.NOT_USER_CREATED:a=i._("Pages can't send private messages to other Pages.");break;case c("PagesPrivateReplyConstants").Status.CANNOT_MESSAGE:a=i._("This person can't receive a message reply from your Page.");break}return j.jsx("span",{className:"_50u0 _50u4 _60p-","data-hover":a?"tooltip":null,"data-tooltip-content":a,children:this.$8()})};e.$3=function(){return j.jsx(c("Link.react"),{className:"_50u0 _14hk _60p-",href:this.props.context.permalink||"#",children:this.props.seeResponseLabel?i._("Angalia Jibu"):this.$8()})};e.$8=function(){return i._("Ujumbe")};e.$9=function(){switch(this.props.context.activityType){case c("PagesPrivateReplyConstants").Type.COMMENT_PAGE_POST:case c("PagesPrivateReplyConstants").Type.COMMENT_WALL_POST:case c("PagesPrivateReplyConstants").Type.COMMENT_CUSTOMER_GROUP_USER_POST:case c("PagesPrivateReplyConstants").Type.COMMENT_REVIEW:return"comments";case c("PagesPrivateReplyConstants").Type.REVIEW:return"reviews";default:return"posts"}};e.$6=function(){switch(this.props.context.activityType){case c("PagesPrivateReplyConstants").Type.COMMENT_PAGE_POST:return k.COMMENT_PAGE_POST;case c("PagesPrivateReplyConstants").Type.COMMENT_WALL_POST:return k.COMMENT_WALL_POST;case c("PagesPrivateReplyConstants").Type.COMMENT_CUSTOMER_GROUP_USER_POST:return k.COMMENT_CUSTOMER_GROUP_USER_POST;case c("PagesPrivateReplyConstants").Type.COMMENT_REVIEW:return k.COMMENT_REVIEW;case c("PagesPrivateReplyConstants").Type.REVIEW:return k.REVIEW;default:return"UNKOWN"}};return b}(j.Component);g["default"]=a}),98);
__d("UFICommentActions.react",["cx","fbt","ix","BootloadedComponent.react","FluxContainer","JSResource","Middot.react","PublicConversationsUnicornTypedLogger","ReactFragment","UFIAddCommentAction","UFICentralUpdates","UFICommentAction","UFICommentLikeCount.react","UFICommentLikeLink.react","UFICommentMetadata.react","UFICommentReactionCount.react","UFICommentSubscribeLink.react","UFIConfig","UFIConstants","UFIFeedbackPinnedCommentLink.react","UFILivePinnedCommentStore","UFILiveVODUnpinCommentLink.react","UFIPrivateReplyIndicator.react","UFIPrivateReplyLink.react","UFISharedDispatcher","UFIStoryAction","UFIThreadedFacecastCommentsUtils","emptyFunction","prop-types","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l="fsm fwn fcg UFICommentActions",m="UFIDeletedMessageIcon",n="UFIDeletedMessage";a=function(a){babelHelpers.inheritsLoose(b,a);b.getStores=function(){return[c("UFILivePinnedCommentStore")]};b.calculateState=function(a,b){a=b.comment;b=c("UFILivePinnedCommentStore").getPinnedCommentID(a.ftentidentifier);a=this.calculatePinActionLinkState(a,b);return{pinActionLinkState:a}};b.calculatePinActionLinkState=function(a,b){if(a.__typename==="local")return"None";return b===a.id?"MayUnpin":"MayPin"};function b(c){var d;d=a.call(this,c)||this;d.state=b.calculateState(null,c);return d}var e=b.prototype;e.render=function(){var a=this,b=this.props,e=b.comment,f=b.permalink,g=b.feedback,h=b.parentCanComment,o=b.markedAsSpamHere,p=b.showReplyLink,q=b.hideAsSpamForPageAdmin,r=b.translateLink,s=b.isAuthorPinnedComment,t=b.shouldHideAttachment,u=e.status===d("UFIConstants").UFIStatus.SPAM_DISPLAY,v,w,x,y,z,A,B,C,D,E,F=e.__typename!=="local"&&e.status!==d("UFIConstants").UFIStatus.LIVE_DELETED&&!e.tipOptionIndex;if(F){(e.needsApproval||e.canAppeal||e.canSecure||e.appealStatus!==null)&&k.jsx("a",{onClick:function(e){return a.context.dispatch(d("UFICommentAction").remove(b.contextArgs,b.comment,e.target,c("emptyFunction")))},href:"#",role:"button",children:i._("Futa")});u&&!o?(b.viewerCanMarkNotSpam&&(v=k.jsx("a",{onClick:function(c){return a.context.dispatch(d("UFICommentAction").markAsNotSpam(b.contextArgs,e,c))},className:"UFICommentNotSpamLink",href:"#",role:"button",children:i._("Fichua")})),q&&g.isthreaded&&e.cancomment&&p&&(z=this.renderCommentReply(e))):(w=c("UFICommentLikeLink.react").getCanRender(e)?k.jsx(c("UFICommentLikeLink.react"),{comment:e,contextArgs:b.contextArgs,feedback:g}):null,(g.isthreaded&&e.cancomment&&p||!!e.parentcommentid&&g.cancomment&&h&&!b.isInLiveVideoReplyMode)&&(z=this.renderCommentReply(e)),e.canviewerreact?x=!this.props.hideReactionCount&&e.reactioncount>0?k.jsx(c("UFICommentReactionCount.react"),{comment:e,actorForPost:g.actorforpost,supportedReactions:g.supportedreactions,contextArgs:b.contextArgs}):null:x=!this.props.hideReactionCount&&e.likecount>0?k.jsx(c("UFICommentLikeCount.react"),{comment:e,actorForPost:g.actorforpost,contextArgs:b.contextArgs}):null,A=this.renderMessageReply(e,g));if(!t&&e.attachment&&e.attachment.type==="share"&&!e.attachment.disableRemove&&e.canremove){F="_460h";B=k.jsx("a",{className:F,href:"#",onClick:function(c){return a.context.dispatch(d("UFICommentAction").removePreview(b.contextArgs,e,c.target))},role:"button",children:i._("Ondoa Uhakiki")})}e.cansubscribe&&(D=k.jsx(c("UFICommentSubscribeLink.react"),{contextArgs:b.contextArgs,comment:e}))}c("UFIConfig").publicConversationsUnicornWhitelist&&(C=k.jsx("a",{className:"share_action_link",href:"#",role:"button",title:"[FB Only] Mark this comment as a great comment for futher review.",onClick:function(a){return new(c("PublicConversationsUnicornTypedLogger"))().setCommentFbid(e.fbid).log()},children:"Unicorn"}));u=b.contextArgs.islivestreaming||b.contextArgs.isActiveLivingRoom;o=u?null:k.jsx(c("UFICommentMetadata.react"),{comment:e,onRetrySubmit:function(){return a.context.dispatch(d("UFIAddCommentAction").retrySubmit(b.contextArgs,e))},permalink:f,shortenTimestamp:b.contextArgs.shortenTimestamp,showPermalink:b.showPermalink,contextArgs:b.contextArgs,helpUri:this.props.editNuxHelpUri,showEditNux:!this.props.hasSeenEditNux,onEditNuxCloseClick:this.props.onEditNuxCloseClick,isAuthorPinnedComment:s,displayVerticalCommentVote:this.props.displayVerticalCommentVote});q=null;if(b.contextArgs.enablePinLiveComments&&!e.tipOptionIndex)if((b.contextArgs.islivestreaming||b.contextArgs.isActiveLivingRoom)&&this.state.pinActionLinkState!=="None")q=k.jsx(c("UFIFeedbackPinnedCommentLink.react"),{commentID:e.id,commentFBID:e.fbid,contextArgs:b.contextArgs,isPinned:this.state.pinActionLinkState==="MayUnpin"});else if(b.contextArgs.isLiveVOD&&this.state.pinActionLinkState==="MayUnpin"){p=c("UFILivePinnedCommentStore").getPinEventID(b.contextArgs.ftentidentifier);p!=null&&(q=k.jsx(c("UFILiveVODUnpinCommentLink.react"),{commentID:e.id,contextArgs:b.contextArgs,pinEventID:p}))}var G={};if(g.customcommentactionlinks){h=function(a){var b=g.customcommentactionlinks[a];if(b.showInMenu)return"continue";a=function(a){return c("UFICentralUpdates").inform(b.type,{comment:e,feedback:g})};G[b.type]=k.jsx("a",{href:"#",onClick:a,role:"button",children:b.title})};for(var H in g.customcommentactionlinks){t=h(H);if(t==="continue")continue}}b.orderingMode==="live_streaming"&&(b.contextArgs.islivestreaming||b.contextArgs.isLiveVOD)&&d("UFIThreadedFacecastCommentsUtils").isEnabled(b.contextArgs)?F=babelHelpers["extends"]({likeToggle:w,unicornButton:C,commentReply:z,spamToggle:v,likeCount:x,spamCount:y,livePinCommentLink:q,metadata:o},G,{removePreview:B}):b.orderingMode==="live_streaming"&&b.contextArgs.isActiveLivingRoom&&b.contextArgs.source===49&&d("UFIThreadedFacecastCommentsUtils").isEnabled(b.contextArgs)?F=babelHelpers["extends"]({likeToggle:w,unicornButton:C,commentReply:z,spamToggle:v,likeCount:x,spamCount:y,livePinCommentLink:q,metadata:o},G,{removePreview:B}):b.orderingMode==="live_streaming"?F=babelHelpers["extends"]({likeToggle:w,unicornButton:C,spamToggle:v,likeCount:x,spamCount:y,livePinCommentLink:q,metadata:o},G,{removePreview:B}):b.contextArgs.entstream?F=babelHelpers["extends"]({livePinCommentLink:q,metadata:o,likeToggle:w,unicornButton:C,likeCount:x,commentReply:z,translateLink:r,messageReply:A,subscribeComment:D,spamCount:y,spamToggle:v,removePreview:B},G):g.isthreaded?(this.props.displayVerticalCommentVote&&(E=b.renderCommentCloseButton()),F=babelHelpers["extends"]({likeToggle:w,unicornButton:C,commentReply:z,translateLink:r,messageReply:A,spamToggle:v,removePreview:B,subscribeComment:D,likeCount:x,spamCount:y},G,{livePinCommentLink:q,metadata:o,commentCloseButton:E})):F=babelHelpers["extends"]({livePinCommentLink:q,metadata:o,likeToggle:w,unicornButton:C,subscribeComment:D,likeCount:x,spamCount:y,commentReply:z,translateLink:r,messageReply:A,spamToggle:v,removePreview:B},G);if(e.status===d("UFIConstants").UFIStatus.LIVE_DELETED){u=i._("Maoni yamefutwa");f=k.jsx("span",{className:n,children:k.jsx("i",{"aria-label":u,className:m,"data-hover":"tooltip","data-tooltip-content":u,role:"img"})});F.deletionWarning=f}if(e.isApproved){s=i._("Maoni haya awali yaliwekewa alama kama barua taka");F.isApproved=k.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("Image.react").__setRef("UFICommentActions.react"),bootloadPlaceholder:k.jsx("span",{}),"data-hover":"tooltip","data-tooltip-content":s,"aria-label":s,src:j("119369"),"data-tooltip-alignh":"left"})}p=!0;t={};for(var I in F){h=F[I];h&&(p?t[I]=h:this.props.displayVerticalCommentVote?t[I]=k.jsx("span",{className:"_6hmt",children:h}):t[I]=d("ReactFragment").create({middot:k.jsx(c("Middot.react"),{},"middot-"+I),action:h}),p=!1)}return k.jsx("div",{className:l,children:d("ReactFragment").create(t)})};e.renderCommentReply=function(a){var b=this,e=!this.props.contextArgs.isScheduledLive&&(this.props.contextArgs.islivestreaming||this.props.orderingMode==="live_streaming"&&this.props.contextArgs.isLiveVOD),f=this.props.contextArgs.isActiveLivingRoom,g;e||f?g=d("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(a,this.props.contextArgs,this.props.feedback):g=function(){var e=b.props,f=e.contextArgs;e=e.feedback;e.isthreaded&&a.cancomment?b.context.dispatch(d("UFIStoryAction").showReplies(f,a.id,a)):a.parentcommentid&&b.context.dispatch(d("UFIStoryAction").showReplies(f,a.parentcommentid,a));e.targetiscomment&&c("UFISharedDispatcher").dispatch(d("UFIStoryAction").showComments(f))};return k.jsx("a",{className:"UFIReplyLink _460i","data-testid":void 0,href:"#",onClick:g,role:"button",children:(e||f)&&a.parentcommentid&&!this.props.isInLiveVideoReplyMode?i._("Tazama Mtungo"):i._("Jibu")})};e.renderMessageReply=function(a,b){if(a.messagereply){if(c("UFIPrivateReplyLink.react").willRender(a.messagereply,b.actorforpost))return k.jsx(c("UFIPrivateReplyLink.react"),{actorID:b.actorforpost,activityID:a.id,context:a.messagereply,seeResponseLabel:!0,shouldShowNuxToPage:this.props.contextArgs.shouldShowPrivateReplyNuxToPage,shouldShowGeneralNuxContent:this.props.contextArgs.shouldShowGeneralPrivateReplyNuxContent});else if(c("UFIPrivateReplyIndicator.react").willRender(a.messagereply.status))return k.jsx(c("UFIPrivateReplyIndicator.react"),{replyStatus:a.messagereply.status})}else if(a.chattobuy){b="_460j";return k.jsx("a",{className:b,href:a.chattobuy,role:"button",rel:"async-dialog",children:i._("Ujumbe")})}return null};return b}(k.Component);a.contextTypes={dispatch:c("prop-types").func};b=c("FluxContainer").create(a,{withProps:!0});g["default"]=b}),98);
__d("GamesVideoFanSupportAttachmentHandler",["cx","ifRequired"],(function(a,b,c,d,e,f,g,h){"use strict";var i="tip_attachment_support_link";h=new Set();function a(a){if(!a)return;a=a.querySelector('[name="'+i+'"]');a&&!this._registeredLinks.has(a)&&(a.addEventListener("mouseover",this._onLinkMouseover.bind(this,a)),a.addEventListener("click",this._onLinkClick.bind(this,a)),this._registeredLinks.add(a))}function b(a){var b="_1k48";this._isSupportOverlayRegistered()?a.classList.remove(b):a.classList.add(b)}function d(a,b){if(this._isSupportOverlayRegistered()){a=this._getTahoeView();a&&a.toggleSupportOverlay();b.stopPropagation()}}function e(){var a=this._getTahoeView();return a&&a.isSupportOverlayRegistered()}function f(){var a=void 0;c("ifRequired")("Tahoe",function(b){c("ifRequired")("TahoeVideoView",function(c){var d=b.get();if(d){d=d.getView();d instanceof c&&(a=d)}})});return a}g._registeredLinks=h;g.registerFanSupportAttachment=a;g._onLinkMouseover=b;g._onLinkClick=d;g._isSupportOverlayRegistered=e;g._getTahoeView=f}),98);
__d("XAnimatedImageInLiveCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gifs/in_live_comment/",{})}),null);
__d("XChatCommandResultCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat_command_result/live_comment_attachment/",{})}),null);
__d("XDonationCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fundraiser_for_story/live_comment_attachment/",{})}),null);
__d("XFileCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/files_in_comments/live_comment_attachment/",{})}),null);
__d("XMarketplaceEcommProductItemCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace_comments/ecomm_product_item_attachment/",{})}),null);
__d("XTipJarCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/tip_jar/live_comment_attachment/",{})}),null);
__d("XVideoInLiveCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/in_live_comment/",{})}),null);
__d("UFICommentAttachment.react",["cx","AsyncRequest","BootloadedComponent.react","CSS","DOM","DOMQuery","GamesVideoFanSupportAttachmentHandler","HTML","Image.react","JSResource","Link.react","LitestandShareAttachment","Random","ReactDOM","SubscriptionsHandler","UFILocallyComposedCommentStore","XAnimatedImageInLiveCommentPreviewController","XChatCommandResultCommentPreviewController","XDonationCommentPreviewController","XFileCommentPreviewController","XMarketplaceEcommProductItemCommentPreviewController","XTipJarCommentPreviewController","XUISpinner.react","XVideoInLiveCommentPreviewController","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("lazyLoadComponent")(c("JSResource")("PageCommentQuestionMessageCard.react").__setRef("UFICommentAttachment.react")),j=c("lazyLoadComponent")(c("JSResource")("PagePrivateReplyMessageCard.react").__setRef("UFICommentAttachment.react")),k=d("react"),l=55;a="ufi_comment_photo";var m=80,n="ufi_comment_sticker";b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.state={localCommentIDs:c("UFILocallyComposedCommentStore").getStateForInstance(b.props.comment.ufiinstanceid),randomInstanceID:Math.floor(d("Random").random()*1e4)};return b}var e=b.prototype;e.$2=function(a){return a.photo_comment||a.video_comment||a.file_comment||a.attachment};e.$3=function(a,b){var c=this.props.allowCustomStickers?l:m,d,e,f;b>a?(f=c/b,d=a*f,e=b*f):(f=c/a,d=a*f,e=b*f);return{height:Math.round(d),width:Math.round(e)}};e.componentDidMount=function(){var a=this,b=this.$2(this.props.comment);b&&this.renderAttachment(b);this.$1=new(c("SubscriptionsHandler"))();this.$1.addSubscriptions(c("UFILocallyComposedCommentStore").addListener(function(){a.setState({localCommentIDs:c("UFILocallyComposedCommentStore").getStateForInstance(a.props.comment.ufiinstanceid)})}))};e.shouldComponentUpdate=function(a,b){b=this.$2(this.props.comment);a=this.$2(a.comment);if(!b&&!a)return!1;if(!b||!a||b.markup!=a.markup)return!0;else return!1};e.componentDidUpdate=function(a){a=this.$2(this.props.comment);if(!a)return;a.type!=="sticker"&&a.type!=="photo"&&this.renderAttachment(a)};e.componentWillUnmount=function(){if(this.refs&&this.refs.contents){var a=d("ReactDOM").findDOMNode(this.refs.contents);c("DOM").empty(a)}this.$1&&this.$1.release()};e.renderAttachment=function(a){var b=this;if(a&&this.refs&&this.refs.contents&&a.markup){var e=a.markup;c("HTML").isHTML(e.markup)&&(e=c("HTML").replaceJSONWrapper(e.markup).getRootNode());var f=e.parentNode,g=d("ReactDOM").findDOMNode(this.refs.contents);f&&f!==g&&(e=e.cloneNode(!0));if(this.props.disableTheater){f=e.querySelector('a[rel="theater"]');f&&c("DOM").setAttributes(f,{target:"_blank",rel:""})}c("DOM").setContent(g,e);if(a.type=="share"){f="_6m2";f=g&&d("CSS").hasClass(g,f)?g:d("DOMQuery").scry(g,"."+f)[0];f=f?f:g;f instanceof HTMLElement&&d("LitestandShareAttachment").init(f)}else a.type==="TIP_JAR_PAYMENT"&&d("GamesVideoFanSupportAttachmentHandler").registerFanSupportAttachment(e)}else if(a&&a.type=="video"&&!a.markup){g=c("XVideoInLiveCommentPreviewController").getURIBuilder();new(c("AsyncRequest"))(g.getURI()).setMethod("POST").setData({video_id:a.target.id}).setHandler(function(a){b.renderAttachment(a.payload.video_preview.video_comment)}).send()}else a&&a.type=="gif"&&!a.markup?new(c("AsyncRequest"))(c("XAnimatedImageInLiveCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="file"&&!a.markup?new(c("AsyncRequest"))(c("XFileCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="donation"&&!a.markup?new(c("AsyncRequest"))(c("XDonationCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="TIP_JAR_PAYMENT"&&!a.markup?new(c("AsyncRequest"))(c("XTipJarCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="chat_command_result"&&!a.markup?new(c("AsyncRequest"))(c("XChatCommandResultCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a!=null&&a.type=="marketplace_ecomm_product_item"&&!a.markup&&new(c("AsyncRequest"))(c("XMarketplaceEcommProductItemCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send()};e.renderSticker=function(a){var b=this.$3(Number(a.metadata.height),Number(a.metadata.width)),d=null,e=null;window.devicePixelRatio&&window.devicePixelRatio>1?(d=a.metadata.sprite_uri_2x,e=a.metadata.source_uri_2x):(d=a.metadata.sprite_uri,e=a.metadata.source_uri);return k.jsx(c("BootloadedComponent.react"),{accessibilityLabel:a.metadata.accessibilityLabel,bootloadPlaceholder:k.jsx(c("XUISpinner.react"),{}),bootloadLoader:c("JSResource")("Sticker.react").__setRef("UFICommentAttachment.react"),className:"UFICommentStickerAttachment",animationTrigger:"load_and_hover",frameCount:a.metadata.frameCount,frameRate:a.metadata.frameRate,framesPerCol:a.metadata.framesPerCol,framesPerRow:a.metadata.framesPerRow,spriteURI:d,sourceHeight:b.height,sourceURI:e,sourceWidth:b.width,testID:n})};e.renderPhoto=function(a){var b="_2rn3 _4-eo";return k.jsx("div",{className:"_4iv9",children:k.jsx(c("Link.react"),{className:b,"data-testid":void 0,rel:"theater",href:a.metadata.url,children:k.jsx("div",{style:{height:a.metadata.height},children:k.jsx(c("Image.react"),{src:a.metadata.preview_uri})})})})};e.renderShare=function(a){return k.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:k.jsx("span",{}),bootloadLoader:c("JSResource")("UFILiveCommentLinkPreview.react").__setRef("UFICommentAttachment.react"),attachment:a})};e.renderLivePlaceInfo=function(a){return k.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:k.jsx("span",{}),bootloadLoader:c("JSResource")("PlaceListLiveCommentAttachment.react").__setRef("UFICommentAttachment.react"),commentID:this.props.comment.fbid,data:a,postID:this.props.comment.ftentidentifier})};e.renderPlaceInfo=function(a){var b=this.props.comment.__typename==="local"||this.state.localCommentIDs[this.props.comment.id];return k.jsx(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:k.jsx(c("XUISpinner.react"),{}),bootloadLoader:c("JSResource")("MultiPlacePageInfoCard.react").__setRef("UFICommentAttachment.react"),isLocallyComposed:b,postID:this.props.comment.ftentidentifier,actorID:this.props.comment.author},a.props))};e.renderUpsellInfo=function(a){if(a.subtype){if(a.subtype=="question_triggered_page_msg")return k.jsx(k.Suspense,{fallback:k.jsx(c("XUISpinner.react"),{}),children:k.jsx(i,babelHelpers["extends"]({},a))});if(a.subtype=="private_reply_user_msg")return k.jsx(k.Suspense,{fallback:k.jsx(c("XUISpinner.react"),{}),children:k.jsx(j,babelHelpers["extends"]({},a))})}return k.jsx("span",{})};e.$4=function(a){return a+"_comment_attachment_"+this.props.comment.id+this.state.randomInstanceID};e.render=function(){var a=this.$2(this.props.comment);if(a)if(a.type==="sticker")return this.renderSticker(a);else if(a.type==="gif"||a.type==="donation"||a.type==="TIP_JAR_PAYMENT"||a.type==="chat_command_result"||a.type==="marketplace_ecomm_product_item")return k.jsx("div",{ref:"contents",id:this.$4(a.type),children:k.jsx(c("XUISpinner.react"),{})});else if(a.type==="photo")return this.renderPhoto(a);else if(a.type==="live_share")return this.renderShare(a);else if(a.type=="comment_place_info")return this.renderPlaceInfo(a);else if(a.type=="live_comment_place_info")return this.renderLivePlaceInfo(a);else if(a.type=="upsell_info")return this.renderUpsellInfo(a);else return k.jsx("div",{ref:"contents"});return k.jsx("span",{})};return b}(k.Component);g["default"]=b}),98);
__d("UFISocialContext.react",["fbt","HovercardLink","ProfileBrowserLink","ProfileBrowserTypes","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=27;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.props.topMutualFriend,b=this.props.otherMutualCount,c=this.props.commentAuthor,e=d("HovercardLink").constructEndpoint(a).toString();e=i.jsx("a",{href:a.uri,"data-hovercard":e,children:a.name},"top");var f=c.name.length+a.name.length,g;if(b===0)g=h._("Marafiki walio na {name}",[h._param("name",e)]);else if(f<j){b==1?f=h._("Mwengine 1"):f=h._({"*":"Wengine {count}"},[h._param("count",b,[0])]);g=h._("Marafiki walio na {name} na {others}",[h._param("name",e),h._param("others",this.getOthersLink(f,c,a))])}else{e=h._({"*":"Marafiki {count} anaoweza kuwajua"},[h._param("count",b+1,[0])]);g=this.getOthersLink(e,c)}return i.jsx("span",{className:"UFICommentSocialContext",children:g})};e.getOthersLink=function(a,b,e){e=c("ProfileBrowserTypes").MUTUAL_FRIENDS;b={uid:b.id};var f=d("ProfileBrowserLink").constructDialogURI(e,b).toString();return i.jsx("a",{ajaxify:f,"data-hover":"tooltip","data-tooltip-alignh":"center",href:d("ProfileBrowserLink").constructPageURI(e,b).toString(),rel:"dialog",children:a},"others")};return b}(i.Component);g["default"]=a}),98);
__d("UFICommentAuthorName.react",["cx","ix","Badge.react","BootloadedComponent.react","Image.react","JSResource","TrackingNodes","UFIActor.react","UFISocialContext.react","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props,b=a.author,d=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.USER_NAME),e=null,f=a.isAuthorOriginalPoster&&!a.isFeatured;f&&(e=j.jsx("div",{className:"UFIOPIconContainer","data-tooltip-alignh":"center","data-hover":"tooltip","data-tooltip-content":"Original poster",children:j.jsx("i",{className:"UFIOriginalPosterIcon"})},"badge"));return j.jsxs(c("UFIActor.react"),{author:b,"data-ft":d,disableAuthorLink:a.disableAuthorLink,focusOnMount:a.focusOnMount,groupOrEventID:a.groupOrEventID,hovercardLocation:a.hovercardLocation,isAdminViewer:a.isAdminViewer,isAuthorBot:a.isAuthorBot,isAuthorNonCoworker:a.isAuthorNonCoworker,isAuthorWeakReference:a.isAuthorWeakReference,isPublic:this.props.isPublic,dialogUrl:a.dialogUrl,target:this.props.openLinkInNewTab?"_blank":"_self",onClick:this.props.onLinkClickCallback,showHovercard:a.showHovercard,useFirstName:a.useFirstName,children:[e,a.isFeatured?j.jsx(c("Badge.react"),{size:"xsmall",type:"verified"},"badge"):null,this.$1(b),this.$2(b),a.socialContext?j.jsx(c("UFISocialContext.react"),{topMutualFriend:a.authorProfiles[a.socialContext.topmutualid],otherMutualCount:a.socialContext.othermutualcount,commentAuthor:b}):null]},"author")};d.$2=function(a){var b=this.props.constituentBadge;if(b&&b.officeTitle&&b.representativeName&&b.commentId)return j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ConstituentBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:j.jsx("div",{}),authorFirstName:a.firstName,authorId:a.id,commentId:b.commentId,ftId:b.ftId,isOwner:b.isOwner,officeTitle:b.officeTitle,representativeName:b.representativeName,representativeId:b.representativeId,upsellEnabled:b.upsellEnabled},"constituentTitle");return this.props.hasConstituentBadge?j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ConstituentBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:j.jsx("div",{}),authorFirstName:a.firstName,authorId:a.id,commentId:this.props.commentID},"constituentTitle"):null};d.$1=function(a){return this.props.hasFriendsOnlyBadge?j.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("FriendsOnlyBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:j.jsx(c("Image.react"),{src:i("480274"),style:{marginLeft:"3px",verticalAlign:"-1px"}},"friendsOnlyBadge"),viewerIsAuthor:!!this.props.viewerIsAuthor,authorFirstName:a.firstName,commentPrivacyValue:this.props.commentPrivacyValue},"friendsOnlyBadge"):null};return b}(j.Component);a.propTypes={author:c("prop-types").object.isRequired,authorProfiles:c("prop-types").object.isRequired,commentID:c("prop-types").string,commentPrivacyValue:c("prop-types").number,constituentBadge:c("prop-types").object,dialogUrl:c("prop-types").string,disableAuthorLink:c("prop-types").bool,focusOnMount:c("prop-types").bool,groupOrEventID:c("prop-types").string,hasConstituentBadge:c("prop-types").bool,hasFriendsOnlyBadge:c("prop-types").bool,hovercardLocation:c("prop-types").string,isAdminViewer:c("prop-types").bool,isAuthorBot:c("prop-types").bool,isAuthorNonCoworker:c("prop-types").bool,isAuthorWeakReference:c("prop-types").bool,isAuthorOriginalPoster:c("prop-types").bool,isFeatured:c("prop-types").bool,isPublic:c("prop-types").bool,showHovercard:c("prop-types").bool,socialContext:c("prop-types").object,useFirstName:c("prop-types").bool,viewerIsAuthor:c("prop-types").bool,openLinkInNewTab:c("prop-types").bool,onLinkClickCallback:c("prop-types").func};g["default"]=a}),98);
__d("IntlLang",["UnicodeBidi"],(function(a,b,c,d,e,f,g){"use strict";b={HE:"\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f"};var h=new RegExp("["+b.HE+"]");function a(a){a=d("UnicodeBidi").firstStrongChar(a);if(a==null)return null;return h.exec(a)?"he":null}g.getLang=a}),98);
__d("UFICommentBody.react",["cx","CommentPrivacyValue","IntlLang","Locale","TrackingNodes","TruncatedTextWithEntities.react","UFICommentUtils","UFIConfig","UFIConstants","UnicodeBidi","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.props,b=a.commentText,e=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.USER_MESSAGE),f=d("UnicodeBidi").isDirectionLTR(b),g=!f,h=f&&d("Locale").isRTL()?"ltr":g&&!d("Locale").isRTL()?"rtl":null,j=d("IntlLang").getLang(b),k=d("UFICommentUtils").getCommentBodyInterpolator(a.groupOrEventID,a.ufiInstanceID,a.commentFBID,!!a.isLiveStreaming,a.commentPrivacy);k=i.jsx(c("TruncatedTextWithEntities.react"),{className:"UFICommentBody"+(a.showEmojisStandalone?" _iqk":""),interpolator:k,ranges:a.commentRanges,textDelightRanges:a.textDelightRanges,text:b,truncationPercent:d("UFIConstants").commentTruncationPercent,maxLength:a.maxLength,maxLines:a.maxLines,renderEmoticons:c("UFIConfig").renderEmoticons,renderEmoji:c("UFIConfig").renderEmoji,showEmojisStandalone:a.showEmojisStandalone,"data-ft":e,dir:h,lang:j,markViewerHasInteracted:this.props.markViewerHasInteracted,allowSeeMoreLinebreakOnLongWords:!0,shouldExpand:this.props.shouldExpand},"comment-body");if(a.socialContext)k=i.jsx("div",{children:k},"body");else{b=(f&&d("Locale").isRTL()?"_5wjy":"")+(f&&d("Locale").isRTL()?" _5wjz":"")+(g&&!d("Locale").isRTL()?" _5wj-":"")+(g&&!d("Locale").isRTL()?" _5wj_":"");k=b?i.jsx("div",{className:b,children:k},"body"):[" ",k]}return i.jsx("span",{children:k})};return b}(i.Component);a.propTypes={commentText:c("prop-types").string.isRequired,commentRanges:c("prop-types").array,commentPrivacy:c("prop-types").oneOf(Object.values(c("CommentPrivacyValue"))),textDelightRanges:c("prop-types").array,showEmojisStandalone:c("prop-types").bool,groupOrEventID:c("prop-types").string,maxLength:c("prop-types").number,maxLines:c("prop-types").number,socialContext:c("prop-types").object,markViewerHasInteracted:c("prop-types").func,ufiInstanceID:c("prop-types").string,commentFBID:c("prop-types").oneOfType([c("prop-types").string,c("prop-types").number]),isLiveStreaming:c("prop-types").bool,shouldExpand:c("prop-types").bool};g["default"]=a}),98);
__d("UFICommentPlayerStatsCard.react",["cx","fbt","XUIText.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k="\xb7";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){return j.jsx("span",{children:i._("{Stat Label}: {Stat Value}",[i._param("Stat Label",a.label),i._param("Stat Value",a.value)])})},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.shouldComponentUpdate=function(){return!1};d.$2=function(a){var b=a.stats.map(this.$1,this),d=[];for(var e=0;e<b.length;e+=2){var f=[];f.push(j.jsx("span",{children:b[e]},"first_stat"));e+1<b.length&&(f.push(j.jsx("span",{children:j.jsxs(c("XUIText.react"),{size:"header3",children:[" ",k," "]})},"separator")),f.push(j.jsx("span",{children:b[e+1]},"second_stat")));d.push(j.jsx("div",{children:f},"stat_row_"+e))}return j.jsxs("div",{className:"_3yk9",children:[j.jsx("div",{children:j.jsx(c("XUIText.react"),{size:"header4",weight:"bold",children:a.persona})}),d]})};d.render=function(){var a=this.props.comment.playerStatsCardData;return!a?j.jsx("div",{}):j.jsx("div",{className:"_3yk7",children:this.$2(a)})};return b}(j.Component);g["default"]=a}),98);
__d("UFICommentTranslationLink.react",["cx","ContentTranslationStrings","Link.react","XUISpinner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this;if(!this.props.showTranslation)return i.jsx(c("Link.react"),{className:"UFITranslateLink",onClick:function(){return a.$1()},children:c("ContentTranslationStrings").SEE_TRANSLATION});var b=this.props.translationData;if(!b)return i.jsx("div",{className:"UFITranslateLink",children:i.jsx(c("XUISpinner.react"),{background:"light",size:"small"})});var d=b.translatedText;if(!d||!d.text)return i.jsx("div",{className:"UFITranslationErrorText",children:c("ContentTranslationStrings").NO_TRANSLATION_AVAILABLE});d=this.props.isShowingOriginal||b.trigger==="logged_out_auto_translation";d=d?i.jsx("div",{className:"UFITranslateAttribution",children:c("ContentTranslationStrings").AUTOMATICALLY_TRANSLATED}):i.jsx(c("Link.react"),{className:"UFITranslateLink",onClick:function(){return a.$2()},children:this.props.shownInCommentActions?i.jsxs("div",{children:[i.jsx("span",{children:c("ContentTranslationStrings").SEE_ORIGINAL_LINK}),i.jsx("span",{children:" ("+b.sourceDialectName+")"})]}):c("ContentTranslationStrings").SEE_ORIGINAL_LINK});return d};d.$1=function(){this.props.onSeeTranslation&&this.props.onSeeTranslation()};d.$2=function(){this.props.onSeeOriginal&&this.props.onSeeOriginal()};return b}(i.Component);a.defaultProps={shownInCommentActions:!1};g["default"]=a}),98);
__d("UFICommentTranslationText.react",["cx","TruncatedTextWithEntities.react","UFIConfig","UFIConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;var c=b.props.translationData;b.state={shouldExpand:b.props.shouldExpand||!!c&&c.trigger==="see_translation"};return b}var e=b.prototype;e.render=function(){var a=this,b=this.props.translationData;if(!b||!this.props.showTranslation)return null;b=b.translatedText;return i.jsx(c("TruncatedTextWithEntities.react"),{className:"UFICommentBody",ranges:b.ranges,text:b.text,truncationPercent:d("UFIConstants").commentTruncationPercent,maxLength:d("UFIConstants").commentTruncationLength,maxLines:d("UFIConstants").commentTruncationMaxLines,renderEmoticons:d("UFIConfig").renderEmoticons,renderEmoji:d("UFIConfig").renderEmoji,dir:b.dir,shouldExpand:this.state.shouldExpand,markViewerHasInteracted:function(){return a.setState({shouldExpand:!a.state.shouldExpand})}})};return b}(i.Component);a.defaultProps={shouldExpand:!1};g["default"]=a}),98);
__d("UFICommentVPVTracker.react",["OnVisible.react","UFICommentVPVs","UFIConfig","clearTimeout","prop-types","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={timer:null},e.maybeScheduleVPVLogging=function(){if(e.state.timer!==null)return;var a=e.props.comment.id,b=e.props.contextArgs.instanceid;if(d("UFICommentVPVs").hasLoggedVPV(b,a))return;e.setState({timer:c("setTimeout")(function(){d("UFICommentVPVs").logVPV(b,a),e.setState({timer:null})},c("UFIConfig").vpvLoggingTimeout)})},e.cancelScheduledVPVLogging=function(){if(e.state.timer===null)return;c("clearTimeout")(e.state.timer);e.setState({timer:null})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.props.comment.id,b=this.props.contextArgs.instanceid,e=this.props.children;b=d("UFICommentVPVs").hasLoggedVPV(b,a);return h.jsx(c("OnVisible.react"),{onVisible:b?null:this.maybeScheduleVPVLogging,onHidden:b?null:this.cancelScheduledVPVLogging,children:e})};e.shouldComponentUpdate=function(a,b){return b.timer===this.state.timer};e.UNSAFE_componentWillReceiveProps=function(){this.cancelScheduledVPVLogging()};e.componentWillUnmount=function(){this.cancelScheduledVPVLogging()};return b}(h.Component);a.propTypes={comment:c("prop-types").object.isRequired,contextArgs:c("prop-types").object.isRequired};g["default"]=a}),98);
__d("UFICommentVoteArrow.react",["cx","fbt","Arbiter","JSResource","UFIConstants","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResource")("UFICommentVoteFirstArrowNUX.react").__setRef("UFICommentVoteArrow.react")),l=c("lazyLoadComponent")(c("JSResource")("UFICommentVoteNUX.react").__setRef("UFICommentVoteArrow.react")),m="TahoeView/selectCommentTab";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.state={enableFirstArrowNux:!0};c.arrowRef=null;c.setArrowRef=function(a){c.arrowRef=a,c.$1()&&c.forceUpdate()};return c}var e=b.prototype;e.componentDidMount=function(){var a=this;this.props.isFirstComment&&this.props.contextArgs.feedLocationType===131&&(this.setState({enableFirstArrowNux:!1}),c("Arbiter").subscribe(m,function(){return a.setState({enableFirstArrowNux:!0})}))};e.render=function(){var a=this,b=this.props,c=b.arrowType,e=b.hasViewerVoted,f=b.onArrowClick;b=b.UIVersion;var g=c===d("UFIConstants").UFICommentVoteType.UPVOTE,h=g&&e;g=g&&!e;c=c===d("UFIConstants").UFICommentVoteType.DOWNVOTE;var k=c&&e;c=c&&!e;e=g?i._("Elekeza juu"):c?i._("Elekeza chini"):void 0;return j.jsxs("a",{"aria-label":e,className:(b===d("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE?"_4-4u":"")+(h?" _2wdx":"")+(g?" _2wdy":"")+(k?" _2wdz":"")+(c?" _2wd-":""),href:"#",onClick:function(){f(),a.shouldRenderArrowNUX=!0},ref:this.setArrowRef,role:"button",children:[this.$2(),this.$3()]})};e.$2=function(){if(!this.shouldRenderArrowNUX)return null;var a=null;this.props.UIVersion===d("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE&&(a=this.props.nuxConfigs.voteArrowNUXV2);return!a||!this.arrowRef?null:j.jsx(j.Suspense,{fallback:j.jsx("div",{}),children:j.jsx(l,{context:this.arrowRef,nuxConfig:a,UIVersion:this.props.UIVersion,arrowNUXTextV2:this.props.arrowNUXTextV2})})};e.$1=function(){return Boolean(this.props.isFirstComment&&this.props.nuxConfigs.voteFirstArrowNUXV2&&this.props.UIVersion===d("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE&&this.arrowRef&&this.state.enableFirstArrowNux)};e.$3=function(){return!this.$1()?null:j.jsx(j.Suspense,{fallback:j.jsx("div",{}),children:j.jsx(k,{context:this.arrowRef,firstArrowNUXTitleV2:this.props.firstArrowNUXTitleV2,firstArrowNUXBodyV2:this.props.firstArrowNUXBodyV2,nuxConfig:this.props.nuxConfigs.voteFirstArrowNUXV2})})};return b}(j.Component);g["default"]=a}),98);
__d("UFICommentVoteArrowTooltip.react",["cx","UFIConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){if(this.props.UIVersion!==d("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE||this.props.displayedArrowTooltipType===d("UFIConstants").UFICommentVoteType.NONE)return null;var a=null;switch(this.props.displayedArrowTooltipType){case d("UFIConstants").UFICommentVoteType.UPVOTE:a=this.props.promoteText;break;case d("UFIConstants").UFICommentVoteType.DOWNVOTE:a=this.props.demoteText;break}return a===null?null:i.jsx("div",{className:"_6cw5",children:a})};return b}(i.Component);g["default"]=a}),98);
__d("UFICommentVoteCount.react",["cx","UFIConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props,b=a.voteCount,c=a.voteState,e=a.UIVersion;a=a.voteCountFormatter;var f=c===d("UFIConstants").UFICommentVoteType.UPVOTE,g=c===d("UFIConstants").UFICommentVoteType.DOWNVOTE;c=c===d("UFIConstants").UFICommentVoteType.NONE;e=e===d("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE;var h=null;e&&(b<0?g?h=a(-1):h=a(0):h=a(b));return h===null?null:i.jsx("a",{className:(e?"_4-4u":"")+" _14d0"+(f?" _12a5":"")+(g?" _12a6":"")+(c?" _12a7":""),href:"#",children:h})};return b}(i.Component);g["default"]=a}),98);
__d("UFICommentVote.react",["cx","UFICommentVoteArrow.react","UFICommentVoteArrowTooltip.react","UFICommentVoteCount.react","UFIConstants","debounce","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(e){var f;f=a.call(this,e)||this;f.state={displayedArrowTooltipType:d("UFIConstants").UFICommentVoteType.NONE};f.$2=function(){f.setState({displayedArrowTooltipType:d("UFIConstants").UFICommentVoteType.NONE})};b.disableFirstArrowTooltipDisplay=f.props.nuxConfigs.voteArrowNUXV2!==null;f.$1=c("debounce")(f.$2,f.props.arrowTooltipDisplayTimeMS);return f}var e=b.prototype;e.render=function(){var a=this,b=this.props,e=b.contextArgs,f=b.feedback,g=b.UIVersion,h=b.voteCount,j=b.voteState,k=b.onUpArrowClick,l=b.onDownArrowClick,m=b.arrowNUXTextV2,n=b.firstArrowNUXTitleV2;b=b.firstArrowNUXBodyV2;var o=this.props.voteCountFormatter(h).length<4;return i.jsxs("div",{className:(g===d("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE?"_2tm9":"")+(o?" _6jru":"")+(o?"":" _6jrv"),children:[i.jsx(c("UFICommentVoteArrow.react"),{arrowType:d("UFIConstants").UFICommentVoteType.UPVOTE,contextArgs:e,feedback:f,hasViewerVoted:j===d("UFIConstants").UFICommentVoteType.UPVOTE,UIVersion:g,onArrowClick:function(){k(),a.$3(d("UFIConstants").UFICommentVoteType.UPVOTE)},isFirstComment:this.props.isFirstComment,arrowNUXTextV2:m,firstArrowNUXTitleV2:n,firstArrowNUXBodyV2:b,nuxConfigs:this.props.nuxConfigs}),i.jsx(c("UFICommentVoteCount.react"),{voteCount:h,voteCountFormatter:this.props.voteCountFormatter,voteState:j,UIVersion:g}),i.jsx(c("UFICommentVoteArrow.react"),{arrowType:d("UFIConstants").UFICommentVoteType.DOWNVOTE,contextArgs:e,feedback:f,hasViewerVoted:j===d("UFIConstants").UFICommentVoteType.DOWNVOTE,UIVersion:g,onArrowClick:function(){l(),a.$3(d("UFIConstants").UFICommentVoteType.DOWNVOTE)},arrowNUXTextV2:m,firstArrowNUXTitleV2:n,firstArrowNUXBodyV2:b,nuxConfigs:this.props.nuxConfigs}),this.props.promoteText&&this.props.demoteText&&i.jsx(c("UFICommentVoteArrowTooltip.react"),{displayedArrowTooltipType:this.state.displayedArrowTooltipType,UIVersion:g,promoteText:this.props.promoteText,demoteText:this.props.demoteText})]})};e.$3=function(a){if(b.disableFirstArrowTooltipDisplay){b.disableFirstArrowTooltipDisplay=!1;return}var c=this.state.displayedArrowTooltipType;c===d("UFIConstants").UFICommentVoteType.NONE?this.props.voteState===a?this.$2():this.$4(a):c===a?this.$2():this.$4(a)};e.$4=function(a){this.setState({displayedArrowTooltipType:a}),this.$1()};return b}(i.Component);a.disableFirstArrowTooltipDisplay=!1;a.defaultProps={arrowTooltipDisplayTimeMS:0,arrowNUXTextV2:"",firstArrowNUXTitleV2:"",firstArrowNUXBodyV2:"",nuxConfigs:{voteArrowNUXV2:null,voteFirstArrowNUXV2:null},voteCountFormatter:function(a){return a.toString()}};g["default"]=a}),98);
__d("UFICommentVoteContainer.react",["FluxContainer","ReactDOM","UFICommentAction","UFICommentVote.react","UFICommentVoteSyncStore","UFIConstants","intlSummarizeNumber","prop-types","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=function(a){return c("intlSummarizeNumber")(a)};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getStores=function(){return[c("UFICommentVoteSyncStore")]};b.calculateState=function(a,b){return{voteCount:c("UFICommentVoteSyncStore").getVoteCount(b.comment.fbid),voteState:c("UFICommentVoteSyncStore").getVoteState(b.comment.fbid)}};var e=b.prototype;e.render=function(){var a=this,b=this.props,e=b.comment,f=b.contextArgs,g=b.feedback;b=b.UIVersion;var j=this.state,k=j.voteCount,l=j.voteState,m=d("ReactDOM").findDOMNode(this.refs.trigger);return h.jsx(c("UFICommentVote.react"),{contextArgs:f,feedback:g,UIVersion:b,voteCount:k,voteState:l,onUpArrowClick:function(){return a.$1(f,e,m,l)},onDownArrowClick:function(){return a.$2(f,e,m,l)},isFirstComment:this.props.isFirstComment,promoteText:e.upvoteLabel,demoteText:e.downvoteLabel,arrowTooltipDisplayTimeMS:parseInt(e.voteLabelVisibleDuration*1e3,10),arrowNUXTextV2:e.arrowNUXTextV2,firstArrowNUXTitleV2:e.firstArrowNUXTitleV2,firstArrowNUXBodyV2:e.firstArrowNUXBodyV2,nuxConfigs:e.voteNuxConfigs,voteCountFormatter:i})};e.$1=function(a,b,c,e){this.$3(a,b,c,e,d("UFIConstants").UFICommentVoteType.UPVOTE)};e.$2=function(a,b,c,e){this.$3(a,b,c,e,d("UFIConstants").UFICommentVoteType.DOWNVOTE)};e.$3=function(a,b,c,e,f){this.context.dispatch(d("UFICommentAction").changeVote(a,b,c,e,f))};return b}(h.Component);a.contextTypes={dispatch:c("prop-types").func};b=c("FluxContainer").create(a,{withProps:!0});g["default"]=b}),98);
__d("UFILiveCommentRedesignActions.react",["cx","fbt","ix","AbstractButton.react","Image.react","UFIReactionsLinkImpl.react","UFIThreadedFacecastCommentsUtils","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");function a(a){var b=a.comment,e=a.commentMenu,f=a.contextArgs,g=a.feedback;if(b.__typename==="local")return null;var h=d("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(b,f,g);return k.jsxs("div",{className:"_6hz3",children:[k.jsx(c("UFIReactionsLinkImpl.react"),{contextArgs:babelHelpers["extends"]({},f,{ftentidentifier:b.id}),comment:b,reaction:b.viewerreaction,supportedReactions:g.supportedreactions,ftIdentifier:f.ftentidentifier,showAlternateButtonForLiveStreamingRedesign:!0}),a.isInLiveVideoReplyMode||!d("UFIThreadedFacecastCommentsUtils").isEnabled(f)?null:k.jsx(c("AbstractButton.react"),{className:"_6hyz",label:i._("Jibu"),labelIsHidden:!0,onClick:function(a){a.preventDefault(),h&&h()},role:"button",image:k.jsx(c("Image.react"),{src:j("608136")})}),e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UFILiveCommentTimestamp.react",["cx","fbt","Middot.react","ShimButton.react","TimeOffset","Tooltip.react","UFIVideoPlayerRegistry","VideoTimestampsClicksWWWTypedLogger","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.props,b=a.comment,e=a.contextArgs;a=a.isInLiveVideoReplyMode;a=b.parentcommentid&&a;var f=null;if(!a){var g=typeof b.videoTimeOffset==="number"?b.videoTimeOffset:0;f=j.jsx(c("ShimButton.react"),{className:"_39g5",form:"link",onClick:function(a){a.preventDefault();a=new(c("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(g).setIsContentTimestamp(!0);b.__typename==="local"?a.setLocalCommentFeedbackID(b.ftentidentifier):a.setCommentID(b.fbid);a.log();d("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(e.instanceid,g)},children:d("TimeOffset").timeToTimestamp(g)})}b.postedLiveState==="Live"?a=j.jsx(c("Tooltip.react"),{tooltip:i._("Maoni yamechapishwa wakati video ilikuwa moja kwa moja"),children:j.jsx(c("Middot.react"),{className:"_5rr7"})}):b.postedLiveState==="OnDemand"?a=j.jsx(c("Tooltip.react"),{tooltip:i._("maoni yamechapishwa baada ya kukamilika kwa video ya moja kwa moja"),children:j.jsx(c("Middot.react"),{className:"_5rra"})}):a=j.jsx(c("Middot.react"),{className:"_5rra"});return j.jsxs("span",{children:[a,f]})};return b}(j.Component);a.propTypes={comment:c("prop-types").shape({fbid:c("prop-types").string,__typename:c("prop-types").string,postedLiveState:c("prop-types").oneOf(["Live","OnDemand"]),videoTimeOffset:c("prop-types").number,parentcommentid:c("prop-types").string}).isRequired,contextArgs:c("prop-types").shape({instanceid:c("prop-types").string.isRequired}).isRequired,isInLiveVideoReplyMode:c("prop-types").bool.isRequired};g["default"]=a}),98);
__d("UFIReactionBadgeDecorator.react",["cx","UFICommentReactionCount.react","queryThenMutateDOM","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=270,k=180,l=200;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.rootElement=null,c.renderAtBottomCanceller=null,c.state={renderAtBottom:!0},c.$1=function(a){c.rootElement=a},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.componentDidMount=function(){var a=this;this.props.onRenderAtBottomChange&&this.props.onRenderAtBottomChange(this.state.renderAtBottom);var b=j;this.props.contextArgs.source===17?b=k:this.props.contextArgs.source===41&&(b=l);var d=!0;this.renderAtBottomCanceller=c("queryThenMutateDOM")(function(){d=a.rootElement!=null&&a.rootElement.offsetWidth>=b||a.props.isFullWidthAttachment===!0},function(){a.renderAtBottomCanceller=null,d||(a.setState({renderAtBottom:!1}),a.props.onRenderAtBottomChange&&a.props.onRenderAtBottomChange(!1))})};d.componentWillUnmount=function(){this.renderAtBottomCanceller&&this.renderAtBottomCanceller.cancel()};d.render=function(){var a,b=this.props.comment.reactioncount>0&&this.props.contextArgs.feedLocationType!=182&&this.props.contextArgs.feedLocationType!=130?i.jsx(c("UFICommentReactionCount.react"),{comment:this.props.comment,actorForPost:this.props.feedback.actorforpost,supportedReactions:this.props.feedback.supportedreactions,contextArgs:this.props.contextArgs,showLiveStreamingRedesign:this.props.showLiveStreamingRedesign}):null;return i.jsxs("div",{className:"_10la"+(this.state.renderAtBottom?" _10lg":"")+(this.props.isFlexibleWidthAttachment?" _t-l":"")+(this.props.isFullWidthAttachment?" _3qr8":"")+("comment_place_info"===((a=this.props.comment)!=null?(a=a.attachment)!=null?a.type:a:a)?" _m_9":""),ref:this.$1,children:[this.props.children,i.jsx("div",{className:"_10lo"+(this.props.comment.reactioncount?" _10lp":""),children:b})]})};return b}(i.PureComponent);g["default"]=a}),98);
__d("VideoTipJarCommentBackground.react",["ix","Image.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=[h("99652"),h("99653"),h("99654")];a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=j[parseInt(this.props.tipOptionIndex,10)];return a?i.jsx(c("Image.react"),{src:a}):null};return b}(i.Component);g["default"]=a}),98);
__d("XCometGamingModeratorDashboardController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gaming/moderator/",{page:{type:"String"},ref_key:{type:"String"},ref:{type:"String"},external_ref:{type:"Enum",defaultValue:"unknown",enumType:1},no_cs_redirect:{type:"Bool",defaultValue:!1},page_id:{type:"FBID"},video_id:{type:"FBID"}})}),null);
__d("XUFIEditCommentNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/edit/nux/",{})}),null);
__d("UFIComment.react",["cx","fbt","ix","Arbiter","AsyncRequest","BootloadedComponent.react","Bootloader","CurrentUser","Dialog","EmojiRenderer","FRXServerFbt.react","FluxContainer","GamesVideoCommunityModerationController","HTML","HovercardLink","IdentityBadgeUtils","IdentityBadges.react","Image.react","InlineBlock.react","JSResource","LiveVideoPinnedCommentUtils","LoadingDialog.react","NFXContextFactory","QE2Logger","ReactDOM","ShareNowConstants","SubscriptionsHandler","SutroBlingBarGatingConfig","SutroPhase2GatingConfig","TrackingNodes","UFIActorIconContainer.react","UFICentralUpdates","UFICommentAction","UFICommentActions.react","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentLiveVideoAnnouncementImage.react","UFICommentMenu.react","UFICommentPlayerStatsCard.react","UFICommentTranslationLink.react","UFICommentTranslationText.react","UFICommentUtils","UFICommentVPVDTracker.react","UFICommentVPVTracker.react","UFICommentVoteContainer.react","UFIComments","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIConfig","UFIConstants","UFIImageBlock.react","UFILiveCommentRedesignActions.react","UFILiveCommentTimestamp.react","UFILivePinnedCommentStore","UFIODSLogger","UFIReactionBadgeDecorator.react","UFIRootRegistry","UFISharedDispatcher","UFIThreadedFacecastCommentsUtils","URI","VideoTipJarCommentBackground.react","XCometGamingModeratorDashboardController","XRapidReportingDialogController","XUFIEditCommentNuxController","XUIButton.react","XUIText.react","cr:1157215","emptyFunction","gkx","joinClasses","keyMirror","prop-types","react","requireDeferred","uniqueID"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=c("requireDeferred")("PresenceStatus").__setRef("UFIComment.react"),m="share_on_comment_v1",n=c("keyMirror")({edit:!0,hide:!0,remove:!0,embed:!0,manageConstituentBadge:!0,delete_and_block:!0,delete_comment_with_feedback:!0,delete_comment_and_remove_commenter:!0,mute_member:!0,hide_text_delights:!0,bulk_review:!0,pin_by_author:!0,live_video_pin:!0,live_video_unpin:!0,report:!0,report_to_moderator:!0,community_moderated_delete:!0,mute:!0,stream_ban:!0,page_ban:!0,moderator_dashboard:!0});a="ufi_comment_close_button";e="ufi_highlighted_comment";f="ufi_comment_menu_delete";h="ufi_comment_menu_edit";a="ufi_comment_menu_hide";var o="ufi_comment_menu_report";e="ufi_comment_menu_embed";var p="ufi_comment_menu_manage_constituent_badge",q="ufi_comment_menu_delete_and_block",r="ufi_comment_menu_delete_comment_and_remove_commenter",s="ufi_comment_menu_delete_comment_with_feedback",t="ufi_comment_menu_mute_member",u="ufi_comment_hide_text_delights",v="ufi_comment_menu_pin_by_author",w="ufi_comment_menu_unpin_by_author",x="ufi_comment_menu_live_video_pin",y="ufi_comment_menu_live_video_unpin",z="ufi_comment_menu_report_to_moderator",A="ufi_comment_menu_community_moderated_delete",B="ufi_comment_menu_mute",C="ufi_comment_menu_stream_ban",D="ufi_comment_menu_page_ban",E="ufi_comment_menu_moderator_dashboard",F={testid:f,value:n.remove,label:i._("Futa Maoni...")},G={testid:h,value:n.edit,label:i._("Hariri...")},H={testid:a,value:n.hide,label:i._("Ficha Maoni")},I={testid:e,value:n.embed,label:i._("Pachika")},J={testid:q,value:n.delete_and_block,label:i._("Futa Maoni na Uzuie Mtumiaji...")},K={testid:s,value:n.delete_comment_with_feedback,label:i._("Ondoa Maoni")},L={testid:r,value:n.delete_comment_and_remove_commenter,label:i._("Futa Maoni na Umwondoe Mwanachama")},M={testid:f,value:n.remove,label:i._("Futa...")},N={testid:p,value:n.manageConstituentBadge,label:i._("Dhibiti Beji ya Mpiga Kura")},O={testid:t,value:n.mute_member,label:i._("Nyamazisha Sauti ya Mwanachama")},P={testid:t,value:n.mute_member,label:i._("Fungua Sauti ya Mwanachama")},Q={testid:u,value:n.hide_text_delights,label:i._("Ondoa Athari za Matini")},R={testid:u,value:n.hide_text_delights,label:i._("Add Text Effects")},S={testid:v,value:n.pin_by_author,label:i._("Bana Maoni")},T={testid:w,value:n.pin_by_author,label:i._("Banua Maoni")},U={testid:x,value:n.live_video_pin,label:i._("Bana Maoni")},V={testid:y,value:n.live_video_unpin,label:i._("Banua Maoni")},W={testid:z,value:n.report_to_moderator,label:i._("Ripoti kwa Mratibu")},X={testid:A,value:n.community_moderated_delete,label:i._("Futa Maoni")},Y={testid:B,value:n.mute,label:i._("Nyamazisha")},aa={testid:C,value:n.stream_ban,label:i._("Piga Marufuku Kutoka kwenye Mkondo")},ba={testid:D,value:n.page_ban,label:i._("Piga Kutoka kwenye Ukurasa")},ca={testid:E,value:n.moderator_dashboard,label:i._("Nenda kwenye Dashibodi ya Mratibu")},da=14,Z=3,$=null,ea=function(a){a=a.status;return a===d("UFIConstants").UFIStatus.FAILED_ADD||a===d("UFIConstants").UFIStatus.FAILED_EDIT},fa=function(a,b){return!!a.tipOptionIndex&&b==="newsstand"};function ga(a){return a.commenterIsFOF!==void 0&&a.userIsMinor!==void 0&&a.reportLink!==void 0&&a.isBroadcast!==void 0&&a.showStreamBanControls!==void 0}h=function(a){babelHelpers.inheritsLoose(f,a);var e=f.prototype;e.getReportActionMenuData=function(){var a=this.props.contextArgs.frxActionTitle;return{testid:o,value:n.report,label:a?k.jsx(c("FRXServerFbt.react"),{blob:a}):null}};function f(b){var e;e=a.call(this,b)||this;e.$1=null;e.$3=function(a){e.context.dispatch(d("UFICommentAction").markAsSpam(e.props.contextArgs,e.props.comment,a.target)),e.setState({markedAsSpamHere:!0})};e.$12=function(a){e.context.dispatch(d("UFICommentAction").markAsNotSpam(e.props.contextArgs,e.props.comment,a)),e.setState({markedAsSpamHere:!1})};e.$13=function(a){e.$14(a,function(){return e.setState({isInlinePageDeleted:!0})})};e.$15=function(a){e.context.dispatch(d("UFICommentAction").remove(e.props.contextArgs,e.props.comment,a.target,c("emptyFunction")))};e.$21=function(a){e.context.dispatch(d("UFICommentAction").inlineBan(e.props.contextArgs,e.props.comment,a,e.props.feedback.ownerid)),e.setState({isInlineBanned:!0})};e.$22=function(a){e.context.dispatch(d("UFICommentAction").undoInlineBan(e.props.contextArgs,e.props.comment,a,e.props.feedback.ownerid)),e.setState({isInlineBanned:!1})};e.$23=function(a){e.context.dispatch(d("UFICommentAction").inlineStreamBan(e.props.contextArgs,e.props.comment,a,e.props.feedback.ownerid)),e.setState({isInlineStreamBanned:!0})};e.$24=function(a){e.context.dispatch(d("UFICommentAction").undoInlineStreamBan(e.props.contextArgs,e.props.comment,a,e.props.feedback.ownerid)),e.setState({isInlineStreamBanned:!1})};e.$25=function(a){e.context.dispatch(d("UFICommentAction").inlineSuspension(e.props.contextArgs,e.props.comment,a,e.props.feedback.ownerid,900)),e.setState({isInlineSuspended:!0})};e.$26=function(a){e.context.dispatch(d("UFICommentAction").undoInlineSuspension(e.props.contextArgs,e.props.comment,a,e.props.feedback.ownerid)),e.setState({isInlineSuspended:!1})};e.$29=function(a,b){var f=b.item,g=f.getValue();window.setTimeout(function(){var b=this.props,e=b.comment,h=b.contextArgs;b=b.feedback;if(g===n.remove)this.$15(a);else if(g===n.delete_and_block)this.$16(f);else if(g===n.delete_comment_with_feedback)this.$17(a);else if(g===n.delete_comment_and_remove_commenter)this.$18(a);else if(g===n.edit)this.context.dispatch(d("UFICommentAction").edit(h,e));else if(g===n.hide)this.$3(a);else if(g===n.report)this.$10(a);else if(g===n.report_to_moderator)this.$4(a);else if(g===n.community_moderated_delete)this.$5(a);else if(g===n.mute)this.$6(a);else if(g===n.stream_ban)this.$7(a);else if(g===n.page_ban)this.$8(a);else if(g===n.moderator_dashboard)this.$9(a);else if(g===n.mute_member)this.$19(a);else if(g===n.bulk_review)this.context.dispatch(d("UFICommentAction").bulkReview(h,e));else if(g===n.hide_text_delights)this.$20(a);else if(g===n.embed)this.context.dispatch(d("UFICommentAction").embed(h,e));else if(g===n.manageConstituentBadge)this.context.dispatch(d("UFICommentAction").manageConstituentBadge(h,e));else if(g===n.pin_by_author)this.context.dispatch(d("UFICommentAction").pinByAuthor(h,e,!e.ispinnedbyauthor));else if(g===n.live_video_pin||g===n.live_video_unpin){var i=g===n.live_video_unpin;if(i&&h.isLiveVOD){var j=c("UFILivePinnedCommentStore").getPinEventID(h.ftentidentifier);j!=null&&this.$2.addSubscriptions(d("LiveVideoPinnedCommentUtils").unpinVODComment(e.id,j,h))}else d("LiveVideoPinnedCommentUtils").toggleCommentPin({commentFBID:e.fbid,commentID:e.id,contextArgs:h,isPinned:i})}else c("UFICentralUpdates").inform(g,{comment:e,feedback:b})}.bind(babelHelpers.assertThisInitialized(e)),0)};e.$30=function(){e.setState({showPinnedCommentNux:!1})};e.$33=function(a){e.setState({renderReactionBadgeAtBottom:a})};var f=b.comment;b=b.contextArgs;e.state={isHighlighting:f.highlightcomment,wasHighlighted:f.highlightcomment,markedAsSpamHere:!1,isInlinePageDeleted:!1,isInlineBanned:!1,isInlineSuspended:!1,isInlineStreamBanned:!1,loggedLiveUpdate:!1,showBody:!1,hideSpamComment:!1,loadingDialogWhenSharing:!1,isHiddenInStreamingBecauseParentIsHidden:!1,hasSeenEditNux:!0,editNuxHelpUri:"",liveStreamingRedesignPopoverMenuShown:!1,renderReactionBadgeAtBottom:!0,showPinnedCommentNux:!!b.shouldShowPinnedCommentNux,authorPresenceStatus:0};return e}f.getStores=function(){return[c("UFILivePinnedCommentStore")]};f.calculateState=function(a,b){b=c("UFILivePinnedCommentStore").getPinnedCommentID(b.contextArgs.ftentidentifier);return babelHelpers["extends"]({},a,{currentPinnedCommentID:b})};e.$4=function(a){var b=this;c("Bootloader").loadModules(["RelayFBEnvironment","ReportCommunityModerationEventMutation"],function(a,c){c=c.reportComment;c(a,b.props.comment.fbid,function(){})},"UFIComment.react")};e.$5=function(a){a=c("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"NONE")};e.$6=function(a){a=c("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"MUTE",900)};e.$7=function(a){a=c("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"STREAM_BAN")};e.$8=function(a){a=c("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"PAGE_BAN")};e.$9=function(a){a=c("XCometGamingModeratorDashboardController").getURIBuilder().getURI();c("URI").goURIOnNewWindow(a)};e.$10=function(a){a=c("XRapidReportingDialogController").getURIBuilder().setString("context",this.$11()).getURI();new(c("AsyncRequest"))(a).send()};e.$11=function(){var a="feed";this.props.contextArgs.location==="event"?a="event":this.props.feedback.isownerpage?a="page":this.props.feedback.grouporeventid&&this.props.feedback.grouporeventid.length>0&&(a="group");return d("NFXContextFactory").withEntReportable({reportable_ent_token:this.props.comment.fbid,story_location:a,entry_point:"comment"})};e.$14=function(a,b,c){c===void 0&&(c=!1),this.context.dispatch(d("UFICommentAction").remove(this.props.contextArgs,this.props.comment,a.target,b,c))};e.$16=function(a){this.context.dispatch(d("UFICommentAction").removeAndBlock(this.props.contextArgs,this.props.comment,a,c("emptyFunction")))};e.$17=function(a){this.context.dispatch(d("UFICommentAction").deleteCommentWithFeedback(this.props.contextArgs,this.props.comment,a.target))};e.$18=function(a){this.context.dispatch(d("UFICommentAction").delete_comment_and_remove_commenter(this.props.contextArgs,this.props.comment,a.target,c("emptyFunction")))};e.$19=function(a){this.context.dispatch(d("UFICommentAction").mute_member(this.props.contextArgs,this.props.comment,a.target,c("emptyFunction")))};e.$20=function(a){var b=this;this.context.dispatch(d("UFICommentAction").toggle_text_delights(this.props.contextArgs,this.props.comment,a.target));c("Bootloader").loadModules(["TextDelightNUXLogger"],function(a){a.menuItemClick(b.props.comment.fbid)},"UFIComment.react")};e.$27=function(a){this.$28()&&this.setState({liveStreamingRedesignPopoverMenuShown:a})};e.$31=function(){return[G,M]};e.$32=function(){this.setState({showBody:!1}),this.props.comment.translationdata||this.context.dispatch(d("UFICommentAction").translate(this.props.contextArgs,this.props.comment,"see_translation"))};e.$34=function(){var a=null,b=null,d=null,e=null,f=c("UFICommentMenu.react").MenuType.CLOSE,g=this.props,h=g.comment;g=g.contextArgs;var j=h.canEditConstituentTitle,k=h.canembed&&c("UFIConfig").showCommentEmbedOption,l=h.canremove&&h.candeleteandblockcommenter,m=!1,n=!1,o=!1;if(this.$28()&&g.enablePinLiveComments&&!h.tipOptionIndex&&h.__typename!=="local"){var p=h.id===this.state.currentPinnedCommentID;if(g.islivestreaming)m=!p,n=p;else if(g.isLiveVOD&&p){p=c("UFILivePinnedCommentStore").getPinEventID(g.ftentidentifier);n=p!=null}}g=this.props.contextArgs.feedLocationType===66?!1:this.props.hideAsSpamForPageAdmin;p=this.props.contextArgs.feedLocationType===36&&this.props.feedback.isownerpage;var q=this.props.comment.candeletecommentwithfeedback;q=q?K:F;var r=!this.props.viewerIsAuthor&&(!h.canremove||p||c("CurrentUser").isWorkUser()&&c("gkx")("967282"));h.canremove&&!g?this.props.viewerIsAuthor&&h.canedit?(e=k?i._("Hariri, futa au pachika hii"):i._("Hariri au futa hii"),f=c("UFICommentMenu.react").MenuType.EDIT,j?(b=[N],b=b.concat(this.$31())):b=this.$31()):this.props.showRemoveReportMenu?(k?e=r?i._("Ondoa, ficha, ripoti au pachika haya"):i._("Ondoa, ficha au pachika haya"):e=r?i._("Ondoa, ficha au ripoti haya"):i._("Ondoa au ficha haya"),b=[q,H],r&&(b.push(this.getReportActionMenuData()),o=!0)):this.props.feedback.customcommentactionlinks?(e=k?i._("Ondoa hii"):i._("Ondoa au pachika hili"),b=[q],f=c("UFICommentMenu.react").MenuType.EDIT):(e=k?i._("Ondoa au pachika hili"):i._("Ondoa hii"),!k&&!l&&!m&&!n?a=this.$15:b=[M]):this.props.feedback.customcommentactionlinks&&!p?(e=k?i._("Ficha au pachika hii"):i._("Ficha hii"),b=[H],f=c("UFICommentMenu.react").MenuType.EDIT):h.canreport&&(k?e=r?i._("Ficha, ripoti au pachika haya"):i._("Ficha au pachika hii"):e=r?i._("Ficha au ripoti haya"):i._("Ficha hii"),b=[H],r&&(b.push(this.getReportActionMenuData()),o=!0));k&&(b||(b=[]),b.push(I),f=c("UFICommentMenu.react").MenuType.CHEVRON);h.canremove&&h.canviewerremovecommenter&&(d||(d=[]),d.push(L));l&&(b||(b=[]),b.push(J));typeof h.ispinnedbyauthor==="boolean"&&(h.canviewerpin&&!h.ispinnedbyauthor&&(b||(b=[]),b.push(S)),h.canviewerunpin&&h.ispinnedbyauthor&&(b||(b=[]),b.push(T)));if(m||n){b||(b=[]);g=m?U:V;b.length>0&&b[0]===G?b.splice(1,0,g):b.unshift(g);e=i._("Ratibu maoni")}h.canmutemembers&&!this.props.viewerIsAuthor&&(d||(d=[]),h.ismuted?d.push(P):d.push(O));h.canedit&&this.props.viewerIsAuthor&&this.$35(h)&&(b||(b=[]),h.text_delights_are_hidden?b.push(R):b.push(Q));if(this.props.feedback.customcommentactionlinks)for(var s in this.props.feedback.customcommentactionlinks){j=this.props.feedback.customcommentactionlinks[s];if(!j.showInMenu)continue;b||(b=[]);b.push({testid:j.type,value:j.type,label:j.title})}q=b?b.length:0;p=d?d.length:0;(q+p>1||f===c("UFICommentMenu.react").MenuType.CLOSE)&&(f=c("UFICommentMenu.react").MenuType.DOTS);r=c("GamesVideoCommunityModerationController").get();r&&r.shouldSubscribeToCommunityModerationEvents(this.props.contextArgs)&&(this.props.viewerIsAuthor?(b=this.$31(),e=i._("Hariri, futa au pachika hii")):!this.props.comment.authorIsModerator?(b=[H],this.props.feedback.canviewermoderate?(b.push(X,Y,aa,ba,ca),e=i._("Ficha au ratibu hii")):(e=i._("Ficha au ripoti haya"),b.push(W)),h.canreport&&b.push(this.getReportActionMenuData())):b=[this.getReportActionMenuData()],b.push(I));return{closeTooltip:e,menuType:f,onClick:a,menuData:b,menuUserSection:d,reportActionPossible:o}};e.$36=function(){var a=this,b=c("XUFIEditCommentNuxController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(b).setMethod("POST").setHandler(function(b){a.setState({hasSeenEditNux:!!b.payload.seen_nux,editNuxHelpUri:b.payload.help_uri})}).send()};e.$35=function(a){if(a.body&&a.body.ranges&&a.canhidetextdelights){for(var b=0;b<a.body.ranges.length;b++)if(a.body.ranges[b].campaign)return!0;return a.text_delights_are_hidden}return!1};e.$37=function(){var a=this;if(this.props.contextArgs.feedLocationType===130||this.props.contextArgs.feedLocationType===182||this.props.inReviewView)return k.jsx("div",{});var b=this.$34(),d=b.onClick,e=b.menuData,f=b.menuUserSection,g=b.closeTooltip;b=b.menuType;var h=null;this.props.comment.canedit&&this.props.viewerIsAuthor&&this.$35(this.props.comment)&&(h=k.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:k.jsx("div",{}),bootloadLoader:c("JSResource")("TextDelightNUX.react").__setRef("UFIComment.react"),container:this,contextRef:function(){return a.refs.comment_menu},nuxId:5551,instance:this.props.comment.fbid,children:i._("Unaweza kudhibiti iwapo wewe na marafiki zako mnaweza kuona rangi ya maandishi na uhuishaji kwenye maoni haya.")}),d===null&&(d=function(b){c("Bootloader").loadModules(["TextDelightNUXLogger"],function(b){b.menuClick(a.props.comment.fbid)},"UFIComment.react")}));var j="UFICommentCloseButton"+(d===null&&e===null?" hdn":"")+(h!==null?" UFICommentCloseButtonNux":"")+"",l=null,m=null;this.props.contextArgs.viewas&&(l="/ajax/profile/link_disabled_in_viewas.php",m="dialog",d=null);var n=this.$38(),o=this.$28(),p=function(a){d!=null&&d(a)},q=c("GamesVideoCommunityModerationController").get();q=q&&q.shouldSubscribeToCommunityModerationEvents(this.props.contextArgs);l=k.jsx(c("UFICommentMenu.react"),{ajaxify:l,"aria-label":g,className:j,"data-testid":void 0,onClick:p,rel:m,tooltip:g,menuUserSection:f,menuData:e,menuType:b,onMenuShown:this.$30,onAction:this.$29,popoverMenuPosition:o||q?"above":null,ref:"comment_menu",showRedesign:o,showPinnedCommentNux:this.state.showPinnedCommentNux,onPopoverMenuShow:function(){return a.$27(!0)},onPopoverMenuHide:function(){return a.$27(!1)},commentID:this.props.comment.fbid});return k.jsxs("span",{className:(n?"":"_36rj")+(n?" _2tm9":"")+(n?" _4-4u":"")+(n?" _6cdx":"")+(this.state.liveStreamingRedesignPopoverMenuShown||((j=this.props.contextArgs.liveVideoCommentRedesignConfig)==null?void 0:j.alwaysShowButtons)?" _6jcy":""),children:[o?k.jsx(c("UFILiveCommentRedesignActions.react"),{contextArgs:this.props.contextArgs,comment:this.props.comment,commentMenu:l,feedback:this.props.feedback,isInLiveVideoReplyMode:!!this.props.isInLiveVideoReplyMode}):l,h,this.$39()]})};e.$39=function(){var a=this,b=this.state.showPinnedCommentNux;return b?k.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:k.jsx("div",{}),bootloadLoader:c("JSResource")("UFIGroupsPinnedCommentsNux.react").__setRef("UFIComment.react"),contextRef:function(){return a.refs.comment_menu},commentID:this.props.comment.fbid}):null};e.componentDidMount=function(){var a=this,b=this.props,e=b.comment,f=b.contextArgs;b=b.orderingMode;this.$2=new(c("SubscriptionsHandler"))();if(f.source===1){var g=!!e.parentcommentid;g?d("UFIODSLogger").bump("comment.newsfeed.replies.componentDidMount","legacy"):d("UFIODSLogger").bump("comment.newsfeed.toplevel.componentDidMount","legacy")}e.trackingID&&this.props.isOptimisticallyRendered&&d("UFICommonInteractionLogger").endInteraction(e.trackingID+c("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT);if(this.state.isHighlighting){var h=f.feedLocationType===137,i=d("ReactDOM").findDOMNode(this),j=e.body&&e.body.text;j&&(i=this.$1);var k=parseInt(e.scrolltopoffset||0,10);this.$2.addSubscriptions(c("Bootloader").loadModules(["UFIScrollHighlight"],function(a){window.setTimeout(function(){d("UFIRootRegistry").isSnowliftNode(f.rootid)||h?h?a.actOnWorkplaceHubSnowliftElem(i,k):a.actOnSnowliftElem(i,k):a.actOn(i,k,j)},0)},"UFIComment.react"));this.setState({isHighlighting:!1})}e.fbid&&window.setTimeout(function(){return c("UFISharedDispatcher").dispatch(d("UFICommentAction").mounted(f,{comment:e,isLivePinnedComment:Boolean(a.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(a.props.isInLiveVideoReplyMode)}))},0);g=function(b,c){return a.setState({markedAsSpamHere:!0})};c("Arbiter").subscribe("bulk_actions_hidden",g);var m=e.parentcommentid;if(b==="live_streaming"&&!!m){this.$2.addSubscriptions(c("UFICentralUpdates").subscribe("update-actions",function(b,c){if(!c.actions)return;c.actions.forEach(function(b){switch(b.actiontype){case"fa-type:confirm-remove":if(b.commentid===m){b=d("UFIComments").getComment(m);a.setState({isHiddenInStreamingBecauseParentIsHidden:b?b.status===d("UFIConstants").UFIStatus.SPAM_DISPLAY:!1})}break;default:return}})}));g=d("UFIComments").getComment(m);this.setState({isHiddenInStreamingBecauseParentIsHidden:g?g.status===d("UFIConstants").UFIStatus.SPAM_DISPLAY:!1})}f.enableCommentPresence&&!this.props.viewerIsAuthor&&this.$2.addSubscriptions(l.onReady(function(b){var c=function(){a.setState({authorPresenceStatus:b.get(e.author)})};a.$2.addSubscriptions(b.subscribe("change",c));c()}))};e.componentDidUpdate=function(a){this.props.comment.trackingID&&a.isOptimisticallyRendered&&!this.props.isOptimisticallyRendered&&d("UFICommonInteractionLogger").endInteraction(this.props.comment.trackingID+c("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT),this.props.comment.originalTimestamp&&this.props.comment.canedit&&this.state.editNuxHelpUri===""&&this.$36(),a.comment.attachment==null&&this.props.comment.attachment!=null&&c("Arbiter").inform("ufi/commentChanged",{ftentidentifier:this.props.contextArgs.ftentidentifier})};e.componentWillUnmount=function(){var a=this;this.props.comment.fbid&&window.setTimeout(function(){return c("UFISharedDispatcher").dispatch(d("UFICommentAction").unmounted(a.props.contextArgs,{comment:a.props.comment,isLivePinnedComment:Boolean(a.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(a.props.isInLiveVideoReplyMode)}))},0);this.$2.release()};e.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return a.comment!==c.comment||a.showReplyLink!==c.showReplyLink||a.isFirst!==c.isFirst||a.isLast!==c.isLast||a.isFirstCommentComponent!==c.isFirstCommentComponent||a.isLastCommentComponent!==c.isLastCommentComponent||a.isFirstComponent!==c.isFirstComponent||a.isLastComponent!==c.isLastComponent||a.isFeatured!==c.isFeatured||a.hasPartialBorder!==c.hasPartialBorder||a.showTranslation!==c.showTranslation||a.shouldTranslateAllVisibleComments!==c.shouldTranslateAllVisibleComments||b.wasHighlighted!==d.wasHighlighted||b.isHighlighting!==d.isHighlighting||b.markedAsSpamHere!==d.markedAsSpamHere||b.isInlinePageDeleted!==d.isInlinePageDeleted||b.isInlineBanned!==d.isInlineBanned||b.isInlineStreamBanned!==d.isInlineStreamBanned||b.isInlineSuspended!==d.isInlineSuspended||b.showBody!==d.showBody||b.hideSpamComment!==d.hideSpamComment||b.loadingDialogWhenSharing!==d.loadingDialogWhenSharing||b.isHiddenInStreamingBecauseParentIsHidden!==d.isHiddenInStreamingBecauseParentIsHidden||b.hasSeenEditNux!==d.hasSeenEditNux||b.currentPinnedCommentID!==d.currentPinnedCommentID||b.showPinnedCommentNux!==d.showPinnedCommentNux};e.$28=function(){var a=this.props.contextArgs.liveVideoCommentRedesignConfig;return!!a&&a.showRedesign&&this.props.orderingMode==="live_streaming"};e.render=function(){var a=this;if(this.state.isHiddenInStreamingBecauseParentIsHidden)return null;var e=this.props,f=e.contextArgs,g=e.comment;e=e.feedback;var h=g.status===d("UFIConstants").UFIStatus.DELETED,j=g.status===d("UFIConstants").UFIStatus.LIVE_DELETED,l=g.status===d("UFIConstants").UFIStatus.SPAM_DISPLAY;if(h)return null;h=this.state.markedAsSpamHere;var m=this.state.isInlinePageDeleted,n=this.props.hideAsSpamForPageAdmin,o=this.props.communityModerationState,p=this.state.isInlineBanned,q=this.state.isInlineStreamBanned,r=this.state.isInlineSuspended,s=c("GamesVideoCommunityModerationController").get();if(o==="REMOVED"&&b("cr:1157215")!=null)return k.jsx(b("cr:1157215"),{authorIsViewer:this.props.viewerIsAuthor,menuData:[M],onCommentMenuAction:this.$29,onClick:this.props.viewerIsAuthor?function(){s&&s.showCommentRemovedDialog(g.id)}:null});g.islive&&!this.state.loggedLiveUpdate&&this.setState({loggedLiveUpdate:!0});o=ga(g);var t=!g.status&&(g.isunseen||g.__typename==="local");if(!g.status&&e.lastseentime){var u=g.originalTimestamp||(g.timestamp||{}).time||0;t=t||u>e.lastseentime}u=f.markedcomments;u&&u[g.legacyid]&&(t=!0);(this.props.orderingMode==="live_streaming"||this.props.isLivePinnedComment)&&(t=!1);e="UFIRow"+(this.props.inReviewView?" UFICommentInReview":"")+(this.props.isFirst?" _48ph":"")+(this.props.isLast?" UFILastComment":"")+(this.props.isFirstCommentComponent?" _48pi":"")+(this.props.isLastCommentComponent?" UFILastCommentComponent":"")+(!this.$38()&&(this.props.isFirstComponent||c("SutroBlingBarGatingConfig").enabled&&this.props.isFirstCommentComponent)?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.props.isLivePinnedComment?" UFILivePinnedComment":"");u=i._("Maoni");var v=i._("Maoni ya kujibu");v=g.parentcommentid?v:u;if(o)if($){u=null;o=null;var w=null,x=null,y=null,z=null;n?(w=p?this.$22:this.$21,x=q?this.$24:this.$23,z=r?this.$26:this.$25,m?u=i._("Umefuta maoni haya kwa hivyo hakuna mtu anayeweza kuyaona."):h&&(u=i._("Hii inaonekana tu kwa mtu aliyeiandika pamoja na marafiki zake."),y=this.$13,o=this.$12)):h&&(u=i._("maoni haya yamefichwa."),y=this.$13,o=this.$12);s&&s.shouldSubscribeToCommunityModerationEvents(f)&&(w=function(){s.removeComment(a.props.comment.fbid,"PAGE_BAN")},x=function(){s.removeComment(a.props.comment.fbid,"STREAM_BAN")},z=function(){s.removeComment(a.props.comment.fbid,"MUTE",900)},y=function(){s.removeComment(a.props.comment.fbid,"NONE")});if(u)return k.jsx("div",{className:e,role:"article","aria-label":v,children:k.jsx($,{notice:u,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:o,onBanAction:w,onStreamBanAction:x,onSuspendAction:z,onDeleteAction:y,isInlineBanned:p,isInlinePageDeleted:m,isInlineStreamBanned:q,isInlineSuspended:r,hideAsSpamForPageAdmin:n,pageID:this.props.feedback.ownerid})})}else c("Bootloader").loadModules(["UFICommentRemovalControls.react"],function(a){$=a,window.setTimeout(function(){this.forceUpdate()}.bind(this))}.bind(this),"UFIComment.react");h="comment_"+c("uniqueID")();u=c("joinClasses")(e,"UFIComment"+(ea(g)?" UFICommentFailed":"")+(fa(g,f.location)?" UFITipJarComment":"")+(j||l||this.props.isTranslucent||g.parentNeedsApproval?" UFITranslucentComment":"")+(this.state.isHighlighting?" highlightComment":"")+" _4oep"+(this.props.hasPartialBorder?" UFIPartialBorder":"")+(t?" UFIUnseenItem":"")+(g.isAnnouncement?" UFICommentLiveVideoAnnouncement":""));o=this.renderComment();w=f.mayLogVPVs&&this.props.orderingMode==="ranked_threaded";g.__typename!=="local"&&!g.isAnnouncement&&(w&&(o=k.jsx(c("UFICommentVPVTracker.react"),{comment:g,contextArgs:f,children:o})),o=k.jsx(c("UFICommentVPVDTracker.react"),{renderedComment:{comment:g,isLivePinnedComment:Boolean(this.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(this.props.isInLiveVideoReplyMode)},contextArgs:this.props.contextArgs,children:o}));return k.jsx("div",{id:h,className:u,role:"article","aria-label":v,"data-testid":void 0,"data-ft":this.props["data-ft"],children:o})};e.$40=function(a,b){b=this.props;var e=b.comment,f=b.feedback,g=e.body?e.body.text:"",h=d("UFICommentUtils").shallowCopyRanges(e.body&&e.body.ranges),i=d("UFICommentUtils").shallowCopyRanges(e.body&&e.body.delight_ranges);g=d("UFICommentUtils").getCommentTextWithTruncatedURIs(h,g);var j=null,l=null;!b.isLocallyComposed&&!this.state.wasHighlighted&&(l=d("UFIConstants").commentTruncationLength,j=d("UFIConstants").commentTruncationMaxLines);if(e.body&&e.body.markdown_enabled&&e.body.markup&&c("HTML").isHTML(e.body.markup))return k.jsx("span",{dangerouslySetInnerHTML:e.body.markup});if(e.isJoinEvent)return k.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("UFIJoinEvent.react").__setRef("UFIComment.react"),bootloadPlaceholder:k.jsx("span",{}),comment:e});var m=this.$41(g);return k.jsx(c("UFICommentBody.react"),{socialContext:e.socialcontext,commentText:g,commentRanges:h,commentPrivacy:e.privacy_value,textDelightRanges:i,showEmojisStandalone:m,groupOrEventID:f.grouporeventid,maxLength:l,maxLines:j,markViewerHasInteracted:this.props.markViewerHasInteracted,shouldExpand:a,ufiInstanceID:this.props.contextArgs.instanceid,commentFBID:e.fbid,isLiveStreaming:b.contextArgs.islivestreaming})};e.$41=function(a){if(!a||a.length>da*Z)return!1;var b=d("EmojiRenderer").parse(a);if(!b)return!1;var c=0;b.forEach(function(a){c+=a.length});return a.length==c&&b.length<=Z};e.$42=function(a){var b=this;this.setState({loadingDialogWhenSharing:!0});a=a&&a.shareOptions&&a.shareOptions.shareNowURI?a.shareOptions.shareNowURI:null;a&&new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){b.setState({loadingDialogWhenSharing:!1}),b.$43(a.payload.message||d("ShareNowConstants").success)}).setErrorHandler(function(a){b.setState({loadingDialogWhenSharing:!1}),b.$43(a.payload.message||d("ShareNowConstants").error)}).send()};e.$43=function(a){return new(c("Dialog"))().setBody(a).setAutohide(2500).setModal(!0).show()};e.$44=function(a){return this.$45(a)?k.jsx("span",{className:"UFICommentShareOptionsItem",children:k.jsx(c("XUIButton.react"),{image:k.jsx(c("Image.react"),{src:j("363444")}),label:i._("Tuma Ujumbe"),href:"#",ajaxify:a&&a.shareOptions&&a.shareOptions.shareMessageURI?a.shareOptions.shareMessageURI:null,rel:"dialog",use:"default"})}):null};e.$46=function(a){return this.$47(a)?k.jsx("span",{className:"UFICommentShareOptionsItem",children:k.jsx(c("XUIButton.react"),{image:k.jsx(c("Image.react"),{src:j("363577")}),label:i._("Shiriki..."),href:"#",ajaxify:a&&a.shareOptions&&a.shareOptions.sharePostURI?a.shareOptions.sharePostURI:null,rel:"dialog",use:"default"})}):null};e.$48=function(a){var b=this,d=a&&a.shareOptions&&a.shareOptions.privacyText?i._("Shiriki Sasa ({privacyText})",[i._param("privacyText",a.shareOptions.privacyText)]):"";return this.$49(a)?k.jsx("span",{className:"UFICommentShareOptionsItem",children:k.jsx(c("XUIButton.react"),{image:k.jsx(c("Image.react"),{src:j("113894")}),label:d,href:"#",onClick:function(){return b.$42(a)},use:"default"})}):null};e.$49=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.shareNowURI!=null};e.$45=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.shareMessageURI!=null};e.$47=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.sharePostURI!=null};e.$50=function(){return k.jsx("div",{children:i._("Shiriki Chapisho:")})};e.$51=function(a){a=a.contextArgs.shareLinkConfig;var b=this.$48(a),c=this.$46(a);a=this.$44(a);var e=this.$50(),f=this.$52(),g=b||c||a;d("QE2Logger").logExposureForUser(m);return g?k.jsxs("span",{className:"UFICommentShareOptionsContainer",children:[k.jsx("span",{className:"UFICommentShareOptionsDescription",children:e}),k.jsxs("span",{className:"UFICommentShareOptions",children:[b,c,a,f]})]}):null};e.$52=function(){return k.jsx(c("LoadingDialog.react"),{shown:this.state.loadingDialogWhenSharing})};e.$53=function(a,b,d){return k.jsxs("div",{className:"UFICommentLiveVideoAnnouncementBody _4qkn",children:[k.jsx(c("InlineBlock.react"),{alignv:"middle",className:"UFICommentLiveVideoAnnouncementMessage",height:0,children:d}),k.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("UFILiveVideoAnnouncementCTAContainer.react").__setRef("UFIComment.react"),bootloadPlaceholder:k.jsx("span",{}),comment:b,contextArgs:a})]})};e.renderComment=function(){var a,b=this,e=this.props,f=e.comment,g=e.permalink,h=e.feedback,l=this.state.authorPresenceStatus,m=e.authorProfiles[f.author],n=f.status===d("UFIConstants").UFIStatus.SPAM_DISPLAY,o=f.status===d("UFIConstants").UFIStatus.LIVE_DELETED,p=this.$38();n=!(n||o||f.isAnnouncement||p);o=!1;this.props.featuredCommentIDs&&this.props.featuredCommentIDs.indexOf(this.props.comment.fbid)>-1&&(o=!0);var q=h.canremoveall||f.hiddenbyviewer,r=c("TrackingNodes").getTrackingInfo(c("TrackingNodes").types.SMALL_ACTOR_PHOTO),s;if(!e.contextArgs.viewas&&!f.isAnnouncement){if(!m)throw new Error("Got unexpected null author on comment "+JSON.stringify(f)+" with profiles "+JSON.stringify(e.authorProfiles));s=d("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(m,h.grouporeventid,f.hovercardlocation?f.hovercardlocation:"ufi",f.isauthorweakreference,{on_public_ufi:h.ispublic}).toString()}var t=f.isAnnouncement?null:k.jsx(c("UFICommentAuthorName.react"),{author:m,authorProfiles:e.authorProfiles,commentID:f.id?f.id.toString():null,commentPrivacyValue:f.privacy_value,constituentBadge:f.constituentTitle,disableAuthorLink:e.contextArgs.disableCommentAuthorLink||h.livegamingdisableauthorlinks,focusOnMount:e.focusOnMount,groupOrEventID:h.grouporeventid,isAdminViewer:e.feedback.isadminviewer,isAuthorBot:f.isauthorbot,isAuthorNonCoworker:f.isauthornoncoworker,isAuthorWeakReference:f.isauthorweakreference,isAuthorOriginalPoster:f.isauthororiginalposter,isFeatured:e.isFeatured,isPublic:h.ispublic,dialogUrl:f.dialogurl,hasConstituentBadge:f.hasConstituentBadge,hasFriendsOnlyBadge:f.hasFriendsOnlyBadge,hovercardLocation:f.hovercardlocation,showHovercard:!!s,socialContext:f.socialcontext,openLinkInNewTab:e.contextArgs.islivestreaming||e.contextArgs.isLiveVOD,viewerIsAuthor:!!e.viewerIsAuthor}),u=this.$40(o,t),v=f.translationdata,w=v&&v.translatedText&&v.translatedText.text,x=!w||this.state.showBody||!!v&&v.trigger==="logged_out_auto_translation";w=this.props.showTranslation&&!v||!!v&&(!x||!w||v.trigger==="logged_out_auto_translation");var y;if(f.isAnnouncement)y=this.$53(e.contextArgs,f,u);else{var z;(f.istranslatable||!!v)&&(z=k.jsx("div",{children:k.jsx(c("UFICommentTranslationText.react"),{shouldExpand:o,showTranslation:w,translationData:v})}));y=k.jsxs("span",{children:[x?u:null,z]})}o=null;e.contextArgs.isLiveVOD&&(o=k.jsx(c("UFILiveCommentTimestamp.react"),{comment:f,contextArgs:e.contextArgs,isInLiveVideoReplyMode:!!e.isInLiveVideoReplyMode}));u=!1;this.props.feedback.isgamingvideo&&this.props.contextArgs.feedLocationType===131&&((a=f.attachment)==null?void 0:a.type)==="share"&&(u=!0);a=u?null:k.jsx(c("UFICommentAttachment.react"),{allowCustomStickers:!0,comment:e.comment});var A=k.jsx(c("UFICommentPlayerStatsCard.react"),{comment:e.comment}),B;if(this.state.hideSpamComment)B=k.jsx("div",{});else if(f.isAnnouncement)B=k.jsx(c("UFICommentLiveVideoAnnouncementImage.react"),{accentColor:f.accentColor,contextArgs:e.contextArgs,glyphName:f.glyphName,image:f.image,isJoinEvent:f.isJoinEvent});else{var C=!h.livegamingdisableauthorlinks&&(m.uri||m.isBusinessPersona),D=C?d("UFICommentUtils").annotateProfileURIIfPublic(h.ispublic,m.uri):null;B=k.jsx(c("UFIActorIconContainer.react"),{actorID:f.author});var E=e.contextArgs.islivestreaming||e.contextArgs.isLiveVOD?"_blank":"_self";f.dialogurl?B=k.jsxs("a",{className:"UFICommentAuthorWithPresence","data-ft":r,"data-hovercard":s,ajaxify:f.dialogurl,rel:"dialog",target:E,href:D,children:[B,k.jsx("div",{className:"UFICommentAuthorPresence"+(l===2?" UFICommentAuthorActive":"")})]}):C&&(B=k.jsxs("a",{className:"UFICommentAuthorWithPresence","data-ft":r,"data-hovercard":s,target:E,href:D,children:[B,k.jsx("div",{className:"UFICommentAuthorPresence"+(l===2?" UFICommentAuthorActive":"")})]}))}C=null;if(this.props.isLivePinnedComment){r=i._("Maoni Yaliyobanwa");C=k.jsxs("span",{className:"UFILivePinnedCommentLabel",children:[k.jsx(c("Image.react"),{className:"UFILivePinnedCommentGlyph",src:j("139486")}),r]})}E=f.tipOptionIndex?k.jsx(c("VideoTipJarCommentBackground.react"),{tipOptionIndex:f.tipOptionIndex}):null;D=f.body&&f.body.text;l=!1;r=!1;D&&(r=this.$41(f.body.text));var F=!this.state.hideSpamComment&&(f.photo_comment||f.video_comment||f.attachment||f.file_comment);F&&r&&(y=k.jsxs("div",{className:"_26f8",children:[y,n?this.$37():null]}));var G=null;if(!this.state.hideSpamComment&&f.privacy_value===1){m=e.viewerIsAuthor?h.actorshortname||h.actorname:m.firstName||m.name;G=k.jsxs("div",{className:"UFIPrivateCommentLabel"+(f.parentcommentid?" UFIPrivateCommentReplyLabel":"")+(!D&&!f.isAnnouncement||r?" UFIPrivateCommentActorOnly":""),children:[k.jsx("div",{className:"UFIPrivateCommentLabelIcon"}),f.parentcommentid?null:k.jsx("div",{className:"UFIPrivateCommentLabelText",children:i._("Only you and {user} can see this",[i._param("user",m)])})]})}m=f.parentcommentauthorid;var H=null;if(m!=null){m=e.authorProfiles[m];if(m&&!e.isInLiveVideoReplyMode&&e.orderingMode==="live_streaming"){m=i._("Anajibu {name}",[i._param("name",m.firstName)]);H=k.jsx("div",{className:"_27di",children:this.$28()?k.jsx("a",{className:"_2iep _2iex",href:"#",onClick:d("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(f,e.contextArgs,h),children:m}):k.jsx(c("XUIText.react"),{size:"body3",color:"secondary",children:m})})}}m=(D||f.isAnnouncement)&&!r?d("IdentityBadgeUtils").commentColorAnimationClass(f,h,e.contextArgs,e.isOptimisticallyRendered):null;var I=f.identityBadges&&f.identityBadges.length>0?k.jsx(c("IdentityBadges.react"),{badgeColorVariant:m!=null?"TEMPORARY":"NONE",badges:f.identityBadges,canShowMultipleBadges:e.contextArgs.canShowMultipleBadges,commentID:f.fbid}):null;H=k.jsx("span",{className:c("joinClasses")((!D&&!f.isAnnouncement?"UFICommentActorOnly":"")+(D||f.isAnnouncement?" UFICommentActorAndBody":"")+(f.isJoinEvent?" _4ql9":"")+(f.isAnnouncement&&f.ctaAction!=="none"?" _4qla":"")+(r?" _3re2":""),m),ref:function(a){b.$1=a},children:k.jsxs("div",{className:"UFICommentActorAndBodySpacing",children:[H,I,this.state.hideSpamComment?null:t,o,t||o?" ":null,G,y]})});var J=c("SutroPhase2GatingConfig").enabled_narrow_bubble_attachments?f.attachment&&(f.attachment.type==="comment_place_info"||f.attachment.type==="comment_product_info"||f.attachment.type==="gif")&&!f.photo_comment&&!f.video_comment:f.attachment&&(f.attachment.type==="share"||f.attachment.type==="comment_place_info"||f.attachment.type==="comment_product_info"||f.attachment.type==="gif")&&!f.photo_comment&&!f.video_comment,K=c("SutroPhase2GatingConfig").enabled_narrow_bubble_attachments&&f.attachment&&f.attachment.type==="share";F?a=k.jsx(c("UFIReactionBadgeDecorator.react"),{comment:f,feedback:h,contextArgs:e.contextArgs,isFlexibleWidthAttachment:K,isFullWidthAttachment:J,showLiveStreamingRedesign:this.$28(),onRenderAtBottomChange:this.$33,children:a}):r?H=k.jsxs("span",{className:c("joinClasses")((!D&&!f.isAnnouncement?"UFICommentActorOnly":"")+(D||f.isAnnouncement?" UFICommentActorAndBody":"")+(f.isJoinEvent?" _4ql9":"")+(r?" _3re2":""),m),ref:function(a){b.$1=a},children:[I,this.state.hideSpamComment?null:t,o,t||o?" ":null,G,k.jsxs("div",{className:"_26f8",children:[k.jsx(c("UFIReactionBadgeDecorator.react"),{comment:f,feedback:h,contextArgs:e.contextArgs,showLiveStreamingRedesign:this.$28(),onRenderAtBottomChange:this.$33,children:y}),n?this.$37():null]})]}):H=k.jsx(c("UFIReactionBadgeDecorator.react"),{comment:f,feedback:h,contextArgs:e.contextArgs,showLiveStreamingRedesign:this.$28(),onRenderAtBottomChange:this.$33,children:H});l=!0;!D&&a?a=k.jsxs("div",{className:"_26f8",children:[a,n?this.$37():null]}):!r&&(D&&!a||D&&a)&&(H=k.jsxs("div",{className:"_26f8",children:[H,n?this.$37():null]}));var L;(f.istranslatable||!!v)&&(L=k.jsx(c("UFICommentTranslationLink.react"),{translationData:v,showTranslation:w,isShowingOriginal:x,onSeeTranslation:function(){return b.$32()},onSeeOriginal:function(){return b.setState({showBody:!0})},shownInCommentActions:!0}));F=f.isAnnouncement||this.state.hideSpamComment||this.props.inReviewView||this.props.contextArgs.feedLocationType===130||this.props.contextArgs.feedLocationType===182||this.$28()?null:k.jsx(c("UFICommentActions.react"),{comment:f,feedback:h,hideReactionCount:l,parentCanComment:e.parentCanComment,permalink:g,viewerCanMarkNotSpam:Boolean(q),showPermalink:e.showPermalink,showReplyLink:e.showReplyLink,translateLink:L,contextArgs:e.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:e.hideAsSpamForPageAdmin||this.state.hideSpamComment,hideSpamComment:this.state.hideSpamComment,orderingMode:e.orderingMode,isInLiveVideoReplyMode:e.isInLiveVideoReplyMode,isAuthorPinnedComment:e.isAuthorPinnedComment,renderCommentCloseButton:function(){return b.$37()},displayVerticalCommentVote:p,hasSeenEditNux:this.state.hasSeenEditNux,editNuxHelpUri:this.state.editNuxHelpUri,onEditNuxCloseClick:function(){b.setState({hasSeenEditNux:!0})},shouldHideAttachment:u});K=d("UFIComments").getCacheVariable("shareOnComment");J=this.props.contextArgs.feedLocationType===131&&this.props.isLocallyComposed&&K&&K[f.ftentidentifier]===f.id&&!f.parentcommentid?this.$51(e):null;m=p?k.jsx(c("UFICommentVoteContainer.react"),{comment:f,contextArgs:e.contextArgs,feedback:h,UIVersion:f.commentVoteUIVersion,isFirstComment:this.props.isFirstCommentComponent}):null;I=this.$28()&&f.reactioncount>0;t=k.jsxs("div",{children:[C,k.jsxs(c("UFIImageBlock.react"),{spacing:"medium",children:[B,k.jsxs("div",{className:p?"UFICommentContentBlockWithVote":"",children:[k.jsxs("div",{className:"UFICommentContentBlock",children:[k.jsxs("div",{className:"UFICommentContent"+(f.surveyGalleryHighlight?" _42wr":"")+(p?" UFICommentVerticalVoteFlexGrow":"")+(I?" UFICommentLiveRedesignBadgedContent":"")+(I&&this.state.renderReactionBadgeAtBottom?" UFICommentLiveRedesignPaddedBadgedContent":""),children:[H,this.state.hideSpamComment?null:a,this.state.hideSpamComment?null:A]}),F,J]}),m]}),E]})]});if(this.props.contextArgs.feedLocationType===159)return k.jsxs("div",{className:"_-ae",children:[k.jsx("div",{className:"_-ac"}),t]});else return t};e.$38=function(){return c("CurrentUser").isWorkUser()&&c("gkx")("1374251")?!this.props.inReviewView&&!!this.props.comment.voteEnabled&&this.props.comment.commentVoteUIVersion===d("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE:!this.props.inReviewView&&!this.props.contextArgs.islivestreaming&&this.props.orderingMode!=="live_streaming"&&c("gkx")("678268")&&!!this.props.comment.voteEnabled&&this.props.comment.commentVoteUIVersion===d("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE};return f}(k.Component);h.propTypes={authorProfiles:c("prop-types").object.isRequired,comment:c("prop-types").object.isRequired,contextArgs:c("prop-types").object.isRequired,feedback:c("prop-types").object.isRequired,"data-ft":c("prop-types").string,featuredCommentIDs:c("prop-types").array,focusOnMount:c("prop-types").bool,hasPartialBorder:c("prop-types").bool,hideAsSpamForPageAdmin:c("prop-types").bool,isFeatured:c("prop-types").bool,isFirst:c("prop-types").bool,isFirstCommentComponent:c("prop-types").bool,isFirstComponent:c("prop-types").bool,communityModerationState:c("prop-types").string,isLast:c("prop-types").bool,isLastCommentComponent:c("prop-types").bool,isLastComponent:c("prop-types").bool,isLivePinnedComment:c("prop-types").bool,isLocallyComposed:c("prop-types").bool,isStaticUFILoading:c("prop-types").bool,parentCanComment:c("prop-types").bool,permalink:c("prop-types").string,showPermalink:c("prop-types").bool,showRemoveReportMenu:c("prop-types").bool,showReplyLink:c("prop-types").bool,viewerIsAuthor:c("prop-types").bool,orderingMode:c("prop-types").string,markViewerHasInteracted:c("prop-types").func,showTranslation:c("prop-types").bool,shouldTranslateAllVisibleComments:c("prop-types").bool};h.contextTypes={dispatch:c("prop-types").func};a=c("FluxContainer").create(h,{withProps:!0,pure:!1});g["default"]=a}),98);