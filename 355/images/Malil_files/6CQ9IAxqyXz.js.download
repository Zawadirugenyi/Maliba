if (self.CavalryLogger) { CavalryLogger.start_js(["mOo6NdC"]); }

__d("CallbackManagerController",["ErrorGuard"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){this.$2=[],this.$1=[void 0],this.$3=a}var c=a.prototype;c.executeOrEnqueue=function(a,b,c){c=Boolean(c)?c:{};var d=this.$4(b,a,c);if(d)return 0;this.$1.push({fn:b,request:a,options:c});d=this.$1.length-1;this.$2.push(d);return d};c.unsubscribe=function(a){delete this.$1[a]};c.reset=function(){this.$1=[]};c.getRequest=function(a){return this.$1[a]};c.runPossibleCallbacks=function(a){var b=this,c=this.$2;this.$2=[];var d=[];c.forEach(function(c){var e=b.$1[c];if(!e)return;e=b.$3(e.request,babelHelpers["extends"]({},e.options,a));e?d.push({args:e,id:c}):b.$2.push(c)});d.forEach(function(a){var c=a.args;a=a.id;var d=b.$1[a];if(!d)return;delete b.$1[a];b.$5(d.fn,c,d.request)})};c.$4=function(a,b,c){c=this.$3(b,c);c&&this.$5(a,c,b);return!!c};c.$5=function(a,c,d){d={ids:d};(g||(g=b("ErrorGuard"))).applyWithGuard(a,d,c)};return a}();f["default"]=a}),66);
__d("KeyedCallbackManager",["CallbackManagerController","FBLogger"],(function(a,b,c,d,e,f){a=function(){function a(){this.$2={},this.$1=new(b("CallbackManagerController"))(this.$3.bind(this))}var c=a.prototype;c.executeOrEnqueue=function(a,c){if(!(a instanceof Array)){var d=a,e=c;a=[a];c=function(a){e(a[d])}}a=a.filter(function(a){var c=a!==null&&a!==void 0;c||b("FBLogger")("KeyedCallbackManager").mustfix("KeyedCallbackManager.executeOrEnqueue: key %s is invalid",JSON.stringify(a));return c});return this.$1.executeOrEnqueue(a,c)};c.unsubscribe=function(a){this.$1.unsubscribe(a)};c.reset=function(){this.$1.reset(),this.$2={}};c.getUnavailableResources=function(a){var b=this;a=this.$1.getRequest(a);var c=[];a&&(c=a.request.filter(function(a){return!b.$2[a]}));return c};c.getUnavailableResourcesFromRequest=function(a){a=Array.isArray(a)?a:[a];return a.filter(function(a){if(a!==null&&a!==void 0)return!this.$2[a]},this)};c.addResourcesAndExecute=function(a){Object.assign(this.$2,a),this.$1.runPossibleCallbacks()};c.setResource=function(a,b){this.$2[a]=b,this.$1.runPossibleCallbacks()};c.getResource=function(a){return this.$2[a]};c.getAllResources=function(){return this.$2};c.dumpResources=function(){var a=this,b={};Object.keys(this.$2).forEach(function(c){var d=a.$2[c];typeof d==="object"&&(d=babelHelpers["extends"]({},d));b[c]=d});return b};c.$3=function(a){var b={};for(var c=0;c<a.length;c++){var d=a[c],e=this.$2[d];if(typeof e==="undefined")return!1;b[d]=e}return[b]};return a}();f["default"]=a}),66);
__d("BaseAsyncLoader",["KeyedCallbackManager","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g={};function h(a,c,d){var e=new(b("KeyedCallbackManager"))(),f=!1,g=[];function h(){if(!g.length||f)return;f=!0;b("setTimeoutAcrossTransitions")(j,0)}function i(a){f=!1,a.forEach(e.unsubscribe.bind(e)),h()}function j(){var b={},c=[];g=g.filter(function(a){var d=e.getUnavailableResources(a);if(d.length){d.forEach(function(a){b[a]=!0});c.push(a);return!0}return!1});var h=Object.keys(b);h.length?d(a,h,c,k.bind(null,c),l.bind(null,c)):f=!1}function k(a,b){b=b.payload[c]||b.payload;e.addResourcesAndExecute(b);i(a)}function l(a){i(a)}return{get:function(a,b){a=e.executeOrEnqueue(a,b);b=e.getUnavailableResources(a);b.length&&(g.push(a),h())},getCachedKeys:function(){return Object.keys(e.getAllResources())},getNow:function(a){return e.getResource(a)||null},set:function(a){e.addResourcesAndExecute(a)}}}function a(a,b){throw new Error("BaseAsyncLoader can't be instantiated")}Object.assign(a.prototype,{_getLoader:function(){g[this._endpoint]||(g[this._endpoint]=h(this._endpoint,this._type,this.send));return g[this._endpoint]},get:function(a,b){return this._getLoader().get(a,b)},getCachedKeys:function(){return this._getLoader().getCachedKeys()},getNow:function(a){return this._getLoader().getNow(a)},reset:function(){g[this._endpoint]=null},set:function(a){this._getLoader().set(a)}});e.exports=a}),null);
__d("AjaxLoader",["AsyncRequest","BaseAsyncLoader","LogHistory"],(function(a,b,c,d,e,f){var g=b("LogHistory").getInstance("ajax_loader");function a(a,b){this._endpoint=a,this._type=b}Object.assign(a.prototype,b("BaseAsyncLoader").prototype);a.prototype.send=function(a,c,d,e,f){new(b("AsyncRequest"))().setURI(a).setData({ids:c}).setMethod("POST").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(a){e(a)}).setTimeoutHandler(10*1e3,function(a){f(),g.error("fetch_timeout","{}")}).setErrorHandler(function(a){f(),g.error("fetch_error",JSON.stringify({error_type:a.errorSummary,error_text:a.errorDescription}))}).send()};e.exports=a}),null);
__d("ChatDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ExplicitRegistrationDispatcher"));b=new a({strict:!1});g["default"]=b}),98);
__d("ChatSidebarActionTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({AFTER_DOM_LOAD:null,INIT:null,LOADED:null,SET_ENABLED:null,SHOW:null});g["default"]=a}),98);
__d("ChatSidebarPresencePrivacyActions",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({PRIVACY_CHANGED:null,USER_PRESENCE_CHANGED:null});g["default"]=a}),98);
__d("ChatSidebarRecentCallsActions",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({RECENT_CALLS_UPDATED:null});b=a;g["default"]=b}),98);
__d("ChatSidebarActions",["ChatDispatcher","ChatSidebarActionTypes","ChatSidebarPresencePrivacyActions","ChatSidebarRecentCallsActions"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").INIT})}function b(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").AFTER_DOM_LOAD})}function d(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").LOADED})}function e(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SET_ENABLED,enabled:!1,sidebarType:"buddylist"})}function f(a){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SET_ENABLED,enabled:!0,sidebarType:a})}function h(a){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SHOW,sidebarType:a})}function i(){c("ChatDispatcher").dispatch({type:c("ChatSidebarPresencePrivacyActions").USER_PRESENCE_CHANGED})}function j(){c("ChatDispatcher").dispatch({type:c("ChatSidebarPresencePrivacyActions").PRIVACY_CHANGED})}function k(a){c("ChatDispatcher").dispatch({type:c("ChatSidebarRecentCallsActions").RECENT_CALLS_UPDATED,calls:a})}g.init=a;g.afterDomLoad=b;g.loaded=d;g.disable=e;g.enable=f;g.show=h;g.userPresenceChanged=i;g.privacyChanged=j;g.recentCallsUpdated=k}),98);
__d("ChatSidebarDropdownConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({SOUND:"sound",ADVANCED_SETTINGS:"advanced_settings",BLOCK_SETTINGS:"block_settings",TURN_OFF_DIALOG:"turn_off_dialog",CLOSE_ALL_TABS:"close_all_tabs",LOWER_ALL_TABS:"lower_all_tabs",TOGGLE_DISCOVER_BOTS:"toggle_discover_bots",SIDEBAR:"sidebar",HIDE_GROUPS:"hide_groups",ONLINE:"online",VIDEOCALL_ON:"videoon",VIDEOCALL_OFF:"videooff",PAUSE:"pause",SHOW_APPS:"show_apps",HIDE_APPS:"hide_apps",HIDE_MARKETPLACE:"hide_marketplace",SHOW_TICKER:"show_ticker",HIDE_TICKER:"hide_ticker",HIDE_ADMINED_PAGES:"hide_admined_pages",HIDE_BUSINESSES:"hide_businesses",EMOJI_SETTINGS:"emoji_settings",TURN_OFF_CHAT_TABS:"turn_off_chat_tabs",SOLID_REACTION:"solid_reaction"});f["default"]=a}),66);
__d("FBRTCDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("Dispatcher_DEPRECATED"))();g["default"]=a}),98);
__d("FBRTCStore",["FBRTCDispatcher","FluxStore"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,c("FBRTCDispatcher"))||this}var d=b.prototype;d.__emitChange=function(){this.__emitter.emit(this.__changeEvent)};return b}(c("FluxStore"));a.__moduleID=f.id;g["default"]=a}),98);
__d("FBRTCCallBlockingStore",["Arbiter","AsyncRequest","Bootloader","ChannelConstants","FBRTCDispatcher","FBRTCStore","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=0,j=null,k="call_block_setting_changed";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.init=function(a){this.$FBRTCCallBlockingStore1(a),c("Arbiter").subscribe(d("ChannelConstants").getArbiterType("videocall_block_setting"),this.$FBRTCCallBlockingStore2.bind(this))};e.__onDispatch=function(a){if(a.type!==k)return;this.$FBRTCCallBlockingStore1(a.data)};e.$FBRTCCallBlockingStore1=function(a){switch(a){case 0:h=!1;this.$FBRTCCallBlockingStore3();break;case-1:h=!0;this.$FBRTCCallBlockingStore3();break;default:h=!0,this.$FBRTCCallBlockingStore4(a)}this.__emitChange()};e.$FBRTCCallBlockingStore4=function(a){j===null&&(j=c("setTimeoutAcrossTransitions")(this.turnOnVideoCalling.bind(this),a*1e3))};e.getBlockingStatus=function(){return h};e.turnOnVideoCalling=function(){new(c("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore5.bind(this)).setData({call_blocked_until:0}).send()};e.turnOffVideoCalling=function(a){i=a,new(c("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore6.bind(this)).setData({call_blocked_until:a}).send()};e.$FBRTCCallBlockingStore3=function(){j&&(c("clearTimeout")(j),j=null)};e.$FBRTCCallBlockingStore5=function(){c("FBRTCDispatcher").dispatch({type:k,data:0}),c("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:"rtc_enabled"})},"FBRTCCallBlockingStore")};e.$FBRTCCallBlockingStore6=function(){c("FBRTCDispatcher").dispatch({type:k,data:i}),c("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:i===-1?"rtc_disabled_permanently":"rtc_disabled_temporarily"})},"FBRTCCallBlockingStore")};e.$FBRTCCallBlockingStore2=function(a,b){c("FBRTCDispatcher").dispatch({type:k,data:b.obj.value})};return b}(c("FBRTCStore"));b=new a();g["default"]=b}),98);
__d("ChatOptions",["Arbiter","ArbiterMixin","Bootloader","ChannelConstants","ChatOptionsInitialData","ChatSidebarActions","ChatSidebarDropdownConstants","FBRTCCallBlockingStore","PresenceUtil","mixin"],(function(a,b,c,d,e,f,g){var h={};(function(){var a=b("ChatOptionsInitialData");for(var d in a){var e=a[d];switch(d){case"call_blocked_until":c("FBRTCCallBlockingStore").init(e);break;case c("ChatSidebarDropdownConstants").TURN_OFF_CHAT_TABS:e!==-1&&(h[d]=!!e);break;default:h[d]=!!e}}})();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.getSetting=function(a){return h[a]};e.setSetting=function(a,b,e){if(a==="sidebar_mode"){c("Bootloader").loadModules(["ChatSidebarVisibility"],function(a){return a.shouldShowSidebarIgnoreEnabled(null,function(a,c){b?d("ChatSidebarActions").enable(a?"sidebar":"buddylist"):d("ChatSidebarActions").disable()})},"ChatOptions");return}if(this.getSetting(a)==b)return;h[a]=!!b;c("Arbiter").inform("chat/option-changed",{name:a,value:b})};return b}(c("mixin")(d("ArbiterMixin")));c("Arbiter").subscribe(d("ChannelConstants").getArbiterType("setting"),function(a,b){a=b.obj;if(a.window_id===d("PresenceUtil").getSessionID())return;i.setSetting(a.setting,!!a.value,"channel")});var i=new a();e=i;g["default"]=e}),98);
__d("ChatSidebarPreloadStore",["InitialChatFriendsList"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a({buddies:c("InitialChatFriendsList").list,groups:c("InitialChatFriendsList").groups,shortProfiles:c("InitialChatFriendsList").shortProfiles,nearby:c("InitialChatFriendsList").nearby,adminedPages:c("InitialChatFriendsList").adminedPages,marketplaceThreads:c("InitialChatFriendsList").marketplaceThreads,pageListModule:c("InitialChatFriendsList").pageListModule,pymmList:c("InitialChatFriendsList").pymmList||{},recentPageList:c("InitialChatFriendsList").recentPageList,profiles:[]})}g.onLoaded=a}),98);
__d("ChatProfileStore",["ChatSidebarPreloadStore"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(){d("ChatSidebarPreloadStore").onLoaded(function(a){var b=a.profiles,c=a.nearby;return b.filter(function(a){return!c||c.indexOf(a.id)===-1}).forEach(function(a){var b=new Date();b=a.birthdate&&b.getDate()===a.birthdate.day&&b.getMonth()+1===a.birthdate.month;var c=a.profile_picture&&a.profile_picture.uri?a.profile_picture.uri:null;h[a.id]={id:a.id,is_birthday:b,thumbSrc:c,name:a.name,is_messenger_only:!!a.is_messenger_only}})})}function b(a){return h[a]}g.init=a;g.get=b}),98);
__d("XChatUserInfoAllAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info_all/",{viewer:{type:"Int",required:!0}})}),null);
__d("ShortProfilesBootstrapper",["AsyncRequest","CurrentUser","ODS","Promise","XChatUserInfoAllAsyncController"],(function(a,b,c,d,e,f){"use strict";var g=5,h=1e4,i=b("XChatUserInfoAllAsyncController").getURIBuilder().setInt("viewer",b("CurrentUser").getID()).getURI();a=function(){function a(a){var c=this;this.$1=a;this.$2=new(b("Promise"))(function(a,b){c.$3=a,c.$4=b});this.$5=!1;this.$6=null;this.$7=0;this.$8=0;this.$9=0;this.$10=!1;this.$11=!1}var c=a.prototype;c.fetchAll=function(){var a=this;this.$12();if(this.$5||this.$6)return this.$2;if(this.$7>=g){this.$13();return this.$2}this.$7++;this.$14();this.$6=new(b("AsyncRequest"))(i).setHandler(function(b){a.$6=null,a.$5=!0,a.$15(),a.$1(b.payload),a.$3()}).setErrorHandler(function(){a.$6=null,a.$8++,a.$16()}).setTimeoutHandler(h,function(){a.$6=null,a.$9++,a.$17(),a.fetchAll()}).setAllowCrossPageTransition(!0);this.$6.send();return this.$2};c.isBootstrapped=function(){return this.$5};c.isBootstrapping=function(){return!!this.$6};c.getAttemptCount=function(){return this.$7};c.getErrorCount=function(){return this.$8};c.getTimeoutCount=function(){return this.$9};c.$12=function(){this.$10||(b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.starts"),this.$10=!0)};c.$14=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.attempts")};c.$15=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.successes"),this.$7>1&&b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.successes_after_retries")};c.$16=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.errors")};c.$17=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.timeouts")};c.$13=function(){this.$11||(b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.giveups"),this.$11=!0,this.$4())};return a}();e.exports=a}),null);
__d("XChatUserInfoAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info/",{ids:{type:"IntVector",defaultValue:[]}})}),null);
__d("ShortProfiles",["AjaxLoader","CurrentUser","ShortProfilesBootstrapper","URI","XChatUserInfoAsyncController","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=new(c("AjaxLoader"))(c("XChatUserInfoAsyncController").getURIBuilder().getURI().toString(),"profiles");function a(a,b){this.getMulti([a],function(c){return b(c[a],a)})}function b(a,b){i.get(a,b||c("emptyFunction"))}function j(a){return i.getNow(a)||null}function d(a){var b={};a.forEach(function(a){return b[a]=j(a)});return b}function e(){return i.getCachedKeys()}function f(){return!!h&&h.isBootstrapped()}function k(){h||(h=new(c("ShortProfilesBootstrapper"))(function(a){i.set(a)}));return h.fetchAll()}function l(a,b){var c={};c[a]=b;this.setMulti(c)}function m(a){if(c("CurrentUser").isWorkUser()){var b={};Object.keys(a).forEach(function(d){var e=a[d];(e.type!=="fb4c"||!e.uri)&&(b[d]=e);var f=new(c("URI"))(e.uri).setDomain("").setProtocol("").toString();b[d]=babelHelpers["extends"]({},e,{uri:f})});a=b}i.set(a)}g.get=a;g.getMulti=b;g.getNow=j;g.getMultiNow=d;g.getCachedProfileIDs=e;g.hasAll=f;g.fetchAll=k;g.set=l;g.setMulti=m}),98);
__d("ChatSortUsers",["ShortProfiles","TokenizeUtil"],(function(a,b,c,d,e,f){var g={};function h(a){if(g[a])return g[a];var c=(b("ShortProfiles").getNow(a)||{}).name;return c?g[a]=b("TokenizeUtil").flatten(c):"~"}a={sortAlphabetical:function(a,b){a=h(a);b=h(b);return a!==b?a<b?-1:1:0}};e.exports=a}),null);
__d("ChatUnreadCountActionTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({COUNT_UPDATED:null});g["default"]=a}),98);
__d("PresenceStatusActionTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({AVAILABILITY_CHANGED:null});g["default"]=a}),98);
__d("PresenceStatusStore",["ChatDispatcher","FluxStore","PresenceStatus","PresenceStatusActionTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,c("ChatDispatcher"))||this}var d=b.prototype;d.__onDispatch=function(a){a=a.type;switch(a){case c("PresenceStatusActionTypes").AVAILABILITY_CHANGED:this.__emitChange();break;default:break}};d.get=function(a){return c("PresenceStatus").get(a)};d.getIsPlaying=function(a){return c("PresenceStatus").isPlayingCanvasGameUser(a)};return b}(c("FluxStore"));a.__moduleID=f.id;b=new a();g["default"]=b}),98);
__d("ShortProfilesActionTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({PROFILE_UPDATED:null});g["default"]=a}),98);
__d("ShortProfilesStore",["ChatDispatcher","ChatProfileStore","FluxStore","ShortProfiles","ShortProfilesActionTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,c("ChatDispatcher"))||this}var e=b.prototype;e.__onDispatch=function(a){a=a.type;switch(a){case c("ShortProfilesActionTypes").PROFILE_UPDATED:this.__emitChange();break;default:break}};e.getNow=function(a){var b=d("ChatProfileStore").get(a);b||(b=d("ShortProfiles").getNow(a));return b};e.getMulti=function(a){d("ShortProfiles").getMulti(a,this.$ShortProfilesStore1)};e.$ShortProfilesStore1=function(a){c("ChatDispatcher").dispatch({type:c("ShortProfilesActionTypes").PROFILE_UPDATED})};return b}(c("FluxStore"));a.__moduleID=f.id;b=new a();g["default"]=b}),98);
__d("StoriesCometPlaceholderWithNav.react",["fbt","CometUnitHeader.react","StoriesBucketLoadingView.react","StoriesCometLeftRailLayout.react","StoriesCometListItemGlimmer.react","StoriesEnums","StoriesUnselected.react","react","stylex","useStoriesViewerDimensions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.isNullState;b=b===void 0?!1:b;a=a.isPermalink;a=a===void 0?!1:a;var e=c("useStoriesViewerDimensions")(),f=d("StoriesEnums").BACKGROUND_STYLE.DEFAULT;b=b?i.jsx(c("StoriesUnselected.react"),{}):i.jsx("div",{className:"dzlist6r msbwk0y7 flx89l3n ms05siws l9j0dhe7 stjgntxs ni8dbmo4 puxov6c6 r893ighp ozuftl9m n851cfcs tvfksri0 n1l5q3vz btwxx1t3 j83agx80 kzx2olss aot14ch1 p86d2i9g beltcj47",style:e,children:i.jsx(c("StoriesBucketLoadingView.react"),{})});return i.jsx(c("StoriesCometLeftRailLayout.react"),{hasRightRail:!1,isPermalink:a,leftRail:i.jsxs(i.Fragment,{children:[i.jsx(c("CometUnitHeader.react"),{headline:h._("Hadithi"),headlineColor:"primary",isSemanticHeading:!0,level:1,paddingTop:20}),i.jsx(c("CometUnitHeader.react"),{headline:h._("Hadithi Yako"),headlineColor:"secondary",level:3,paddingTop:16}),i.jsx(c("StoriesCometListItemGlimmer.react"),{numberOfItems:1}),i.jsx(c("CometUnitHeader.react"),{headline:h._("Hadithi Zote"),headlineColor:"secondary",level:3,paddingTop:8}),i.jsx(c("StoriesCometListItemGlimmer.react"),{isFriends:!0,numberOfItems:6})]}),children:i.jsx("div",{className:c("stylex").dedupe({"background-color-1":"tqsryivl","display-1":"j83agx80","height-1":"datstx6m","justify-content-1":"taijpn5t","width-1":"k4urcfbm"},f===d("StoriesEnums").BACKGROUND_STYLE.BLACK?{"background-color-1":"tqsryivl"}:null),children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCometPlaceholder.react",["StoriesBucketLoadingView.react","StoriesCometPlaceholderWithNav.react","StoriesEnums","react","stylex","useStoriesViewerDimensions"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isNullState;b=b===void 0?!1:b;var e=a.isPermalink;e=e===void 0?!1:e;a=a.leftRail;a=a===void 0?!0:a;var f=c("useStoriesViewerDimensions")(),g=d("StoriesEnums").BACKGROUND_STYLE.DEFAULT,i=!0;if(a&&i)return h.jsx(c("StoriesCometPlaceholderWithNav.react"),{isNullState:b,isPermalink:e,leftRail:a});i=h.jsx("div",{className:"dzlist6r msbwk0y7 flx89l3n ms05siws l9j0dhe7 stjgntxs ni8dbmo4 puxov6c6 r893ighp ozuftl9m n851cfcs tvfksri0 n1l5q3vz btwxx1t3 j83agx80 kzx2olss aot14ch1 p86d2i9g beltcj47",style:f,children:h.jsx(c("StoriesBucketLoadingView.react"),{})});return h.jsx("div",{className:c("stylex").dedupe({"background-color-1":"tqsryivl","display-1":"j83agx80","height-1":"datstx6m","justify-content-1":"taijpn5t","width-1":"k4urcfbm"},g===d("StoriesEnums").BACKGROUND_STYLE.BLACK?{"background-color-1":"tqsryivl"}:null),children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayLoggerSessionProvider",["StoriesTrayLoggerSessionContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.children,d=a.trackingStrings;a=i(function(){return{trackingStrings:d}},[d]);return h.jsx(c("StoriesTrayLoggerSessionContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XStoriesAsyncTrayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stories/tray/async/",{})}),null);
__d("FBStoriesTrayReloadXHPTray",["AsyncRequest","XStoriesAsyncTrayController"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("XStoriesAsyncTrayController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).send()}g.reloadTray=a}),98);
__d("PresenceOrderedList",["ChatSidebarPreloadStore","ChatSortUsers","PresencePrivacy","PresenceStatus"],(function(a,b,c,d,e,f,g){function h(a){return a.map(function(a){var b=a.slice(0,-2);a=Number(a.slice(-1));return[b,a]})}function i(a,b){var d=[];a.forEach(function(a){var e=a[0];a=a[1];if(d.length>=b)return;if(c("PresencePrivacy").getFriendVisibility(e)==c("PresencePrivacy").BLACKLISTED)return;a==c("PresenceStatus").get(e)&&d.push(e)});return d}a=function(){function a(){this.$1=null}var b=a.prototype;b.getSorted=function(a,b){var c=this;if(this.$1){b(i(this.$1,a));return}d("ChatSidebarPreloadStore").onLoaded(function(d){d=d.buddies;c.$1=h(d);b(i(c.$1,a))})};b.getAvailableSorted=function(a){var b=c("PresenceStatus").getOnlineIDs();a&&(b=b.filter(function(b){return a&&a.indexOf(b)===-1}));return b.sort(d("ChatSortUsers").sortAlphabetical)};b.getAllSorted=function(a){var b=[],e=this.$1||[];c("PresenceStatus").getAllIDs().concat(e.map(function(a){return a[0]})).forEach(function(a){return b.indexOf(a)===-1&&b.push(a)});a&&(b=b.filter(function(b){return a&&a.indexOf(b)===-1}));return b.sort(d("ChatSortUsers").sortAlphabetical)};return a}();b=new a();g["default"]=b}),98);
__d("ChatSidebarStore",["AvailableListConstants","ChatConfig","ChatDispatcher","ChatOptions","ChatOptionsInitialData","ChatSidebarActionTypes","ChatUnreadCountActionTypes","CurrentUser","FluxStore","InitialChatFriendsList","PresenceOrderedList","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","PresenceStatusStore","ShortProfiles","ShortProfilesActionTypes","ShortProfilesStore","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a){var b=a.slice(0,-2);a=Number(a.slice(-1));return[b,a]})}function i(a,b,d){d===void 0&&(d=[]);return a.reduce(function(a,e){var f=e[0];e=e[1];a.length<b&&c("PresencePrivacy").getFriendVisibility(f)!==c("PresencePrivacy").BLACKLISTED&&e===c("PresenceStatus").get(f)&&!d.includes(f)&&a.push(f);return a},[])}function j(a){return c("PresencePrivacy").getVisibility()==c("PresencePrivacy").ONLINE?a.filter(function(a){return c("PresencePrivacy").allows(a)}):a}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this,c("ChatDispatcher"))||this;b.$ChatSidebarStore2={enabled:!1,initTime:0,initialized:!1,isAfterDomLoad:!1,loaded:!1,visible:null};b.setupShortProfiles();b.$ChatSidebarStore3={enabled:!!c("ChatOptionsInitialData").sidebar_mode,initTime:c("performanceAbsoluteNow")(),initialized:!1,isAfterDomLoad:!1,loaded:!1,visible:null};return b}var e=b.prototype;e.setupShortProfiles=function(){var a=c("InitialChatFriendsList").shortProfiles;a&&d("ShortProfiles").setMulti(a)};e.__onDispatch=function(a){var b=a.type;this.$ChatSidebarStore2=babelHelpers["extends"]({},this.$ChatSidebarStore3);switch(b){case c("ChatSidebarActionTypes").INIT:this.$ChatSidebarStore2.initialized||(this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{initTime:c("performanceAbsoluteNow")()}));this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{initialized:!0});break;case c("ChatSidebarActionTypes").AFTER_DOM_LOAD:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{isAfterDomLoad:!0});break;case c("ChatSidebarActionTypes").LOADED:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{loaded:!0});break;case c("ChatSidebarActionTypes").SHOW:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{visible:a.sidebarType});break;case c("ChatSidebarActionTypes").SET_ENABLED:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{enabled:a.enabled,visible:a.sidebarType});break}if(b===c("PresenceStatusActionTypes").AVAILABILITY_CHANGED||b===c("ShortProfilesActionTypes").PROFILE_UPDATED||b===c("ChatUnreadCountActionTypes").COUNT_UPDATED){this.__emitChange();return}for(var d in this.$ChatSidebarStore3)if(Object.prototype.hasOwnProperty.call(this.$ChatSidebarStore3,d)&&this.$ChatSidebarStore3[d]!==this.$ChatSidebarStore2[d]){this.__emitChange();break}};e.getPrevState=function(){return this.$ChatSidebarStore2};e.getState=function(){return this.$ChatSidebarStore3};e.isInitialized=function(){return this.$ChatSidebarStore3.initialized};e.isLoaded=function(){return this.$ChatSidebarStore3.loaded};e.isAfterDomLoad=function(){return this.$ChatSidebarStore3.isAfterDomLoad};e.isEnabled=function(){return this.$ChatSidebarStore3.enabled};e.getInitTime=function(){return this.$ChatSidebarStore3.initTime};e.getVisibleType=function(){return this.$ChatSidebarStore3.visible};e.getUsersData=function(a){a=this.getOrderedPresenceUserList(a);var b=c("InitialChatFriendsList").nearby,d=c("CurrentUser").isWorkUser()?c("PresenceOrderedList").getAllSorted(a.concat(b)).filter(function(a){a=c("ShortProfilesStore").getNow(a);return!a||a.type==="fb4c"}):c("PresenceOrderedList").getAvailableSorted(a.concat(b)),e=c("CurrentUser").isWorkUser()?c("PresenceOrderedList").getAllSorted(a.concat(b)).filter(function(a){a=c("ShortProfilesStore").getNow(a);return a&&a.type!=="fb4c"}):[];a=a.filter(function(a){return!b||b.indexOf(a)===-1});var f=j(a);a=c("PresencePrivacy").getOnlinePolicy()===c("PresencePrivacy").ONLINE_TO_WHITELIST&&c("PresencePrivacy").getVisibility()?a.filter(function(a){return!c("PresencePrivacy").allows(a)}):[];return{availableUsers:d,topUsers:f,workOthers:e,offlineUsers:a}};e.getExtraData=function(a){var b=c("InitialChatFriendsList").groups,e=c("InitialChatFriendsList").nearby,f=c("InitialChatFriendsList").adminedPages,g=c("InitialChatFriendsList").marketplaceThreads,h=c("InitialChatFriendsList").pageListModule,i=c("InitialChatFriendsList").pymmList;a--;d("ChatConfig").get("show_header")&&a--;var k=!c("ChatOptions").getSetting("hide_businesses")&&i&&i.pages;k&&(a-=3);f=c("ChatOptions").getSetting("hide_admined_pages")?[]:f;f.length&&(a-=f.length+1);var l=a,m=a;b=this.getGroupsToShow(b);var n=b.length;n===0&&!c("ChatOptions").getSetting("hide_groups")&&n++;n>0&&(m-=n+1);d("ChatConfig").get("nearby_friends_www_chatbar")&&e.length>0&&(m-=e.length+1);d("ChatConfig").get("show_admined_pages")&&f.length>0&&(m-=f.length+1);n=k&&i?i:{pages:[]};d("ChatConfig").get("show_businesses")&&n.pages.length>0&&(m-=2);m=Math.min(a,Math.max(m,d("ChatConfig").get("min_top_friends")||0));k=j(e);return{isUserOffline:c("PresencePrivacy").isUserOffline(),groups:b,numTopFriends:m,nearby:k,marketplaceThreads:g,maxThreadSlots:l,adminedPages:f,pageListModule:h,pymmList:n}};e.getGroupsToShow=function(a){if(c("ChatOptions").getSetting("hide_groups"))return[];return a.length>1?a.sort(function(a,b){return c("PresenceStatus").getGroup(b.mercury_thread.participants)-c("PresenceStatus").getGroup(a.mercury_thread.participants)}).slice(0,d("ChatConfig").getNumber("num_groups_to_show")):a};e.getOrderedPresenceUserList=function(a){if(this.$ChatSidebarStore1&&Array.isArray(this.$ChatSidebarStore1))return i(this.$ChatSidebarStore1,a);this.$ChatSidebarStore1=h(c("InitialChatFriendsList").list)||[];return i(this.$ChatSidebarStore1,a)};e.getStatusMap=function(a,b){var d={},e={};a.forEach(function(a){if(b){var f=c("PresenceStatusStore").getIsPlaying(a);d[a]=f}f=c("PresenceStatusStore").get(a);f===c("AvailableListConstants").ACTIVE&&(e[a]=f)});return{statusMap:e,playingMap:d}};return b}(c("FluxStore"));a.__moduleID=f.id;b=new a();g["default"]=b}),98);
__d("FantaHider",["ifRequired"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("ifRequired")("FantaTabsSlimApp",function(a){a.hide()},function(){c("ifRequired")("FantaTabsReactApp",function(a){a.hide()})})}function b(){c("ifRequired")("FantaTabsSlimApp",function(a){a.unhide()},function(){c("ifRequired")("FantaTabsReactApp",function(a){a.unhide()})})}g.hide=a;g.unhide=b}),98);
__d("FBStoriesViewer2",["csx","cx","Arbiter","CSS","ChatSidebarActions","ChatSidebarStore","DOM","DOMQuery","FBLogger","FBStoriesTrayReloadXHPTray","FantaHider","PageTransitions","ReactDOM","StoriesArchiveCardStoreForBlue","StoriesCometPlaceholder.react","StoriesLoggingConstants","StoriesTrayLoggerSessionProvider","StoriesViewer2URI","URI","UserAgent","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("deferredLoadComponent")(c("requireDeferred")("StoriesViewerSuspenseRoot.react").__setRef("FBStoriesViewer2")),l=c("deferredLoadComponent")(c("requireDeferred")("StoriesViewerSingleBucketRoot.react").__setRef("FBStoriesViewer2")),m=c("deferredLoadComponent")(c("requireDeferred")("StoriesArchiveRoot.react").__setRef("FBStoriesViewer2")),n="fb_stories_theater",o=4;a=function(){a.getInstance=function(){this.$9||(a.$9=new a());return a.$9};a.open=function(b){a.getInstance().open(b)};function a(){var a=this;this.$6=null;this.$7=null;this.$8=!1;this.$13=function(b){if(d("StoriesViewer2URI").isValid(b))return!0;a.$10();a.$7&&a.$7.unsubscribe();var e=a.$6;if(e&&b.getQualifiedURI().toString()===e.getQualifiedURI().toString()){b.stripTrailingSlash().getPath()===""&&d("FBStoriesTrayReloadXHPTray").reloadTray();c("PageTransitions").transitionComplete();return!0}return!1};this.$1=!1;this.$3=d("DOMQuery").scry(document.body,"._li")[0]}var b=a.prototype;b.toggle=function(a,b){a?this.open(b):this.$10()};b.open=function(a){var b=this,e=a.bucketID,f=a.cardID;this.$1&&this.$10();var g=function e(f){if(d("StoriesViewer2URI").isValid(f)===!1){c("FBLogger")("fbstories").mustfix("Stories Viewer Transition Handler hit with non story viewer URL with uri: "+f.getPath());return!1}c("PageTransitions").removeHandler(e,o);b.$11(a);c("PageTransitions").transitionComplete();return!0};c("PageTransitions").registerHandler(g,o);this.$6=c("PageTransitions").getCurrentURI();this.$8=c("PageTransitions").isTransitioning();c("PageTransitions").go(d("StoriesViewer2URI").getURI(e,f))};b.closeArchiveDialogAndRefresh=function(){c("StoriesArchiveCardStoreForBlue").DeletedStoryList.size>0&&(c("StoriesArchiveCardStoreForBlue").DeletedStoryList.forEach(function(a){if(c("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap.has(a)){var b=c("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap.get(a);b&&(b.onDeleted(),c("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap["delete"](a))}}),c("StoriesArchiveCardStoreForBlue").DeletedStoryList.clear()),c("StoriesArchiveCardStoreForBlue").SeenStoryList.size>0&&(c("StoriesArchiveCardStoreForBlue").SeenStoryList.forEach(function(a){if(c("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap.has(a)){a=c("StoriesArchiveCardStoreForBlue").StoriesArchiveDataMap.get(a);a&&a.onSeenStory()}}),c("StoriesArchiveCardStoreForBlue").SeenStoryList.clear()),this.$10()};b.navigateToEntryPoint=function(){this.$6&&d("StoriesViewer2URI").isValid(this.$6)&&(this.$6=new(c("URI"))("/"),this.$8=!1),this.$6?c("PageTransitions").go(this.$6):c("URI").go("/")};b.$12=function(a){var b=a.bucketID,e=a.bucketListFetchPolicy,f=a.cardID,g=a.currentTime,h=a.openSource,i=a.traySessionID,o=a.viewerSessionID,p=a.tilePosition;a=a.trackingString;d("CSS").addClass(this.$3,"_72b0");document.body&&d("CSS").addClass(document.body,"_7d54");var q=c("DOM").create("div",{id:n});d("CSS").setClass(q,"_74r7");var r=c("DOM").create("div");c("DOM").appendContent(r,q);this.$4=r;this.$2=q;d("CSS").setClass(r,"_74r8");c("UserAgent").isBrowser("Edge")||d("CSS").addClass(r,"_7qac");c("DOM").appendContent(this.$3,r);r=null;if(h===c("StoriesLoggingConstants").ACTION_SOURCE.ARCHIVE)g!=null&&(r=j.jsx(m,{currentStoryTime:g,cardID:f||"",fadeIn:!0,openSource:c("StoriesLoggingConstants").ACTION_SOURCE.ARCHIVE,traySessionID:i,viewerSessionID:o}));else{g=h===c("StoriesLoggingConstants").ACTION_SOURCE.FACEBOOK_CHAT_TAB||h===c("StoriesLoggingConstants").ACTION_SOURCE.MESSENGER_DOT_COM||h===c("StoriesLoggingConstants").ACTION_SOURCE.PAGE_PROFILE||h===c("StoriesLoggingConstants").ACTION_SOURCE.POST_HEADER||h===c("StoriesLoggingConstants").ACTION_SOURCE.TODAY_IN;if(g){r=j.jsx(l,{bucketID:b,cardID:f||"",fadeIn:!0,openSource:(g=h)!=null?g:c("StoriesLoggingConstants").ACTION_SOURCE.TRAY,traySessionID:i,tilePosition:p,viewerSessionID:o})}else{r=j.jsx(k,{bucketID:b,bucketListFetchPolicy:e,cardID:f||"",fadeIn:!0,openSource:(g=h)!=null?g:c("StoriesLoggingConstants").ACTION_SOURCE.TRAY,traySessionID:i,tilePosition:p,viewerSessionID:o})}}e=b==="";d("ReactDOM").render(j.jsx(j.Suspense,{fallback:j.jsx(c("StoriesCometPlaceholder.react"),{isNullState:e}),children:j.jsx(c("StoriesTrayLoggerSessionProvider"),{trackingStrings:new Map([[b,a]]),children:r})}),q)};b.openDialogMessenger=function(a){this.openDialog(a)};b.openDialog=function(a){c("Arbiter").inform("jewel/hide");if(this.$1)return;this.$1=!0;this.$12(a)};b.openDialogArchive=function(a){this.$11(a)};b.$11=function(a){var b=this;c("Arbiter").inform("jewel/hide");this.$1=!0;this.$7=c("Arbiter").subscribe("page_transition",function(a,c){a=c.uri;if(d("StoriesViewer2URI").isValid(a))return;if(!b.$1){b.$7&&b.$7.unsubscribe();return}b.$13(a)});this.$12(a);d("FantaHider").hide();c("ChatSidebarStore").isEnabled()?(this.$5=c("ChatSidebarStore").getVisibleType(),d("ChatSidebarActions").disable()):this.$5=null;c("PageTransitions").registerHandler(this.$13)};b.$14=function(){this.$2!=null&&(d("ReactDOM").unmountComponentAtNode(this.$2),this.$2=null),d("CSS").removeClass(this.$3,"_72b0"),document.body&&d("CSS").removeClass(document.body,"_7d54"),this.$4!=null&&(c("DOM").remove(this.$4),this.$4=null)};b.closeDialogMessenger=function(){this.closeDialog()};b.closeDialog=function(){if(this.$1===!1)return;this.$14();this.$1=!1};b.$10=function(){if(this.$1===!1)return;c("PageTransitions").removeHandler(this.$13);this.$14();d("FantaHider").unhide();this.$5!=null&&d("ChatSidebarActions").enable(this.$5);this.$1=!1};return a}();g["default"]=a}),98);
__d("Dialog",["fbt","Animation","Arbiter","AsyncRequest","Button","CSS","ContextualThing","DOM","Env","Event","Focus","Form","HTML","Keys","Locale","PageTransitions","Parent","Run","Style","URI","Vector","bind","createArrayFromMixed","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","shield"],(function $module_Dialog(global,require,importDefault,importNamespace,requireLazy,module,exports,fbt){var _supportsPositionFixed2=function _supportsPositionFixed(){var body=document.body;if(!body)return!1;var test=document.createElement("div"),control=document.createElement("div");body.insertBefore(test,body.firstChild);body.insertBefore(control,body.firstChild);test.style.position="fixed";test.style.top="20px";var result=test.offsetTop!==control.offsetTop;body.removeChild(test);body.removeChild(control);_supportsPositionFixed2=importDefault("emptyFunction").thatReturns(result);return result},Dialog=function(){function Dialog(model){this._show_loading=!0,this._auto_focus=!0,this._submit_on_enter=!1,this._fade_enabled=!0,this._onload_handlers=[],this._top=125,this._uniqueID="dialog_"+Dialog._globalCount++,this._content=null,this._obj=null,this._popup=null,this._overlay=null,this._causal_elem=null,this._previous_focus=null,this._buttons=[],this._buildDialog(),model&&this._setFromModel(model),Dialog._init()}var _proto=Dialog.prototype;_proto.show=function show(){this._showing=!0;this._async_request?this._show_loading&&this.showLoading():this._update();return this};_proto.showLoading=function showLoading(){this._loading=!0;importNamespace("CSS").addClass(this._frame,"dialog_loading_shown");this._renderDialog();return this};_proto.hide=function hide(){if(!this._showing&&!this._loading)return this;this._showing=!1;this._autohide_timeout&&(clearTimeout(this._autohide_timeout),this._autohide_timeout=null);this._fade_enabled&&Dialog._stack.length<=1?this._fadeOut():this._hide();return this};_proto.cancel=function cancel(){(!this._cancelHandler||this._cancelHandler()!==!1)&&this.hide()};_proto.getRoot=function getRoot(){return this._obj};_proto.getBody=function getBody(){return importDefault("DOM").scry(this._obj,"div.dialog_body")[0]};_proto.getButtonElement=function getButtonElement(button){typeof button==="string"&&(button=Dialog._findButton(this._buttons,button));if(!button||!button.name)return null;var inputs=importDefault("DOM").scry(this._popup,"input"),name_filter=function name_filter(elem){return elem.name==button.name};return inputs.filter(name_filter)[0]||null};_proto.getContentNode=function getContentNode(){return importDefault("DOM").find(this._content,"div.dialog_content")};_proto.getFormData=function getFormData(){return importNamespace("Form").serialize(this.getContentNode())};_proto.setAllowCrossPageTransition=function setAllowCrossPageTransition(allow){this._cross_transition=allow;return this};_proto.setAllowCrossQuicklingNavigation=function setAllowCrossQuicklingNavigation(allow){this._cross_quickling=allow;return this};_proto.setShowing=function setShowing(){this.show();return this};_proto.setHiding=function setHiding(){this.hide();return this};_proto.setTitle=function setTitle(title){var node=this._nodes.title,inner_node=this._nodes.title_inner,content_node=this._nodes.content;importDefault("DOM").setContent(inner_node,this._format(title||"",!0));importNamespace("CSS").conditionShow(node,!!title);importNamespace("CSS").conditionClass(content_node,"dialog_content_titleless",!title);return this};_proto.setInvertTitleColor=function setInvertTitleColor(invert){invert?this._nodes.title.className="dialog_title_inverted":this._nodes.title.className="dialog_title";return this};_proto.setBody=function setBody(body){importDefault("DOM").setContent(this._nodes.body,this._format(body));return this};_proto.setHiddenFields=function setHiddenFields(hidden_fields){importDefault("DOM").setContent(this._nodes.hidden_fields,this._format(hidden_fields));return this};_proto.setExtraData=function setExtraData(data){this._extra_data=data;return this};_proto.setReturnData=function setReturnData(data){this._return_data=data;return this};_proto.setShowLoading=function setShowLoading(show){this._show_loading=show;return this};_proto.setFullBleed=function setFullBleed(is_full_bleed){this._full_bleed=is_full_bleed;this._updateWidth();importNamespace("CSS").conditionClass(this._obj,"full_bleed",is_full_bleed);return this};_proto.setCausalElement=function setCausalElement(elem){this._causal_elem=elem;return this};_proto.setUserData=function setUserData(data){this._user_data=data;return this};_proto.getUserData=function getUserData(){return this._user_data};_proto.setAutohide=function setAutohide(autohide){autohide?this._showing?this._autohide_timeout=setTimeout(importDefault("shield")(this.hide,this),autohide):this._autohide=autohide:(this._autohide=null,this._autohide_timeout&&(clearTimeout(this._autohide_timeout),this._autohide_timeout=null));return this};_proto.setSummary=function setSummary(summary){var node=this._nodes.summary;importDefault("DOM").setContent(node,this._format(summary||""));importNamespace("CSS").conditionShow(node,!!summary);return this};_proto.setButtons=function setButtons(b){var buttons,button;!Array.isArray(b)?buttons=Array.from(arguments):buttons=b;for(var i=0;i<buttons.length;++i){var currButton=buttons[i];typeof currButton==="string"&&(button=Dialog._findButton(Dialog._STANDARD_BUTTONS,currButton),buttons[i]=button)}this._buttons=buttons;var button_content=[];if(buttons&&buttons.length>0)for(var ii=0;ii<buttons.length;ii++){button=buttons[ii];if(!button)continue;var button_input=importDefault("DOM").create("input",{type:"button",name:button.name||"",value:button.label}),button_node=importDefault("DOM").create("label",{className:"uiButton uiButtonLarge uiButtonConfirm"},button_input);button.className&&(button.className.split(/\s+/).forEach(function(e){importNamespace("CSS").addClass(button_node,e)}),importNamespace("CSS").hasClass(button_node,"inputaux")&&(importNamespace("CSS").removeClass(button_node,"inputaux"),importNamespace("CSS").removeClass(button_node,"uiButtonConfirm")),importNamespace("CSS").hasClass(button_node,"uiButtonSpecial")&&importNamespace("CSS").removeClass(button_node,"uiButtonConfirm"));button.icon&&importDefault("DOM").prependContent(button_node,importDefault("DOM").create("img",{src:button.icon,className:"img mrs"}));button.disabled&&importDefault("Button").setEnabled(button_node,!1);importDefault("Event").listen(button_input,"click",this._handleButton.bind(this,button.name));for(var attr in button)attr.indexOf("data-")===0&&attr.length>5&&button_input.setAttribute(attr,button[attr]);button_content.push(button_node)}importDefault("DOM").setContent(this._nodes.buttons,button_content);this._updateButtonVisibility();return this};_proto.setButtonsMessage=function setButtonsMessage(message){importDefault("DOM").setContent(this._nodes.button_message,this._format(message||""));this._has_button_message=!!message;this._updateButtonVisibility();return this};_proto._updateButtonVisibility=function _updateButtonVisibility(){var show=this._buttons.length>0||this._has_button_message;importNamespace("CSS").conditionShow(this._nodes.button_wrapper,show);importNamespace("CSS").conditionClass(this._obj,"omitDialogFooter",!show)};_proto.setClickButtonOnEnter=function setClickButtonOnEnter(input_id,button){this._clickOnEnterTarget=input_id;this._clickOnEnterListener||(this._clickOnEnterListener=importDefault("Event").listen(this._nodes.body,"keypress",function(event){var target=event.getTarget();target&&target.id===this._clickOnEnterTarget&&(importDefault("Event").getKeyCode(event)===importDefault("Keys").RETURN&&(this._handleButton(button),event.kill()));return!0}.bind(this)));return this};_proto.setStackable=function setStackable(stackable,shown){this._is_stackable=stackable;this._shown_while_stacked=stackable&&shown;return this};_proto.setHandler=function setHandler(handler){this._handler=handler;return this};_proto.setCancelHandler=function setCancelHandler(cancelHandler){this._cancelHandler=Dialog.call_or_eval.bind(null,this,cancelHandler);return this};_proto.setCloseHandler=function setCloseHandler(close_handler){this._close_handler=Dialog.call_or_eval.bind(null,this,close_handler);return this};_proto.clearHandler=function clearHandler(){return this.setHandler(null)};_proto.setPostURI=function setPostURI(post_uri,asynchronous,useParent){asynchronous===void 0&&(asynchronous=!0);if(useParent&&importDefault("Env").isCQuick){importDefault("PageTransitions").go(post_uri);return this}asynchronous?this.setHandler(this._submitForm.bind(this,"POST",post_uri)):this.setHandler(function(){importNamespace("Form").post(post_uri,this.getFormData()),this.hide()}.bind(this));return this};_proto.setGetURI=function setGetURI(get_uri){this.setHandler(this._submitForm.bind(this,"GET",get_uri));return this};_proto.setModal=function setModal(modal){this._modal=modal;importNamespace("CSS").conditionClass(this._obj,"generic_dialog_modal",modal);return this};_proto.setSemiModal=function setSemiModal(clickout){clickout?(this.setModal(!0),this._semiModalListener=importDefault("Event").listen(this._obj,"click",function(e){importDefault("DOM").contains(this._popup,e.getTarget())||this.hide()}.bind(this))):this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=clickout;return this};_proto.setWideDialog=function setWideDialog(is_wide){this._wide_dialog=is_wide;this._updateWidth();return this};_proto.setContentWidth=function setContentWidth(width){this._content_width=width;this._updateWidth();return this};_proto.setTitleLoading=function setTitleLoading(loading){loading===void 0&&(loading=!0);var header=importDefault("DOM").find(this._popup,"h2.dialog_title");header&&importNamespace("CSS").conditionClass(header,"loading",loading);return this};_proto.setSecure=function setSecure(is_secure){importNamespace("CSS").conditionClass(this._nodes.title,"secure",is_secure);return this};_proto.setClassName=function setClassName(class_name){class_name.split(/\s+/).forEach(importNamespace("CSS").addClass.bind(importNamespace("CSS"),this._obj));return this};_proto.setFadeEnabled=function setFadeEnabled(enabled){this._fade_enabled=enabled;return this};_proto.setFooter=function setFooter(footer){var node=this._nodes.footer;importDefault("DOM").setContent(node,this._format(footer||""));importNamespace("CSS").conditionShow(node,!!footer);return this};_proto.setAutoFocus=function setAutoFocus(focus){this._auto_focus=focus;return this};_proto.setTop=function setTop(top){this._top=top;this._resetDialogObj();return this};_proto.onloadRegister=function onloadRegister(handler){var _this=this;importDefault("createArrayFromMixed")(handler).forEach(function(i){typeof i==="string"&&(i=new Function(i)),_this._onload_handlers.push(i.bind(_this))});return this};_proto.setAsyncURL=function setAsyncURL(url){return this.setAsync(new(importDefault("AsyncRequest"))(url))};_proto.setAsync=function setAsync(async_request){var handler=function(response){if(this._async_request!=async_request)return;this._async_request=null;var payload=response.getPayload(),dialog=payload;this._loading&&(this._showing=!0);typeof dialog==="string"?this.setBody(dialog):this._setFromModel(dialog);this._update()}.bind(this),data=async_request.getData();data.__d=1;async_request.setData(data);var orig_handler=async_request.getHandler()||importDefault("emptyFunction");async_request.setHandler(function(response){orig_handler(response),handler(response)});var request=async_request,orig_error_handler=request.getErrorHandler()||importDefault("emptyFunction"),orig_trans_error_handler=request.getTransportErrorHandler()||importDefault("emptyFunction"),handle_error=function(){this._async_request=null,this._loading=!1,this._showing&&this._shown_while_stacked?this._update():this._hide(this._is_stackable)}.bind(this),server_cancel_handler=request.getServerDialogCancelHandler()||handle_error;request.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(response){handle_error(),orig_error_handler(response)}).setTransportErrorHandler(function(response){handle_error(),orig_trans_error_handler(response)}).setServerDialogCancelHandler(server_cancel_handler);async_request.send();this._async_request=async_request;this._showing&&this.show();return this};_proto._format=function _format(content,sane){sane===void 0&&(sane=!1);typeof content==="string"?sane||(content=importDefault("HTML")(content)):content=importDefault("HTML").replaceJSONWrapper(content);content instanceof importDefault("HTML")&&content.setDeferred(!0);return content};_proto._update=function _update(){if(!this._showing)return;this._autohide&&!this._async_request&&!this._autohide_timeout&&(this._autohide_timeout=setTimeout(importDefault("bind")(this,"hide"),this._autohide));importNamespace("CSS").removeClass(this._frame,"dialog_loading_shown");this._loading=!1;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;importNamespace("Focus").set(this._frame)};_proto._runOnloads=function _runOnloads(){for(var i=0;i<this._onload_handlers.length;++i)try{this._onload_handlers[i]()}catch(_unused){}this._onload_handlers=[]};_proto._updateWidth=function _updateWidth(){var dialog_width=2*(Dialog._BORDER_WIDTH+Dialog._HALO_WIDTH);this._content_width?(dialog_width+=this._content_width,this._full_bleed||(dialog_width+=2*Dialog._PADDING_WIDTH)):this._wide_dialog?dialog_width+=Dialog.SIZE.WIDE:dialog_width+=Dialog.SIZE.STANDARD;this._popup.style.width=dialog_width+"px"};_proto._updateZIndex=function _updateZIndex(){if(!this._hasSetZIndex&&this._causal_elem){var z_index=importDefault("getOverlayZIndex")(this._causal_elem),node=this._causal_elem;while(!z_index&&(node=importNamespace("ContextualThing").getContext(node)))z_index=importDefault("getOverlayZIndex")(node);this._hasSetZIndex=z_index>(this._modal?400:200);importDefault("Style").set(this._obj,"z-index",this._hasSetZIndex?z_index:"")}};_proto._renderDialog=function _renderDialog(){this._updateZIndex();this._pushOntoStack();this._obj.style.height=null;this._obj&&this._obj.style.display?(this._obj.style.visibility="hidden",this._obj.style.display="",this.resetDialogPosition(),this._obj.style.visibility="",this._obj.dialog=this):this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=!1;if(this._auto_focus){var input=importNamespace("Form").getFirstElement(this._content,['input[type="text"]',"textarea",'input[type="password"]']);input?setTimeout(importNamespace("Form").focusFirst.bind(this,this._content),0):this._submit_on_enter=!0}var bottom=importDefault("Vector").getElementDimensions(this._content).y+importDefault("Vector").getElementPosition(this._content).y;Dialog._bottoms.push(bottom);this._bottom=bottom;Dialog._updateMaxBottom();return this};_proto._buildDialog=function _buildDialog(){this._obj=importDefault("DOM").create("div",{className:"generic_dialog",id:this._uniqueID});this._obj.style.display="none";importDefault("DOM").appendContent(document.body,this._obj);this._popup||(this._popup=importDefault("DOM").create("div",{className:"generic_dialog_popup"}));this._obj.appendChild(this._popup);importNamespace("CSS").addClass(this._obj,"pop_dialog");importNamespace("Locale").isRTL()&&importNamespace("CSS").addClass(this._obj,"pop_dialog_rtl");importDefault("DOM").setContent(this._popup,importDefault("DOM").create("div",{className:"pop_container_advanced"},importDefault("DOM").create("div",{className:"pop_content",id:"pop_content"})));var frame=importDefault("DOM").find(this._popup,"div.pop_content");frame.setAttribute("tabIndex","0");frame.setAttribute("role","alertdialog");this._frame=this._content=frame;var loading=importDefault("DOM").create("div",{className:"dialog_loading"},fbt._("Inapakia...")),title_inner=importDefault("DOM").create("span"),title=importDefault("DOM").create("h2",{className:"dialog_title hidden_elem",id:"title_"+this._uniqueID},title_inner),summary=importDefault("DOM").create("div",{className:"dialog_summary hidden_elem"}),body=importDefault("DOM").create("div",{className:"dialog_body"}),buttons=importDefault("DOM").create("div",{className:"rfloat mlm"}),button_message=importDefault("DOM").create("div",{className:"dialog_buttons_msg"}),button_wrapper=importDefault("DOM").create("div",{className:"dialog_buttons clearfix hidden_elem"},[buttons,button_message]),footer=importDefault("DOM").create("div",{className:"dialog_footer hidden_elem"}),hidden_fields=importDefault("DOM").create("div",{className:"hidden_elem"}),content=importDefault("DOM").create("div",{className:"dialog_content"},[summary,body,button_wrapper,footer,hidden_fields]);this._nodes={summary:summary,body:body,buttons:buttons,button_message:button_message,button_wrapper:button_wrapper,footer:footer,hidden_fields:hidden_fields,content:content,title:title,title_inner:title_inner};importDefault("DOM").setContent(this._frame,[title,content,loading])};_proto._activeResize=function _activeResize(){this.last_offset_height!=this._content.offsetHeight&&(this.last_offset_height=this._content.offsetHeight,this.resetDialogPosition())};_proto.resetDialogPosition=function resetDialogPosition(){if(!this._popup)return;this._resetDialogObj()};_proto._resetDialogObj=function _resetDialogObj(){var total_margin=2*Dialog._PAGE_MARGIN,viewport_dimensions=importDefault("Vector").getViewportDimensions(),viewport_width=viewport_dimensions.x-total_margin,viewport_height=viewport_dimensions.y-total_margin,total_halo_width=2*Dialog._HALO_WIDTH,content_dimensions=importDefault("Vector").getElementDimensions(this._content),content_width=content_dimensions.x+total_halo_width,content_height=content_dimensions.y+total_halo_width,top=this._top,empty_horiz_space=viewport_width-content_width,empty_vertical_space=viewport_height-content_height;empty_vertical_space<0?top=Dialog._PAGE_MARGIN:top>empty_vertical_space&&(top=Dialog._PAGE_MARGIN+Math.max(empty_vertical_space,0)/2);var is_fixed=_supportsPositionFixed2();is_fixed||(top+=importDefault("Vector").getScrollPosition().y);importDefault("Style").set(this._popup,"marginTop",top+"px");var scroll=is_fixed&&(empty_horiz_space<0||empty_vertical_space<0);importNamespace("CSS").conditionClass(this._obj,"generic_dialog_fixed_overflow",scroll);var documentEl=document.documentElement;documentEl&&importNamespace("CSS").conditionClass(documentEl,"generic_dialog_overflow_mode",scroll)};_proto._fadeOut=function _fadeOut(temporary){if(!this._popup)return;try{new(importDefault("Animation"))(this._obj).duration(0).checkpoint().to("opacity",0).hide().duration(250).ondone(this._hide.bind(this,temporary)).go()}catch(_unused2){this._hide(temporary)}};_proto._hide=function _hide(temporary){this._obj&&(this._obj.style.display="none");var documentEl=document.documentElement;documentEl&&importNamespace("CSS").removeClass(documentEl,"generic_dialog_overflow_mode");clearInterval(this.active_hiding);if(this._bottom){var bs=Dialog._bottoms;bs.splice(bs.indexOf(this._bottom),1);Dialog._updateMaxBottom()}this._previous_focus&&document.activeElement&&importDefault("DOM").contains(this._obj,document.activeElement)&&importNamespace("Focus").set(this._previous_focus);if(temporary)return;this.destroy()};_proto.destroy=function destroy(){this._popFromStack(),clearInterval(this.active_hiding),this._obj&&(importDefault("DOM").remove(this._obj),this._obj=null),this._clickOnEnterListener&&this._clickOnEnterListener.remove(),this._close_handler&&this._close_handler({return_data:this._return_data})};_proto._handleButton=function _handleButton(button){typeof button==="string"&&(button=Dialog._findButton(this._buttons,button));if(!button)return;var value=Dialog.call_or_eval(button,button.handler);if(value===!1)return;button.name=="cancel"?this.cancel():Dialog.call_or_eval(this,this._handler,{button:button})!==!1&&this.hide()};_proto._submitForm=function _submitForm(method,uri,button){var data=this.getFormData();button&&(data[button.name]=button.name);this._extra_data&&Object.assign(data,this._extra_data);var async_request=new(importDefault("AsyncRequest"))().setURI(uri).setData(data).setMethod(method).setNectarModuleDataSafe(this._causal_elem).setReadOnly(method=="GET");this.setAsync(async_request);return!1};_proto._setFromModel=function _setFromModel(original_model){var model={};Object.assign(model,original_model);for(var propertyName in model){if(propertyName=="onloadRegister"){this.onloadRegister(model[propertyName]);continue}var mutator=this["set"+propertyName.substr(0,1).toUpperCase()+propertyName.substr(1)];mutator.apply(this,importDefault("createArrayFromMixed")(model[propertyName]))}};_proto._updateBottom=function _updateBottom(){var bottom=importDefault("Vector").getElementDimensions(this._content).y+importDefault("Vector").getElementPosition(this._content).y;Dialog._bottoms[Dialog._bottoms.length-1]=bottom;Dialog._updateMaxBottom()};_proto._pushOntoStack=function _pushOntoStack(){var stack=Dialog._stack;stack.length||importDefault("Arbiter").inform("layer_shown",{type:"Dialog"});importDefault("removeFromArray")(stack,this);stack.push(this);for(var i=stack.length-2;i>=0;i--){var prev_dialog=stack[i];!prev_dialog._is_stackable&&!prev_dialog._async_request?prev_dialog._hide():prev_dialog._shown_while_stacked||prev_dialog._hide(!0)}};_proto._popFromStack=function _popFromStack(){var stack=Dialog._stack,was_top=stack[stack.length-1]===this;importDefault("removeFromArray")(stack,this);stack.length?was_top&&stack[stack.length-1].show():importDefault("Arbiter").inform("layer_hidden",{type:"Dialog"})};Dialog._updateMaxBottom=function _updateMaxBottom(){Dialog.max_bottom=Math.max.apply(Math,Dialog._bottoms)};Dialog.newButton=function newButton(name,label,className,handler){var button={name:name,label:label,className:void 0,handler:void 0};className&&(button.className=className);handler&&(button.handler=handler);return button};Dialog.getCurrent=function getCurrent(){var stack=Dialog._stack;return stack.length?stack[stack.length-1]:null};Dialog.hideCurrent=function hideCurrent(){var dialog=Dialog.getCurrent();dialog&&dialog.hide()};Dialog.bootstrap=function bootstrap(uri,data,read_only,method,model,elem){data=data||{};Object.assign(data,new(importDefault("URI"))(uri).getQueryData());method=method||(read_only?"GET":"POST");var status_elem=importNamespace("Parent").byClass(elem,"stat_elem")||elem;if(status_elem&&importNamespace("CSS").hasClass(status_elem,"async_saving"))return!1;if(!(status_elem instanceof HTMLElement))return!1;var request=new(importDefault("AsyncRequest"))().setReadOnly(!!read_only).setMethod(method).setRelativeTo(elem).setStatusElement(status_elem).setURI(uri).setNectarModuleDataSafe(elem).setData(data),dialog=new Dialog(model).setCausalElement(elem).setAsync(request);dialog.show();return!1};Dialog.showFromModel=function showFromModel(model,causal_element){var dialog=new Dialog(model).setCausalElement(causal_element).show();model.hiding&&dialog.hide()};Dialog._init=function _init(){this._init=importDefault("emptyFunction"),importNamespace("Run").onLeave(importDefault("shield")(Dialog._tearDown,null,!1)),importDefault("Arbiter").subscribe("page_transition",importDefault("shield")(Dialog._tearDown,null,!0)),importDefault("Event").listen(document.documentElement,"keydown",function(event){importDefault("Event").getKeyCode(event)===importDefault("Keys").ESC&&!event.getModifiers().any?Dialog._escape()&&event.kill():importDefault("Event").getKeyCode(event)===importDefault("Keys").RETURN&&!event.getModifiers().any&&(Dialog._enter()&&event.kill())}),importDefault("Event").listen(window,"resize",function(event){var dialog=Dialog.getCurrent();dialog&&dialog._resetDialogObj()})};Dialog._findButton=function _findButton(buttons,name){if(buttons)for(var i=0;i<buttons.length;++i)if(buttons[i].name==name)return buttons[i];return null};Dialog._tearDown=function _tearDown(is_page_transition){var stack=Dialog._stack.slice();for(var ii=stack.length-1;ii>=0;ii--)(is_page_transition&&!stack[ii]._cross_transition||!is_page_transition&&!stack[ii]._cross_quickling)&&stack[ii].hide()};Dialog._escape=function _escape(){var dialog=Dialog.getCurrent();if(!dialog)return!1;var semi_modal=dialog._semi_modal,buttons=dialog._buttons;if(!buttons.length&&!semi_modal)return!1;if(semi_modal&&!buttons.length){dialog.hide();return!0}var button_to_simulate,cancel_button=Dialog._findButton(buttons,"cancel");if(dialog._cancelHandler){dialog.cancel();return!0}else if(cancel_button)button_to_simulate=cancel_button;else if(buttons.length==1)button_to_simulate=buttons[0];else return!1;dialog._handleButton(button_to_simulate);return!0};Dialog._enter=function _enter(){var dialog=Dialog.getCurrent();if(!dialog||!dialog._submit_on_enter)return!1;if(document.activeElement!=dialog._frame)return!1;var buttons=dialog._buttons;if(!buttons)return!1;dialog._handleButton(buttons[0]);return!0};Dialog.call_or_eval=function call_or_eval(obj,func,args){if(!func)return void 0;args=args||{};if(typeof func==="string"){var params=Object.keys(args).join(", ");func=eval("({f: function("+params+") { "+func+"}})").f}return func.apply(obj,importDefault("getObjectValues")(args))};return Dialog}();Dialog.OK={name:"ok",label:fbt._("SAWA")};Dialog.CANCEL={name:"cancel",label:fbt._("Katisha"),className:"inputaux"};Dialog.CLOSE={name:"close",label:fbt._("Funga")};Dialog.NEXT={name:"next",label:fbt._("Ifuatayo")};Dialog.SAVE={name:"save",label:fbt._("Hifadhi")};Dialog.SUBMIT={name:"submit",label:fbt._("Wasilisha")};Dialog.CONFIRM={name:"confirm",label:fbt._("Thibitisha")};Dialog.DELETE={name:"delete",label:fbt._("Futa")};Dialog._bottoms=[0];Dialog.max_bottom=0;Dialog._globalCount=0;Dialog.OK_AND_CANCEL=[Dialog.OK,Dialog.CANCEL];Dialog._STANDARD_BUTTONS=[Dialog.OK,Dialog.CANCEL,Dialog.CLOSE,Dialog.SAVE,Dialog.SUBMIT,Dialog.CONFIRM,Dialog.DELETE];Dialog.SIZE={WIDE:555,STANDARD:445};Dialog._HALO_WIDTH=10;Dialog._BORDER_WIDTH=1;Dialog._PADDING_WIDTH=10;Dialog._PAGE_MARGIN=40;Dialog._stack=[];global.Dialog=Dialog;exports["default"]=Dialog}),98);
__d("ErrorDialog",["Dialog","emptyFunction"],(function(a,b,c,d,e,f){var g={showAsyncError:function(a){try{return g.show(a.getErrorSummary(),a.getErrorDescription())}catch(b){alert(a)}},show:function(a,c,d,e){return new(b("Dialog"))().setTitle(a).setBody(c).setButtons([b("Dialog").OK]).setStackable(!0).setModal(!0).setHandler(d||b("emptyFunction")).setButtonsMessage(e||"").show()}};e.exports=g}),null);
__d("ResumableUploadServiceState.enum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CANCEL:"upload-cancel",FAIL:"upload-fail",FILE_TOO_LARGE:"upload-too-large",NOT_STARTED:"upload-not-started",PROGRESS:"upload-progress",START:"upload-start",SUCCESS:"upload-success",TRANSPORT_FAILURE:"upload-transport-fail"});f["default"]=a}),66);